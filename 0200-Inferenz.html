<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>2&nbsp; Inferenz ‚Äì Start:Bayes!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./0300-Wskt.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./img/Golem_hex.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0c3ef1a7a266e32c8f1c7e546cf8cabb.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-2f7cced78de7748216b8364af62012d1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-0c3ef1a7a266e32c8f1c7e546cf8cabb.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zus√§tzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zur√ºcksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script><link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta name="mermaid-theme" content="neutral">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script><script src="site_libs/quarto-diagram/mermaid-init.js"></script><link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="specifics/styles.css">
</head>
<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200-Inferenz.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="./0200-Inferenz.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Start:Bayes!</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/sebastiansauer/start-bayes" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Lesemodus umschalten">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Organisatorisches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einf√ºhrung</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Grundlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0200-Inferenz.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0300-Wskt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hallo, Wahrscheinlichkeit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0350-wskt2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Rechnen mit Wahrscheinlichkeit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400-Verteilungen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Verteilungen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500-Globusversuch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Der Globus-Versuch</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0600-Post.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Die Post befragen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Lineare Modelle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0800-gauss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Gauss-Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0900-lineare-modelle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Einfache lineare Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1050-Schaetzen-Testen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Sch√§tzen vs.&nbsp;Testen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1000-metrische-AV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Fallbeispiele</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Anhang</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1200-abschluss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Abschluss</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./definitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Definitionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theorems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Theoreme</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literaturverzeichnis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./imprint.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Impressum</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Datenschutzhinweise</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#lernsteuerung" id="toc-lernsteuerung" class="nav-link active" data-scroll-target="#lernsteuerung"><span class="header-section-number">2.1</span> Lernsteuerung</a>
  <ul>
<li><a href="#position-im-modulverlauf" id="toc-position-im-modulverlauf" class="nav-link" data-scroll-target="#position-im-modulverlauf"><span class="header-section-number">2.1.1</span> Position im Modulverlauf</a></li>
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">2.1.2</span> Lernziele</a></li>
  <li><a href="#begleitliteratur" id="toc-begleitliteratur" class="nav-link" data-scroll-target="#begleitliteratur"><span class="header-section-number">2.1.3</span> Begleitliteratur</a></li>
  <li><a href="#vorbereitung-im-eigenstudium" id="toc-vorbereitung-im-eigenstudium" class="nav-link" data-scroll-target="#vorbereitung-im-eigenstudium"><span class="header-section-number">2.1.4</span> Vorbereitung im Eigenstudium</a></li>
  <li><a href="#begleitvideos" id="toc-begleitvideos" class="nav-link" data-scroll-target="#begleitvideos"><span class="header-section-number">2.1.5</span> Begleitvideos</a></li>
  <li><a href="#wozu-ist-statistik-%C3%BCberhaupt-da" id="toc-wozu-ist-statistik-√ºberhaupt-da" class="nav-link" data-scroll-target="#wozu-ist-statistik-%C3%BCberhaupt-da"><span class="header-section-number">2.1.6</span> Wozu ist Statistik √ºberhaupt da?</a></li>
  </ul>
</li>
  <li>
<a href="#die-drei-zielarten-der-statistik" id="toc-die-drei-zielarten-der-statistik" class="nav-link" data-scroll-target="#die-drei-zielarten-der-statistik"><span class="header-section-number">2.2</span> Die drei Zielarten der Statistik</a>
  <ul>
<li>
<a href="#%C3%BCberblick" id="toc-√ºberblick" class="nav-link" data-scroll-target="#%C3%BCberblick"><span class="header-section-number">2.2.1</span> √úberblick</a>
  <ul class="collapse">
<li><a href="#beschreiben-deskriptiv" id="toc-beschreiben-deskriptiv" class="nav-link" data-scroll-target="#beschreiben-deskriptiv"><span class="header-section-number">2.2.1.1</span> üìÑ <em>Beschreiben</em> (deskriptiv)</a></li>
  <li><a href="#vorhersagen-pr%C3%A4diktiv-prognostisch" id="toc-vorhersagen-pr√§diktiv-prognostisch" class="nav-link" data-scroll-target="#vorhersagen-pr%C3%A4diktiv-prognostisch"><span class="header-section-number">2.2.1.2</span> üîÆ <em>Vorhersagen</em> (pr√§diktiv, prognostisch)</a></li>
  <li><a href="#erkl%C3%A4ren" id="toc-erkl√§ren" class="nav-link" data-scroll-target="#erkl%C3%A4ren"><span class="header-section-number">2.2.1.3</span> üîó Erkl√§ren</a></li>
  </ul>
</li>
  <li><a href="#zielart-beschreiben" id="toc-zielart-beschreiben" class="nav-link" data-scroll-target="#zielart-beschreiben"><span class="header-section-number">2.2.2</span> Zielart <em>Beschreiben</em></a></li>
  <li><a href="#zielart-vorhersagen" id="toc-zielart-vorhersagen" class="nav-link" data-scroll-target="#zielart-vorhersagen"><span class="header-section-number">2.2.3</span> Zielart <em>Vorhersagen</em></a></li>
  <li><a href="#zielart-erkl%C3%A4ren-populationsinferenz" id="toc-zielart-erkl√§ren-populationsinferenz" class="nav-link" data-scroll-target="#zielart-erkl%C3%A4ren-populationsinferenz"><span class="header-section-number">2.2.4</span> Zielart <em>Erkl√§ren</em> ‚Äì Populationsinferenz</a></li>
  </ul>
</li>
  <li>
<a href="#modellieren" id="toc-modellieren" class="nav-link" data-scroll-target="#modellieren"><span class="header-section-number">2.3</span> Modellieren</a>
  <ul>
<li><a href="#modellieren-als-grundraster-des-erkennens" id="toc-modellieren-als-grundraster-des-erkennens" class="nav-link" data-scroll-target="#modellieren-als-grundraster-des-erkennens"><span class="header-section-number">2.3.1</span> Modellieren als Grundraster des Erkennens</a></li>
  </ul>
</li>
  <li>
<a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression"><span class="header-section-number">2.4</span> Regression</a>
  <ul>
<li><a href="#regression-zum-modellieren" id="toc-regression-zum-modellieren" class="nav-link" data-scroll-target="#regression-zum-modellieren"><span class="header-section-number">2.4.1</span> Regression zum Modellieren</a></li>
  <li><a href="#in-voller-pracht" id="toc-in-voller-pracht" class="nav-link" data-scroll-target="#in-voller-pracht"><span class="header-section-number">2.4.2</span> In voller Pracht</a></li>
  </ul>
</li>
  <li>
<a href="#ungewissheit" id="toc-ungewissheit" class="nav-link" data-scroll-target="#ungewissheit"><span class="header-section-number">2.5</span> Ungewissheit</a>
  <ul>
<li><a href="#inferenz-beinhaltet-ungewissheit" id="toc-inferenz-beinhaltet-ungewissheit" class="nav-link" data-scroll-target="#inferenz-beinhaltet-ungewissheit"><span class="header-section-number">2.5.1</span> Inferenz beinhaltet Ungewissheit</a></li>
  <li>
<a href="#zwei-arten-von-ungewissheit" id="toc-zwei-arten-von-ungewissheit" class="nav-link" data-scroll-target="#zwei-arten-von-ungewissheit"><span class="header-section-number">2.5.2</span> Zwei Arten von Ungewissheit</a>
  <ul class="collapse">
<li><a href="#betas-ungewissheit-zur-regressionsgeraden" id="toc-betas-ungewissheit-zur-regressionsgeraden" class="nav-link" data-scroll-target="#betas-ungewissheit-zur-regressionsgeraden"><span class="header-section-number">2.5.2.1</span> Betas: Ungewissheit zur Regressionsgeraden</a></li>
  <li><a href="#sigma-ungewissheit-zur-genauigkeit-der-vorhersage" id="toc-sigma-ungewissheit-zur-genauigkeit-der-vorhersage" class="nav-link" data-scroll-target="#sigma-ungewissheit-zur-genauigkeit-der-vorhersage"><span class="header-section-number">2.5.2.2</span> Sigma: Ungewissheit zur Genauigkeit der Vorhersage</a></li>
  </ul>
</li>
  <li><a href="#ich-wei%C3%9F-was-ich-nicht-wei%C3%9F-ungewissheit-angeben" id="toc-ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben" class="nav-link" data-scroll-target="#ich-wei%C3%9F-was-ich-nicht-wei%C3%9F-ungewissheit-angeben"><span class="header-section-number">2.5.3</span> Ich wei√ü, was ich nicht wei√ü: Ungewissheit angeben</a></li>
  <li><a href="#konfidenzintervall" id="toc-konfidenzintervall" class="nav-link" data-scroll-target="#konfidenzintervall"><span class="header-section-number">2.5.4</span> Konfidenzintervall</a></li>
  </ul>
</li>
  <li>
<a href="#frequentistische-inferenz-vs.-bayes-inferenz" id="toc-frequentistische-inferenz-vs.-bayes-inferenz" class="nav-link" data-scroll-target="#frequentistische-inferenz-vs.-bayes-inferenz"><span class="header-section-number">2.6</span> Frequentistische Inferenz vs.&nbsp;Bayes-Inferenz</a>
  <ul>
<li><a href="#frequentistische-inferenz-und-der-p-wert" id="toc-frequentistische-inferenz-und-der-p-wert" class="nav-link" data-scroll-target="#frequentistische-inferenz-und-der-p-wert"><span class="header-section-number">2.6.1</span> Frequentistische Inferenz und der p-Wert</a></li>
  <li><a href="#bayes-inferenz" id="toc-bayes-inferenz" class="nav-link" data-scroll-target="#bayes-inferenz"><span class="header-section-number">2.6.2</span> Bayes-Inferenz</a></li>
  <li><a href="#statistische-signifikanz" id="toc-statistische-signifikanz" class="nav-link" data-scroll-target="#statistische-signifikanz"><span class="header-section-number">2.6.3</span> Statistische Signifikanz</a></li>
  <li><a href="#frequentist-und-bayesianer" id="toc-frequentist-und-bayesianer" class="nav-link" data-scroll-target="#frequentist-und-bayesianer"><span class="header-section-number">2.6.4</span> Frequentist und Bayesianer</a></li>
  </ul>
</li>
  <li>
<a href="#vertiefung" id="toc-vertiefung" class="nav-link" data-scroll-target="#vertiefung"><span class="header-section-number">2.7</span> Vertiefung</a>
  <ul>
<li><a href="#vertiefung-frequentistische-konfidenzintervalle-werden-oft-falsch-verstanden-vertiefung" id="toc-vertiefung-frequentistische-konfidenzintervalle-werden-oft-falsch-verstanden-vertiefung" class="nav-link" data-scroll-target="#vertiefung-frequentistische-konfidenzintervalle-werden-oft-falsch-verstanden-vertiefung"><span class="header-section-number">2.7.1</span> Vertiefung ‚Äì Frequentistische Konfidenzintervalle werden oft falsch verstanden (Vertiefung)</a></li>
  <li>
<a href="#zielart-erkl%C3%A4ren-kausalinferenz" id="toc-zielart-erkl√§ren-kausalinferenz" class="nav-link" data-scroll-target="#zielart-erkl%C3%A4ren-kausalinferenz"><span class="header-section-number">2.7.2</span> Zielart <em>Erkl√§ren</em> ‚Äì Kausalinferenz</a>
  <ul class="collapse">
<li><a href="#studie-a-%C3%B6strogen" id="toc-studie-a-√∂strogen" class="nav-link" data-scroll-target="#studie-a-%C3%B6strogen"><span class="header-section-number">2.7.2.1</span> Studie A: √ñstrogen</a></li>
  </ul>
</li>
  <li><a href="#studie-b-blutdruck" id="toc-studie-b-blutdruck" class="nav-link" data-scroll-target="#studie-b-blutdruck"><span class="header-section-number">2.7.3</span> Studie B: Blutdruck</a></li>
  <li><a href="#studie-a-und-b-gleiche-daten-unterschiedliches-kausalmodell" id="toc-studie-a-und-b-gleiche-daten-unterschiedliches-kausalmodell" class="nav-link" data-scroll-target="#studie-a-und-b-gleiche-daten-unterschiedliches-kausalmodell"><span class="header-section-number">2.7.4</span> Studie A und B: Gleiche Daten, unterschiedliches Kausalmodell</a></li>
  <li><a href="#sorry-statistik-du-allein-schaffst-es-nicht" id="toc-sorry-statistik-du-allein-schaffst-es-nicht" class="nav-link" data-scroll-target="#sorry-statistik-du-allein-schaffst-es-nicht"><span class="header-section-number">2.7.5</span> Sorry, Statistik: Du allein schaffst es nicht</a></li>
  </ul>
</li>
  <li><a href="#fazit" id="toc-fazit" class="nav-link" data-scroll-target="#fazit"><span class="header-section-number">2.8</span> Fazit</a></li>
  <li>
<a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">2.9</span> Aufgaben</a>
  <ul>
<li><a href="#paper-pencil-aufgaben" id="toc-paper-pencil-aufgaben" class="nav-link" data-scroll-target="#paper-pencil-aufgaben"><span class="header-section-number">2.9.1</span> Paper-Pencil-Aufgaben</a></li>
  <li><a href="#aufgaben-f%C3%BCr-die-man-einen-computer-braucht" id="toc-aufgaben-f√ºr-die-man-einen-computer-braucht" class="nav-link" data-scroll-target="#aufgaben-f%C3%BCr-die-man-einen-computer-braucht"><span class="header-section-number">2.9.2</span> Aufgaben, f√ºr die man einen Computer braucht</a></li>
  </ul>
</li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="header-section-number">2.10</span> ‚Äî</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/sebastiansauer/start-bayes/blob/main/0200-Inferenz.qmd" class="toc-action"><i class="bi bi-github"></i>Quellcode anzeigen</a></li><li><a href="https://github.com/sebastiansauer/start-bayes/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200-Inferenz.html">Grundlagen</a></li><li class="breadcrumb-item"><a href="./0200-Inferenz.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="img/Golem_hex.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Bayes:Start!"><img src="img/Golem_hex.png" class="img-fluid figure-img" style="width:10.0%" alt="Bayes:Start!"></a></p>
<figcaption>Bayes:Start!</figcaption></figure>
</div>
<section id="lernsteuerung" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="lernsteuerung">
<span class="header-section-number">2.1</span> Lernsteuerung</h2>
<section id="position-im-modulverlauf" class="level3" data-number="2.1.1"><h3 data-number="2.1.1" class="anchored" data-anchor-id="position-im-modulverlauf">
<span class="header-section-number">2.1.1</span> Position im Modulverlauf</h3>
<p><a href="index.html#fig-modulverlauf" class="quarto-xref">Abbildung&nbsp;<span>1.1</span></a> gibt einen √úberblick zum aktuellen Standort im Modulverlauf.</p>
</section><section id="lernziele" class="level3" data-number="2.1.2"><h3 data-number="2.1.2" class="anchored" data-anchor-id="lernziele">
<span class="header-section-number">2.1.2</span> Lernziele</h3>
<p>Nach Absolvieren des jeweiligen Kapitels sollen folgende Lernziele erreicht sein.</p>
<p>Sie k√∂nnen ‚Ä¶</p>
<ul>
<li>die drei Zielarten der Statistik nennen und beschreiben k√∂nnen</li>
<li>die Definition von Inferenzstatistik sowie Beispiele f√ºr inferenzstatistische Fragestellungen nennen</li>
<li>zentrale Begriffe der Inferenzstatistik nennen und in Grundz√ºgen erkl√§ren</li>
<li>den Nutzen von Inferenzstatistik nennen</li>
<li>erl√§utern, in welchem Zusammenhang Ungewissheit zur Inferenzstatistik steht</li>
<li>anhand von Beispielen erkl√§ren, was ein statistisches Modell ist</li>
<li>die Grundkonzepte der Regression angeben</li>
<li>Unterschiede zwischen frequentistischer (‚Äúklassischer‚Äù) und Bayes-Inferenz benennen</li>
<li>Vor- und Nachteile der frequentistischen vs.&nbsp;Bayes-Inferenz diskutieren</li>
<li>Die grundlegende Herangehensweise zur Berechnung des p-Werts informell erkl√§ren</li>
</ul></section><section id="begleitliteratur" class="level3" data-number="2.1.3"><h3 data-number="2.1.3" class="anchored" data-anchor-id="begleitliteratur">
<span class="header-section-number">2.1.3</span> Begleitliteratur</h3>
<p>Bei <span class="citation" data-cites="gelman2021">Gelman et al. (<a href="references.html#ref-gelman2021" role="doc-biblioref">2021</a>)</span>, Kap. 1 findet sich eine Darstellung √§hnlich zu der in diesem Kapitel. Die Begleitliteratur ist nicht pr√ºfungsrelevant; sie dient zur Vertiefung und als Grundlage einer ausf√ºhrlicheren Erl√§uterung des Stoffes.</p>
</section><section id="vorbereitung-im-eigenstudium" class="level3" data-number="2.1.4"><h3 data-number="2.1.4" class="anchored" data-anchor-id="vorbereitung-im-eigenstudium">
<span class="header-section-number">2.1.4</span> Vorbereitung im Eigenstudium</h3>
<ul>
<li><a href="https://statistik1.netlify.app/010-rahmen">Statistik 1, Kap. ‚ÄúRahmen‚Äù</a></li>
<li>
<a href="https://statistik1.netlify.app/">Statistik 1</a>, dort alle Inhalte aller Kapitel zum Thema ‚ÄúModellieren‚Äù bzw. ‚ÄúRegression‚Äù</li>
<li><a href="">Statistik 1, Abschnitt zur Normalverteilung</a></li>
</ul></section><section id="begleitvideos" class="level3" data-number="2.1.5"><h3 data-number="2.1.5" class="anchored" data-anchor-id="begleitvideos">
<span class="header-section-number">2.1.5</span> Begleitvideos</h3>
<ul>
<li><a href="https://youtu.be/gcwWwBy0kPI">Video zur Inferenz, Teil 1</a></li>
<li><a href="https://https://youtu.be/QNMVi6IqQ90">Video zur Inferenz, Teil 2</a></li>
</ul></section><section id="wozu-ist-statistik-√ºberhaupt-da" class="level3" data-number="2.1.6"><h3 data-number="2.1.6" class="anchored" data-anchor-id="wozu-ist-statistik-√ºberhaupt-da">
<span class="header-section-number">2.1.6</span> Wozu ist Statistik √ºberhaupt da?</h3>
<p>üì∫ <a href="https://www.youtube.com/watch?v=gcwWwBy0kPI&amp;list=PLRR4REmBgpIGgz2Oe2Z9FcoLYBDnaWatN&amp;index=2">Ja, wozu ist Statistik eigentlich da?</a></p>
<p>Ja, diese Frage haben Sie sich auch schon mal gestellt? Abb. <a href="#fig-goals" class="quarto-xref">Abbildung&nbsp;<span>2.1</span></a> gibt einen √úberblick √ºber die Zielarten der statistikbasierten wissenschaftlichen Forschung.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Nach dieser Einteilung lassen sich drei Arten von Zielen unterscheiden: <em>Beschreiben</em>, <em>Vorhersagen</em> und <em>Erkl√§ren</em> <span class="citation" data-cites="shmueli2010">(<a href="references.html#ref-shmueli2010" role="doc-biblioref">Shmueli, 2010</a>)</span>.</p>
</section></section><section id="die-drei-zielarten-der-statistik" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="die-drei-zielarten-der-statistik">
<span class="header-section-number">2.2</span> Die drei Zielarten der Statistik</h2>
<section id="√ºberblick" class="level3" data-number="2.2.1"><h3 data-number="2.2.1" class="anchored" data-anchor-id="√ºberblick">
<span class="header-section-number">2.2.1</span> √úberblick</h3>
<section id="beschreiben-deskriptiv" class="level4" data-number="2.2.1.1"><h4 data-number="2.2.1.1" class="anchored" data-anchor-id="beschreiben-deskriptiv">
<span class="header-section-number">2.2.1.1</span> üìÑ <em>Beschreiben</em> (deskriptiv)</h4>
<ul>
<li>Wie stark ist der (lineare) Zusammenhang <span class="math inline">\(r\)</span> von Gr√∂√üe und Gewicht (bei Erwachsenen) in meiner Stichprobe?</li>
<li>Wie stark ist der (lineare) Zusammenhang <span class="math inline">\(b\)</span> von Lernzeit und Note (im Fach Statistik) in meinem Datensatz?</li>
<li>Haben unsere Kunden bisher Webshop A oder B bevorzugt, laut unseren Daten?</li>
</ul></section><section id="vorhersagen-pr√§diktiv-prognostisch" class="level4" data-number="2.2.1.2"><h4 data-number="2.2.1.2" class="anchored" data-anchor-id="vorhersagen-pr√§diktiv-prognostisch">
<span class="header-section-number">2.2.1.2</span> üîÆ <em>Vorhersagen</em> (pr√§diktiv, prognostisch)</h4>
<ul>
<li>Wie schwer ist wohl Herr X? Er ist ein deutscher erwachsener Mann der Gr√∂√üe 1,80m; mehr wissen wir nicht.</li>
<li>Welche Note kann man erwarten, wenn man nichts f√ºr die Klausur lernt?</li>
<li>Wie viel wird ein Kunde ausgeben, wenn er sich in der Variante <em>A</em> des Webshops aufh√§lt?</li>
</ul></section><section id="erkl√§ren" class="level4" data-number="2.2.1.3"><h4 data-number="2.2.1.3" class="anchored" data-anchor-id="erkl√§ren">
<span class="header-section-number">2.2.1.3</span> üîó Erkl√§ren</h4>
<p><strong>Kausalinferenz:</strong></p>
<ul>
<li>Ist Gr√∂√üe eine Ursache von Gewicht (bei deutschen M√§nnern)?</li>
<li>Wenn ich 100 Stunden lerne, welche Note schreibe ich dann?</li>
</ul>
<p><strong>Populationsinferenz:</strong></p>
<ul>
<li>Wie stark ist der (lineare) Zusammenhang <span class="math inline">\(b\)</span> von Lernzeit und Note (im Fach Statistik) in der Grundgesamtheit?</li>
<li>Wie stark ist der (lineare) Zusammenhang <span class="math inline">\(r\)</span> von Gr√∂√üe und Gewicht (bei Erwachsenen) in der Grundgesamtheit?</li>
<li>Bevorzugen unsere Kunden allgemein Webshop A oder B laut unseren Daten?</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Das Erkenntnisziel wissenschaftlicher Studien ist zumeist erkl√§rend. Anhand der verwendeten statistischen Methode (z.B. Regressionsanalyse) kann man <em>nicht</em> feststellen, zu welchem Erkenntnisziel die Studie geh√∂rt. Um das Erkenntnisziel festzustellen, liest man sich die Forschungsfrage oder das Ziel der Studie durch.</p>
</div>
</div>
<div id="exm-ziele-stat" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.1 (Beispiele f√ºr die Zielarten statistischer Analysen)</strong></span> &nbsp;</p>
<ul>
<li>Beschreiben: ‚ÄúWie gro√ü ist der Gender-Paygap in der Branche X im Zeitraum Y?‚Äù</li>
<li>Vorhersagen: Wenn eine Person, Mr.&nbsp;X, 100 Stunden auf die Statistikklausur lernen, welche Note kann diese Person dann erwarten?</li>
<li>Erkl√§ren: Wie viel bringt (mir) das Lernen auf die Statistikklausur?<span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<p>F√ºr die Wissenschaft ist <em>Erkl√§ren</em> das wichtigste Ziel. Bei wenig beackerten Wissenschaftsfeldern ist das <em>Beschreiben</em> ein sinnvoller erster Schritt. <em>Vorhersagen</em> ist mehr f√ºr die Praxis als f√ºr die Wissenschaft relevant.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-goals" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-goals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-goals">flowchart TD 
  A{Ziele} --&gt; B(Beschreiben)
  A --&gt; C(Vorhersagen)
  A --&gt; D(Erkl√§ren)
  B --&gt; E(Verteilung)
  B --&gt; F(Zusammenhang)
  C --&gt; H(Punktsch√§tzung)
  C --&gt; I(Bereichssch√§tzung)
  D --&gt; J(Kausalinferenz)
  D --&gt; K(Populationsinferenz)
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-goals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.1: Eine Einteilung zentraler Ziele von statistischen Analysen
</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="zielart-beschreiben" class="level3" data-number="2.2.2"><h3 data-number="2.2.2" class="anchored" data-anchor-id="zielart-beschreiben">
<span class="header-section-number">2.2.2</span> Zielart <em>Beschreiben</em>
</h3>
<p>Statistische Analysen mit dem Ziel zu beschreiben fassen die Daten zusammen (zu m√∂glichst aussagekr√§ftigen Kennzahlen). Beschreibende Statistik nennt man auch <em>deskriptive Statistik</em>; Mittelwert, Korrelation und Regressionskoeffizienten sind typische Kennzahlen (‚ÄúStatistiken‚Äù); s. <a href="#fig-beschreiben" class="quarto-xref">Abbildung&nbsp;<span>2.2</span></a>.</p>
<div id="fig-beschreiben" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-beschreiben-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-beschreiben" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-desk" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-desk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/desk-stats-zsmnfassen-crop.png" class="lightbox" data-gallery="fig-beschreiben" title="Abbildung&nbsp;2.2&nbsp;(a): Die deskriptive Statistik fasst eine Spalte zu einer einzelnen Zahl zusammen."><img src="img/desk-stats-zsmnfassen-crop.png" class="img-fluid figure-img" style="width:50.0%" data-ref-parent="fig-beschreiben"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-desk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Die deskriptive Statistik fasst eine Spalte zu einer einzelnen Zahl zusammen.
</figcaption></figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-beschreiben" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-desk2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-desk2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/desk-stat-zsmnfassen-cor-crop.png" class="lightbox" data-gallery="fig-beschreiben" title="Abbildung&nbsp;2.2&nbsp;(b): Zwei Spalten werden zu einer Zahl zusammengefasst"><img src="img/desk-stat-zsmnfassen-cor-crop.png" class="img-fluid figure-img" style="width:50.0%" data-ref-parent="fig-beschreiben"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-desk2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Zwei Spalten werden zu einer Zahl zusammengefasst
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-beschreiben-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.2: Beschreibende Statistik fasst eine oder mehr Variablen eines Datensatzes zu einer einzelnen Kennzahl zusammen.
</figcaption></figure>
</div>
<p>Der beschreibenden Statistik geht es <em>nicht</em> darum, Erkenntnisse zu ziehen, die √ºber die Daten hinaus gehen. So ist man in der beschreibenden Statistik nicht daran interessiert, Aussagen √ºber die zugrundeliegende Population anzustellen.</p>
<div id="exm-desk" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.2</strong></span> In einem H√∂rsaal sitzen 100 Studis. Alle schreiben Ihre K√∂rpergr√∂√üe auf einen Zettel. Die Dozentin sammelt die Zettel ein und rechnet dann den Mittelwert der K√∂rpergr√∂√üe der anwesenden Studentis aus. Voil√†: Deskriptive Statistik!<span class="math inline">\(\square\)</span></p>
</div>
<div id="def-desk" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.1 (Deskriptivstatistik)</strong></span> <em>Deskriptivstastistik</em> fasst Merkmale aus einer Stichprobe zu Kennzahlen (Statistiken) zusammen.</p>
</div>
</section><section id="zielart-vorhersagen" class="level3" data-number="2.2.3"><h3 data-number="2.2.3" class="anchored" data-anchor-id="zielart-vorhersagen">
<span class="header-section-number">2.2.3</span> Zielart <em>Vorhersagen</em>
</h3>
<p>Beim Vorhersagen versucht man, auf Basis von Daten, gegeben bestimmter Werte der UV den Wert einer AV vorherzusagen, s. <a href="#fig-vorhersagen" class="quarto-xref">Abbildung&nbsp;<span>2.3</span></a>.</p>
<div id="exm-toni-lernt" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.3 (Ali lernt f√ºr die Klausur)</strong></span> Oh nein, die Klausur im Fach Statistik steht an. Ali lernt ziemlich viel. Wie viel Punkte (von 100 m√∂glichen) wird er wohl erzielen? Ziehen wir ein einfaches statistisches Modell zur Rate, um eine Vorhersage f√ºr den ‚ÄúKlausurerfolg‚Äù von Ali zu erhalten. Wir k√∂nnen vom Modell eine einzelne Zahl (83) als Punkt-Sch√§tzwert bzw. Vorhersagewert erhalten oder einen Sch√§tzbereich (80-86 Punkte). <span class="math inline">\(\square\)</span></p>
</div>
<p>Hier ist das Regressionsmodell f√ºr Ali (<code>lm_toni</code>), s. <a href="#lst-toni" class="quarto-xref">Listing&nbsp;<span>2.1</span></a>.</p>
<div class="cell" data-layout-align="center">
<div id="lst-toni" class="r cell-code listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-toni-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;2.1: Regressionsmodell f√ºr Klausurerfolg als Funktion der Lernzeit (<code>lm_toni</code>)
</figcaption><div aria-describedby="lst-toni-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">noten2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/noten2.csv"</span><span class="op">)</span></span>
<span><span class="va">lm_toni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">noten2</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</figure>
</div>
</div>
<div id="fig-vorhersagen" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-vorhersagen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-vorhersagen" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-vorhersagen-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-vorhersagen-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-vorhersagen-1.png" class="lightbox" data-gallery="fig-vorhersagen" title="Abbildung&nbsp;2.3&nbsp;(a): Regressionsgerade mit Punkt-Vorhersage f√ºr Ali"><img src="0200-Inferenz_files/figure-html/fig-vorhersagen-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-vorhersagen"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-vorhersagen-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Regressionsgerade mit Punkt-Vorhersage f√ºr Ali
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-vorhersagen" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-vorhersagen-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-vorhersagen-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-vorhersagen-2.png" class="lightbox" data-gallery="fig-vorhersagen" title="Abbildung&nbsp;2.3&nbsp;(b): Regressionsgerade mit Vorhersagebereich (und herangezoomt) f√ºr Ali"><img src="0200-Inferenz_files/figure-html/fig-vorhersagen-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-vorhersagen"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-vorhersagen-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Regressionsgerade mit Vorhersagebereich (und herangezoomt) f√ºr Ali
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-vorhersagen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.3: Noten und Lernzeit: Rohdaten (a) und mit Modell (b). Mittelwerte sind mit gestrichelten Linien eingezeichnet. Die Vorhersage f√ºr Ali ist farbig markiert. Ali hat 42 Stunden gelernt f√ºr die Klausur; das Modell sagt ihm 83 Punkte (von 100) bzw. einen Bereich von 80 bis 86 Punkten voraus.
</figcaption></figure>
</div>
</section><section id="zielart-erkl√§ren-populationsinferenz" class="level3" data-number="2.2.4"><h3 data-number="2.2.4" class="anchored" data-anchor-id="zielart-erkl√§ren-populationsinferenz">
<span class="header-section-number">2.2.4</span> Zielart <em>Erkl√§ren</em> ‚Äì Populationsinferenz</h3>
<!-- TODO: -->
<!-- Attentio Grabber zum Einstieg -->
<!-- An Vorwissen ankn√ºpfen -->
<!-- -- gilt auch f√ºr √ºbrige Kapitel und √ºbrige B√ºcher -->
<!-- ### Inferenz als Generalisieren -->
<p>üì∫ <a href="https://www.youtube.com/watch?v=QNMVi6IqQ90&amp;list=PLRR4REmBgpIGgz2Oe2Z9FcoLYBDnaWatN">Was ist Inferenz?</a></p>
<p>Populationsinferenz ist das Schlie√üen von der Stichprobe auf die Grundgesamtheit</p>
<p>Statistische Populationsinferenz ‚Äì meist kurz als <em>Inferenz</em> bezeichnet ‚Äì hat zum Ziel, vom Teil aufs Ganze zu schlie√üen, bzw. vom Konkreten auf das Abstrakte. In der Datenanalyse hei√üt das: Was sagt meine Datensatz, der auf einer Stichprobe beruht, √ºber die zugrundeliegende Grundgesamtheit aus?</p>
<div class="{exr-stipro}">
<p>Typischerweise untersuchen im Rahmen einer statistischen Analyse eine <em>Stichprobe</em>, wie z.B. Ihr Freundeskreis, der leichtsinnig genug war, auf Ihre WhatsApp-Nachricht ‚ÄúTolle Studie zu dem Geheimnis des Gl√ºcks!!!‚Äù zu klicken. Ihr Freundeskreis ist ein <em>Teil</em> der Menschen (z.B. aus Deutschland), also eine Stichprobe. Schauen wir uns den Unterschied zwischen Stichprobe und Population n√§her an. <span class="math inline">\(\square\)</span></p>
</div>
<p>Stichprobe vs.&nbsp;Population</p>
<p>Nehmen wir an, wir m√∂chten herausfinden, wie gro√ü der Anteil der R-Fans in der Grundgesamthit (synonym: Population) aller Studierenden ist. Den Anteil der F-Fans bezeichnen wir der Einfachheit halber hier mit <code>A</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>Das <em>Grundproblem der Inferenzstatistik</em> ist, dass wir an Aussagen zur Grundgesamtheit interessiert sind, aber nur eine Stichprobe, also einen Ausschnitt oder eine Teilmenge der Grundgesamtheit (synonym: Population) vorliegen haben.</p>
<p>Wir m√ºssen also den Anteil der R-Fans <em>in der Population</em> auf Basis des Anteils <em>in der Stichprobe</em> schlie√üen: Wir verallgemeinern oder generalisieren von der Stichprobe auf die Grundgesamtheit, s. Abb. <a href="#fig-pop-sample" class="quarto-xref">Abbildung&nbsp;<span>2.4</span></a>.</p>
<div id="fig-pop-sample" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-pop-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="img/pvoll.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Population"><img src="img/pvoll.png" class="img-fluid figure-img"></a></p>
<figcaption>Population</figcaption></figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="img/psti.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Sample"><img src="img/psti.png" class="img-fluid figure-img"></a></p>
<figcaption>Sample</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pop-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.4: Population vs.&nbsp;Stichprobe. Die Stichprobe entnimmt einen <em>Teil</em> der Daten der Population. Autor: Karsten L√ºbke. Lizenz: OEM.
</figcaption></figure>
</div>
<p>H√§ufig ist das praktische Vorgehen recht simpel: Ah, in unserer Stichprobe sind 42% R-Fans!<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. Man schreibt: <span class="math inline">\(p = 0.42\)</span> (<code>p</code> wie <code>proportion</code>, engl. f√ºr ‚ÄúAnteil‚Äù). Die Stichprobe sei repr√§sentativ f√ºr die Grundgesamtheit aller Studierender. Messerscharf schlie√üen wir: In der Grundgesamtheit ist der Anteil der R-Fans auch 42%, <span class="math inline">\(\pi=0.42\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wir verwenden lateinische Buchstaben (p), um Kennzahlen einer Stichprobe zu benennen, und griechische (<span class="math inline">\(\pi\)</span>) f√ºr Populationen.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div id="def-inf" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.2 ((Populations-)Inferenzstatistik)</strong></span> <em>Populations-Inferenzstatistik</em> ‚Äì meist kurz als <em>Inferenzstatistik</em> bezeichnet ‚Äì ist ein Verfahren zum Schlie√üen von Statistiken (eine Kennzahl einer Stichprobe) auf <em>Parameter</em> (eine Kennzahl einer Grundgesamtheit). Inferenz bedeutet Schlie√üen bzw. Schlussfolgern: auf Basis von vorliegenden Wissen wird neues Wissen generiert. Inferenzstatistik ist ein Verfahren, das mathematische Modelle (oft aus der Stochastik) verwendet, um ausgehend von einer bestimmten Datenlage auf allgemeine Aussagen zu schlie√üen. Wir unterscheiden zwei Hauptarten der Inferenzstatistik:</p>
<ol type="1">
<li>Populationsinferenz</li>
<li>Kausalinferenz <span class="math inline">\(\square\)</span>
</li>
</ol>
</div>
<div id="exr-inf" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.1</strong></span> üèãÔ∏èÔ∏è Heute Nacht vor dem Schlafen wiederholen Sie die Definition. √úben Sie jetzt schon mal.<span class="math inline">\(\square\)</span></p>
</div>
<p>F√ºr jede beliebige Statistik (Kennzahl von Stichprobendaten) kann man die Methoden der Populationsinferenz verwenden, um den zugeh√∂rigen Kennwert (Parameter) der Population zu bestimmen, s. Tabelle <a href="#tbl-kennwerte" class="quarto-xref">Tabelle&nbsp;<span>2.1</span></a>. Da man die Parameter der Population so gut wie nie sicher kennt (schlie√ülich hat man meist nur Ausz√ºge, Teile der Population, also Stichproben), muss man sich mit <em>Sch√§tzwerten</em> begn√ºgen.</p>
<div class="cell" data-layout-align="center">
<div id="tbl-kennwerte" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-kennwerte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2.1: Bezeichnungen f√ºr Kennwerte
</figcaption><div aria-describedby="tbl-kennwerte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">Kennwert</th>
<th style="text-align: left;">Stichprobe</th>
<th style="text-align: left;">Grundgesamtheit (Aussprache)</th>
<th style="text-align: left;">Sch√§tzwert</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mittelwert</td>
<td style="text-align: left;"><span class="math inline">\(\bar{X}\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\mu\)</span> (m√º)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\mu}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Streuung</td>
<td style="text-align: left;"><span class="math inline">\(sd\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\sigma\)</span> (sigma)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\sigma}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anteil</td>
<td style="text-align: left;"><span class="math inline">\(p\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\pi\)</span> (pi)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\pi}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Korrelation</td>
<td style="text-align: left;"><span class="math inline">\(r\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\rho\)</span> (rho)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\rho}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Regression</td>
<td style="text-align: left;"><span class="math inline">\(b\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\beta\)</span> (beta)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\beta}\)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>F√ºr Statistiken (Daten einer Stichprobe) verwendet man <em>lateinische</em> Buchstaben; f√ºr Parameter (Population) verwendet man <em>griechische</em> Buchstaben.</p>
<div id="exr-greek" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.2</strong></span> üèãÔ∏è Geben Sie die griechischen Buchstaben f√ºr typische Statistiken an. Ohne auf die Tabelle zu schauen.üòú<span class="math inline">\(\square\)</span>!</p>
</div>
<p>Meist begn√ºgt man sich beim Analysieren von Daten nicht mit Aussagen f√ºr eine Stichprobe, sondern will auf eine Grundgesamtheit verallgemeinern.</p>
<p>Leider sind die Parameter einer Grundgesamtheit zumeist unbekannt, daher muss man sich mit <em>Sch√§tzungen</em> begn√ºgen. Sch√§tzwerte werden mit einem ‚ÄúDach‚Äù √ºber dem Kennwert gekennzeichnet, s. letzte Spalte in <a href="#tbl-kennwerte" class="quarto-xref">Tabelle&nbsp;<span>2.1</span></a>.</p>
<p>In der angewandten Forschung und im praktischen Leben interessieren h√§ufig Fragen wie: ‚ÄúWelche Entscheidung ist (wahrscheinlich) besser?‚Äù. Da bekanntlich (fast) keine Aussagen sicher sind, spielt <em>Wahrscheinlichkeit</em> eine wichtige Rolle in den Forschungsfragen bzw. in deren Antworten.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wahrscheinlichkeit wird oft mit <em>Pr</em> oder <em>p</em> abgek√ºrzt, f√ºr engl. <em>probability</em>.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div id="exm-inf" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.4</strong></span> Sie testen zwei Varianten Ihres Webshops (V1 und V2), die sich im Farbschema unterscheiden und ansonsten identisch sind: Hat das Farbschema einen Einfluss auf den Umsatz?</p>
<p>Dazu vergleichen Sie den mittleren Umsatz pro Tag von V1 vs.&nbsp;V2, <span class="math inline">\(\bar{X}_{V1}\)</span> und <span class="math inline">\(\bar{X}_{V2}\)</span>. Die Mittelwerte unterscheiden sich etwas, <span class="math inline">\(\bar{X}_{V1} &gt; \bar{X}_{V2}\)</span>. Sind diese Unterschiede ‚Äúzuf√§llig‚Äù oder ‚Äúsubstanziell‚Äù? Gilt also <span class="math inline">\(\mu_{V1} &gt; \mu_{V2}\)</span> oder gilt <span class="math inline">\(\mu_{V1} \le \mu_{V2}\)</span>? Wie gro√ü ist die Wahrscheinlichkeit <span class="math inline">\(Pr(\mu_{V1} &gt; \mu_{V2})\)</span>?</p>
</div>
<div id="exr-pred-maint" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.3</strong></span> üèãÔ∏è VERTIEFUNG <em>Predictive Maintenance</em> ist ein Anwendungsfeld inferenzstatistischer Modellierung. Lesen Sie dazu S. 3 <a href="https://www.rolandberger.com/publications/publication_pdf/roland_berger_vdma_predictive_maintenance_d_1.pdf">dieses Berichts</a>!<span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-regr-koeff-zielart" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.4 (Peer Instruction: Regressionskoeffizienten)</strong></span> Eine Regressionsgerade wird durch zwei Koeffizienten festgelegt: ihren Achsenabschnitt, <span class="math inline">\(\beta_0\)</span>, sowie ihre Steigung, <span class="math inline">\(\beta_1\)</span>. Berechnet man also eine Regressionsgerade, so verfolgt man damit welche Zielart der Statistik?</p>
<ol type="A">
<li>Beschreiben</li>
<li>Vorhersagen</li>
<li>Erkl√§ren - Kausal</li>
<li>Erkl√§ren - Population</li>
<li>Alle der oben genannten sind m√∂glich</li>
<li>Keine der oben genannten <span class="math inline">\(\square\)</span>
</li>
</ol>
</div>
</section></section><section id="modellieren" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="modellieren">
<span class="header-section-number">2.3</span> Modellieren</h2>
<section id="modellieren-als-grundraster-des-erkennens" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="modellieren-als-grundraster-des-erkennens">
<span class="header-section-number">2.3.1</span> Modellieren als Grundraster des Erkennens</h3>
<p>In In der Wissenschaft ‚Äì wie auch oft in der Technik, Wirtschaft oder im Alltag ‚Äì betrachtet man einen Teil der Welt n√§her, meist mit dem Ziel, eine Entscheidung zu treffen, was man tun wird oder mit dem Ziel, etwas zu lernen. Nun ist die Welt ein weites Feld. Jedes Detail zu ber√ºcksichtigen ist nicht m√∂glich. Wir m√ºssen die Sache vereinfachen: Alle Informationen ausblenden, die nicht zwingend n√∂tig sind. Aber gleichzeitig die Strukturelemente der wirklichen Welt, die f√ºr unsere Fragestellung zentral sind, beibehalten.</p>
<p>Dieses Tun nennt man <em>Modellieren</em>: Man erstellt sich ein Modell.</p>
<div id="def-model" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.3 (Modell)</strong></span> Ein Modell ist ein vereinfachtes Abbild der Wirklichkeit.<span class="math inline">\(\square\)</span></p>
</div>
<p>Der Nutzen eines Modells ist, einen (√ºberm√§√üig) komplexen Sachverhalt zu vereinfachen oder √ºberhaupt erst handhabbar zu machen. Man versucht zu vereinfachen, ohne Wesentliches wegzulassen. Der Speck muss weg, sozusagen. Das Wesentliche bleibt. Auf die Statistik bezogen hei√üt das, dass man einen Datensatz dabei so zusammenfasst, damit man das Wesentliche erkennt.</p>
<p>Was ist das ‚ÄúWesentliche‚Äù? Oft interessiert man sich f√ºr die Ursachen eines Ph√§nomens. Etwa: ‚ÄúWie kommt es blo√ü, dass ich ohne zu lernen die Klausur so gut bestanden habe?‚Äù<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> Noch allgemeiner ist man dabei h√§ufig am Zusammenhang von <code>X</code> und <code>Y</code> interessiert, s. <a href="#fig-xy" class="quarto-xref">Abbildung&nbsp;<span>2.5</span></a>, die ein Sinnbild von statistischen Modellen widergibt.</p>
<div id="fig-xy" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-xy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"></figure><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
X --&gt; Y


X1 --&gt; Y2
X2 --&gt; Y2
</pre>
</div>
<p></p>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-xy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.5: oben: Sinnbild eines einfachen statistischen Modellsb (eine UV, eine AV); unten: Sinnbild eines statistischen Modells, mit zwei UV
</figcaption></figure>
</div>
<p>Man kann <a href="#fig-xy" class="quarto-xref">Abbildung&nbsp;<span>2.5</span></a> als ein Sinnbild einer (mathematischen) Funktion lesen.</p>
<div id="def-fun" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.4 (Funktion)</strong></span> Eine mathematische Funktion <span class="math inline">\(f\)</span> setzt zwei Gr√∂√üen in Beziehung. <span class="math inline">\(\square\)</span></p>
</div>
<p>In Mathe-Sprech: <span class="math inline">\(f: X \rightarrow Y\)</span>, lies: ‚Äú<span class="math inline">\(f\)</span> bildet <span class="math inline">\(X\)</span> auf <span class="math inline">\(Y\)</span> ab.‚Äù</p>
<p>oder: <span class="math inline">\(y = f(x)\)</span>, lies: ‚ÄúY ist eine Funktion von X‚Äù. <span class="math inline">\(\square\)</span></p>
<p>Es h√∂rt sich zugespitzt an, aber eigentlich ist fast alles, was man tut, Modellieren: Wenn man den Anteil der R-Fans in einer Gruppe Studierender ausrechnet, macht man sich ein Modell: man vereinfacht diesen Ausschnitt der Wirklichkeit anhand einer statistischen Kennzahl, die das forschungsleitende Interesse zusammenfasst. Die Statistik kann man verstehen als ein Verfahren, dass wissenschaftliche Modelle in statistische √ºbersetzt und letztere dann einer empirischen Analyse unterzieht. Alle statistischen Ergebnisse beruhen auf Modelle und sind nur insoweit g√ºltig, wie das zugrundeliegende Modell g√ºltig ist.</p>
</section></section><section id="regression" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="regression">
<span class="header-section-number">2.4</span> Regression</h2>
<section id="regression-zum-modellieren" class="level3" data-number="2.4.1"><h3 data-number="2.4.1" class="anchored" data-anchor-id="regression-zum-modellieren">
<span class="header-section-number">2.4.1</span> Regression zum Modellieren</h3>
<p>Einflussreiche Leute schw√∂ren auf die Regressionsanalyse (<a href="#fig-gandalf" class="quarto-xref">Abbildung&nbsp;<span>2.6</span></a>).</p>
<div id="fig-gandalf" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gandalf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/einring.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Abbildung&nbsp;2.6: Eine Regression"><img src="img/einring.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gandalf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.6: Eine Regression
</figcaption></figure>
</div>
<p><a href="#fig-linfun" class="quarto-xref">Abbildung&nbsp;<span>2.7</span></a> zeigt ein interaktives Beispiel einer linearen Funktion. Sie k√∂nnen Punkte per Klick/Touch hinzuf√ºgen.</p>
<details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb2-0"><a href="#cb2-0" aria-hidden="true" tabindex="-1"></a>resetButton <span class="op">=</span> {</span>
<span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> resetButton <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>(<span class="st">"Reset"</span>)<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(resetButton)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    regressionPlot<span class="op">.</span><span class="fu">reset</span>()<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> resetButton<span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb3" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb3-0"><a href="#cb3-0" aria-hidden="true" tabindex="-1"></a>viewOptions <span class="op">=</span> {</span>
<span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> viewOptions <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Kein Fehler"</span><span class="op">,</span> <span class="st">"Absoluter Fehler"</span><span class="op">,</span> <span class="st">"Quadrierter Fehler"</span>]<span class="op">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">label</span><span class="op">:</span> <span class="st">"View"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="st">"Absoluter Fehler"</span> }</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(viewOptions)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    regressionPlot<span class="op">.</span><span class="fu">updateView</span>(viewOptions<span class="op">.</span><span class="at">value</span>)<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> viewOptions<span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb4" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb4-0"><a href="#cb4-0" aria-hidden="true" tabindex="-1"></a>rSquaredPlot <span class="op">=</span> <span class="fu">RSquaredPlot</span>({ <span class="dt">width</span><span class="op">:</span> width })</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb5" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb5-0"><a href="#cb5-0" aria-hidden="true" tabindex="-1"></a>regressionPlot <span class="op">=</span> {</span>
<span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionPlot <span class="op">=</span> <span class="fu">RegressionPlot</span>(data<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">,</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> width<span class="op">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xDomain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> ([x]) <span class="kw">=&gt;</span> x) <span class="op">+</span> <span class="dv">5</span>]<span class="op">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yDomain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> ([_<span class="op">,</span> y]) <span class="kw">=&gt;</span> y) <span class="op">+</span> <span class="dv">5</span>]<span class="op">,</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">showGrid</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Attach listener</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(regressionPlot)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    rSquaredPlot<span class="op">.</span><span class="fu">update</span>(<span class="kw">this</span><span class="op">.</span><span class="at">value</span><span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">transition</span>)<span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  rSquaredPlot<span class="op">.</span><span class="fu">update</span>(regressionPlot<span class="op">.</span><span class="at">value</span>)<span class="op">;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> regressionPlot<span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb6" data-startfrom="1" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>width <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> numPoints <span class="op">=</span> <span class="dv">15</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xShift <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yScale <span class="op">=</span> <span class="dv">6</span><span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yShift <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(numPoints)<span class="op">.</span><span class="fu">map</span>((i) <span class="kw">=&gt;</span> {</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> xCoord <span class="op">=</span> xShift <span class="op">+</span> xScale <span class="op">*</span> d3<span class="op">.</span><span class="fu">randomUniform</span>()()<span class="op">;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> yCoord <span class="op">=</span> yShift <span class="op">+</span> xCoord <span class="op">+</span> yScale <span class="op">*</span> d3<span class="op">.</span><span class="fu">randomUniform</span>()()<span class="op">;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [xCoord<span class="op">,</span> yCoord]<span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb7" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb7-0"><a href="#cb7-0" aria-hidden="true" tabindex="-1"></a>animation <span class="op">=</span> {</span>
<span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Perform opening animation</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> totalTime <span class="op">=</span> <span class="dv">6_000</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> ease <span class="op">=</span> d3<span class="op">.</span><span class="at">easeQuadOut</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">1</span><span class="op">,</span> data<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="fu">forEach</span>((i) <span class="kw">=&gt;</span> {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> [xCoord<span class="op">,</span> yCoord] <span class="op">=</span> data[i]<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>      regressionPlot<span class="op">.</span><span class="fu">updateDatapoint</span>(xCoord<span class="op">,</span> yCoord)<span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> totalTime <span class="op">*</span> <span class="fu">ease</span>(i <span class="op">/</span> data<span class="op">.</span><span class="at">length</span>))<span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb8" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb8-0"><a href="#cb8-0" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">RSquaredPlot</span>({</span>
<span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  data<span class="op">,</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  marginTop <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="co">// top margin, in pixels</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  marginRight <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// right margin, in pixels</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  marginBottom <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="co">// bottom margin, in pixels</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  marginLeft <span class="op">=</span> <span class="dv">53</span><span class="op">,</span> <span class="co">// left margin, in pixels</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  width <span class="op">=</span> <span class="dv">640</span><span class="op">,</span> <span class="co">// outer width, in pixels</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  height <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// outer height, in pixels</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  barHeight <span class="op">=</span> <span class="dv">25</span><span class="op">,</span> <span class="co">// height of bar, in pixels</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  titleSize <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// fontsize of title text</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  labelSize <span class="op">=</span> <span class="dv">12</span> <span class="co">// fontsize of label text</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>} <span class="op">=</span> {}) {</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (data <span class="op">===</span> <span class="kw">undefined</span>) data <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> d3</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([marginLeft<span class="op">,</span> width <span class="op">-</span> marginRight])<span class="op">;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto; height: intrinsic;"</span>)<span class="op">;</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw title.</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> titleGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">;</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="co">// titleGroup</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append("line")</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("stroke", "black")</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("x1", xScale(0))</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("x2", xScale(0))</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("y1", 0)</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("y2", height);</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  titleGroup</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"end"</span>)</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dominant-baseline"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-family"</span><span class="op">,</span> <span class="st">"serif"</span>)</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> titleSize)</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> <span class="op">-</span><span class="dv">10</span>)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> height <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"R¬≤"</span>)<span class="op">;</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw whole bar.</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"gainsboro"</span>)</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> marginTop)</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width <span class="op">-</span> marginLeft <span class="op">-</span> marginRight)</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height <span class="op">-</span> marginTop <span class="op">-</span> marginBottom)<span class="op">;</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw bar.</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> bar <span class="op">=</span> <span class="fu">updateBar</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"rect"</span>)<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw label</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> labelFormat <span class="op">=</span> d3<span class="op">.</span><span class="fu">format</span>(<span class="st">".2f"</span>)<span class="op">;</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> label <span class="op">=</span> <span class="fu">updateLabel</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"text"</span>)<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Update according to data.</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateBar</span>(rect<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> rect<span class="op">.</span><span class="fu">data</span>([data])<span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>      (enter) <span class="kw">=&gt;</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>        enter</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> marginTop)</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height <span class="op">-</span> marginTop <span class="op">-</span> marginBottom)<span class="op">,</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>      (update) <span class="kw">=&gt;</span></span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>        update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(<span class="pp">isNaN</span>(d) <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> d) <span class="op">-</span> <span class="fu">xScale</span>(<span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateLabel</span>(text<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text<span class="op">.</span><span class="fu">data</span>([data])<span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>      (enter) <span class="kw">=&gt;</span></span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a>        enter</span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dominant-baseline"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-family"</span><span class="op">,</span> <span class="st">"sans-serif"</span>)</span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> labelSize)</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)</span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"start"</span>)</span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> <span class="dv">10</span>)</span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> height <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">text</span>(<span class="fu">labelFormat</span>(<span class="st">"0"</span>))<span class="op">,</span></span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>      (update) <span class="kw">=&gt;</span></span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a>        update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb8-105"><a href="#cb8-105" aria-hidden="true" tabindex="-1"></a>          <span class="co">// Check if bar is too short</span></span>
<span id="cb8-106"><a href="#cb8-106" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> check <span class="op">=</span> (d) <span class="kw">=&gt;</span> d <span class="op">&lt;</span> <span class="fl">0.1</span><span class="op">;</span></span>
<span id="cb8-107"><a href="#cb8-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-108"><a href="#cb8-108" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb8-109"><a href="#cb8-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-110"><a href="#cb8-110" aria-hidden="true" tabindex="-1"></a>          update</span>
<span id="cb8-111"><a href="#cb8-111" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d))</span>
<span id="cb8-112"><a href="#cb8-112" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">text</span>((d) <span class="kw">=&gt;</span> <span class="fu">labelFormat</span>(d))</span>
<span id="cb8-113"><a href="#cb8-113" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="st">"black"</span> <span class="op">:</span> <span class="st">"white"</span>))</span>
<span id="cb8-114"><a href="#cb8-114" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="st">"start"</span> <span class="op">:</span> <span class="st">"end"</span>))</span>
<span id="cb8-115"><a href="#cb8-115" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="op">-</span><span class="dv">10</span>))<span class="op">;</span></span>
<span id="cb8-116"><a href="#cb8-116" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb8-117"><a href="#cb8-117" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb8-118"><a href="#cb8-118" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-119"><a href="#cb8-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-120"><a href="#cb8-120" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Main function for data updates.</span></span>
<span id="cb8-121"><a href="#cb8-121" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">update</span>(data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-122"><a href="#cb8-122" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateBar</span>(bar<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb8-123"><a href="#cb8-123" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateLabel</span>(label<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb8-124"><a href="#cb8-124" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-125"><a href="#cb8-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-126"><a href="#cb8-126" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">assign</span>(svg<span class="op">.</span><span class="fu">node</span>()<span class="op">,</span> { update })<span class="op">;</span></span>
<span id="cb8-127"><a href="#cb8-127" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb9" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb9-0"><a href="#cb9-0" aria-hidden="true" tabindex="-1"></a><span class="co">// to draw lines at the origin (to show intercept and stuff)</span></span>
<span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// create voronoi overlay? for dragging points</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">// viz error / squared error</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">// make the error lines look like a weight</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">// show other metrics like R^2 etc.</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">RegressionPlot</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  data<span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> ([x]) <span class="kw">=&gt;</span> x<span class="op">,</span> <span class="co">// accessor function for x-coordinate</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> ([<span class="op">,</span> y]) <span class="kw">=&gt;</span> y<span class="op">,</span> <span class="co">// accessor function for y-coordinate</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> <span class="dv">6</span><span class="op">,</span> <span class="co">// radius of dots, in pixels</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    marginTop <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// top margin, in pixels</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    marginRight <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// right margin, in pixels</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    marginBottom <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// bottom margin, in pixels</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    marginLeft <span class="op">=</span> <span class="dv">40</span><span class="op">,</span> <span class="co">// left margin, in pixels</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    inset <span class="op">=</span> r <span class="op">*</span> <span class="dv">2</span><span class="op">,</span> <span class="co">// inset the default range, in pixels</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    insetTop <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default y-range</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    insetRight <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default x-range</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    insetBottom <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default y-range</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    insetLeft <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default x-range</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    width <span class="op">=</span> <span class="dv">640</span><span class="op">,</span> <span class="co">// outer width, in pixels</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> <span class="dv">500</span><span class="op">,</span> <span class="co">// outer height, in pixels</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    xType <span class="op">=</span> d3<span class="op">.</span><span class="at">scaleLinear</span><span class="op">,</span> <span class="co">// type of x-scale</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    xDomain<span class="op">,</span> <span class="co">// [xmin, xmax]</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    xRange <span class="op">=</span> [marginLeft <span class="op">+</span> insetLeft<span class="op">,</span> width <span class="op">-</span> marginRight <span class="op">-</span> insetRight]<span class="op">,</span> <span class="co">// [left, right]</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    yType <span class="op">=</span> d3<span class="op">.</span><span class="at">scaleLinear</span><span class="op">,</span> <span class="co">// type of y-scale</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    yDomain<span class="op">,</span> <span class="co">// [ymin, ymax]</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    yRange <span class="op">=</span> [height <span class="op">-</span> marginBottom <span class="op">-</span> insetBottom<span class="op">,</span> marginTop <span class="op">+</span> insetTop]<span class="op">,</span> <span class="co">// [bottom, top]</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    showGrid <span class="op">=</span> <span class="kw">true</span> <span class="co">// whether to show grid lines</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  } <span class="op">=</span> {}</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> errorColor <span class="op">=</span> d3<span class="op">.</span><span class="at">schemeSet3</span>[<span class="dv">3</span>]<span class="op">;</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorLinesOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Init drag object.</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> drag <span class="op">=</span> d3</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">drag</span>()</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">// .on("start", dragstarted)</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"drag"</span><span class="op">,</span> dragged)<span class="op">;</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>  <span class="co">// .on("end", dragended);</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>  <span class="co">// To give each data point a unique id</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> idCounter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Compute data values.</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>  data <span class="op">=</span> data<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xCoord</span><span class="op">:</span> <span class="fu">x</span>(d)<span class="op">,</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yCoord</span><span class="op">:</span> <span class="fu">y</span>(d)<span class="op">,</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>    <span class="dt">id</span><span class="op">:</span> idCounter<span class="op">++</span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  }))<span class="op">;</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Store copy of initial data object</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> initData <span class="op">=</span> data<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({ <span class="op">...</span>d }))<span class="op">;</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Compute default domains.</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">// if (xDomain === undefined) xDomain = d3.extent(data, (d) =&gt; d.xCoord);</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (xDomain <span class="op">===</span> <span class="kw">undefined</span>) xDomain <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">xCoord</span>)]<span class="op">;</span></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (yDomain <span class="op">===</span> <span class="kw">undefined</span>) yDomain <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">yCoord</span>)]<span class="op">;</span></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Init linear regressor.</span></span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> linearRegression <span class="op">=</span> d3</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">regressionLinear</span>()</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">x</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">xCoord</span>)</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">y</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">yCoord</span>)</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>(xDomain)<span class="op">;</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Construct scales and axes.</span></span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> <span class="fu">xType</span>(xDomain<span class="op">,</span> xRange)<span class="op">;</span></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yScale <span class="op">=</span> <span class="fu">yType</span>(yDomain<span class="op">,</span> yRange)<span class="op">;</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisBottom</span>(xScale)<span class="op">.</span><span class="fu">ticks</span>(width <span class="op">/</span> <span class="dv">80</span>)<span class="op">;</span></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisLeft</span>(yScale)<span class="op">.</span><span class="fu">ticks</span>(height <span class="op">/</span> <span class="dv">80</span>)<span class="op">;</span></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw svg.</span></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto; height: intrinsic;"</span>)<span class="op">;</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw xAxis.</span></span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> axisOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xGroup <span class="op">=</span> svg</span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(0,</span><span class="sc">${</span>height <span class="op">-</span> marginBottom<span class="sc">}</span><span class="vs">)`</span>)</span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> axisOpacity)</span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>(xAxis)</span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>((g) <span class="kw">=&gt;</span> g<span class="op">.</span><span class="fu">select</span>(<span class="st">".domain"</span>)<span class="op">.</span><span class="fu">remove</span>())<span class="op">;</span></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw grid lines</span></span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a>  xGroup</span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".tick line"</span>)</span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">clone</span>()</span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> marginTop <span class="op">+</span> marginBottom <span class="op">-</span> height)</span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Draw line at origin</span></span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-opacity"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (d <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> axisOpacity<span class="op">;</span></span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> showGrid <span class="op">?</span> <span class="fl">0.1</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw yAxis.</span></span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yGroup <span class="op">=</span> svg</span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>marginLeft<span class="sc">}</span><span class="vs">,0)`</span>)</span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> axisOpacity)</span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>(yAxis)</span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>((g) <span class="kw">=&gt;</span> g<span class="op">.</span><span class="fu">select</span>(<span class="st">".domain"</span>)<span class="op">.</span><span class="fu">remove</span>())<span class="op">;</span></span>
<span id="cb9-112"><a href="#cb9-112" aria-hidden="true" tabindex="-1"></a>  yGroup</span>
<span id="cb9-113"><a href="#cb9-113" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".tick line"</span>)</span>
<span id="cb9-114"><a href="#cb9-114" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">clone</span>()</span>
<span id="cb9-115"><a href="#cb9-115" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> width <span class="op">-</span> marginLeft <span class="op">-</span> marginRight)</span>
<span id="cb9-116"><a href="#cb9-116" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Draw line at origin</span></span>
<span id="cb9-117"><a href="#cb9-117" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-opacity"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb9-118"><a href="#cb9-118" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (d <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb9-119"><a href="#cb9-119" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> axisOpacity<span class="op">;</span></span>
<span id="cb9-120"><a href="#cb9-120" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb9-121"><a href="#cb9-121" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> showGrid <span class="op">?</span> <span class="fl">0.1</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-122"><a href="#cb9-122" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb9-123"><a href="#cb9-123" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb9-124"><a href="#cb9-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-125"><a href="#cb9-125" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw error squares.</span></span>
<span id="cb9-126"><a href="#cb9-126" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(</span>
<span id="cb9-127"><a href="#cb9-127" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"rect"</span>)<span class="op">,</span></span>
<span id="cb9-128"><a href="#cb9-128" aria-hidden="true" tabindex="-1"></a>    data</span>
<span id="cb9-129"><a href="#cb9-129" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb9-130"><a href="#cb9-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-131"><a href="#cb9-131" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw error lines.</span></span>
<span id="cb9-132"><a href="#cb9-132" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb9-133"><a href="#cb9-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-134"><a href="#cb9-134" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw regression line.</span></span>
<span id="cb9-135"><a href="#cb9-135" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionLineGroup <span class="op">=</span> svg</span>
<span id="cb9-136"><a href="#cb9-136" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb9-137"><a href="#cb9-137" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb9-138"><a href="#cb9-138" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb9-139"><a href="#cb9-139" aria-hidden="true" tabindex="-1"></a>  <span class="co">// .attr("stroke-dasharray", "20,20");</span></span>
<span id="cb9-140"><a href="#cb9-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-141"><a href="#cb9-141" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionLine <span class="op">=</span> <span class="fu">updateRegressionLine</span>(</span>
<span id="cb9-142"><a href="#cb9-142" aria-hidden="true" tabindex="-1"></a>    regressionLineGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)<span class="op">,</span></span>
<span id="cb9-143"><a href="#cb9-143" aria-hidden="true" tabindex="-1"></a>    data</span>
<span id="cb9-144"><a href="#cb9-144" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb9-145"><a href="#cb9-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-146"><a href="#cb9-146" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw space for plot interactions.</span></span>
<span id="cb9-147"><a href="#cb9-147" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> plotRect <span class="op">=</span> svg</span>
<span id="cb9-148"><a href="#cb9-148" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb9-149"><a href="#cb9-149" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb9-150"><a href="#cb9-150" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb9-151"><a href="#cb9-151" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb9-152"><a href="#cb9-152" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> addDatapoint)<span class="op">;</span></span>
<span id="cb9-153"><a href="#cb9-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-154"><a href="#cb9-154" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw data points.</span></span>
<span id="cb9-155"><a href="#cb9-155" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> circlesGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)<span class="op">;</span></span>
<span id="cb9-156"><a href="#cb9-156" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> circles <span class="op">=</span> <span class="fu">updateCircles</span>(circlesGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"circle"</span>)<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb9-157"><a href="#cb9-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-158"><a href="#cb9-158" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Drag interactions for circles.</span></span>
<span id="cb9-159"><a href="#cb9-159" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragstarted</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb9-160"><a href="#cb9-160" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">raise</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"red"</span>)<span class="op">;</span></span>
<span id="cb9-161"><a href="#cb9-161" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-162"><a href="#cb9-162" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragged</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb9-163"><a href="#cb9-163" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)</span>
<span id="cb9-164"><a href="#cb9-164" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Update data point, as well as its position on the plot</span></span>
<span id="cb9-165"><a href="#cb9-165" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-166"><a href="#cb9-166" aria-hidden="true" tabindex="-1"></a>        d<span class="op">.</span><span class="at">xCoord</span> <span class="op">=</span> xScale<span class="op">.</span><span class="fu">invert</span>(<span class="bu">event</span><span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb9-167"><a href="#cb9-167" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">event</span><span class="op">.</span><span class="at">x</span><span class="op">;</span></span>
<span id="cb9-168"><a href="#cb9-168" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb9-169"><a href="#cb9-169" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-170"><a href="#cb9-170" aria-hidden="true" tabindex="-1"></a>        d<span class="op">.</span><span class="at">yCoord</span> <span class="op">=</span> yScale<span class="op">.</span><span class="fu">invert</span>(<span class="bu">event</span><span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb9-171"><a href="#cb9-171" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">event</span><span class="op">.</span><span class="at">y</span><span class="op">;</span></span>
<span id="cb9-172"><a href="#cb9-172" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb9-173"><a href="#cb9-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-174"><a href="#cb9-174" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateRegressionLine</span>(regressionLine<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb9-175"><a href="#cb9-175" aria-hidden="true" tabindex="-1"></a>    errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(errorSquares<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb9-176"><a href="#cb9-176" aria-hidden="true" tabindex="-1"></a>    errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(errorLines<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb9-177"><a href="#cb9-177" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-178"><a href="#cb9-178" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragended</span>(<span class="bu">event</span><span class="op">,</span> i) {</span>
<span id="cb9-179"><a href="#cb9-179" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb9-180"><a href="#cb9-180" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-181"><a href="#cb9-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-182"><a href="#cb9-182" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Click interaction for circles.</span></span>
<span id="cb9-183"><a href="#cb9-183" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">removeDatapoint</span>(<span class="bu">event</span><span class="op">,</span> dCurr) {</span>
<span id="cb9-184"><a href="#cb9-184" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="bu">event</span><span class="op">.</span><span class="at">defaultPrevented</span>) <span class="cf">return</span><span class="op">;</span> <span class="co">// dragged</span></span>
<span id="cb9-185"><a href="#cb9-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-186"><a href="#cb9-186" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Remove data point; faster way to do this?</span></span>
<span id="cb9-187"><a href="#cb9-187" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> data<span class="op">.</span><span class="fu">filter</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span> <span class="op">!==</span> dCurr<span class="op">.</span><span class="at">id</span>)<span class="op">;</span></span>
<span id="cb9-188"><a href="#cb9-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-189"><a href="#cb9-189" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb9-190"><a href="#cb9-190" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-191"><a href="#cb9-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-192"><a href="#cb9-192" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Click interaction for plot.</span></span>
<span id="cb9-193"><a href="#cb9-193" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">addDatapoint</span>(<span class="bu">event</span>) {</span>
<span id="cb9-194"><a href="#cb9-194" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> [xm<span class="op">,</span> ym] <span class="op">=</span> d3<span class="op">.</span><span class="fu">pointer</span>(<span class="bu">event</span>)<span class="op">;</span></span>
<span id="cb9-195"><a href="#cb9-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-196"><a href="#cb9-196" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateDatapoint</span>(xScale<span class="op">.</span><span class="fu">invert</span>(xm)<span class="op">,</span> yScale<span class="op">.</span><span class="fu">invert</span>(ym))<span class="op">;</span></span>
<span id="cb9-197"><a href="#cb9-197" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-198"><a href="#cb9-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-199"><a href="#cb9-199" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function for regression line update.</span></span>
<span id="cb9-200"><a href="#cb9-200" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateRegressionLine</span>(line<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb9-201"><a href="#cb9-201" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb9-202"><a href="#cb9-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-203"><a href="#cb9-203" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Dispatch event and R^2 value</span></span>
<span id="cb9-204"><a href="#cb9-204" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">node</span>()<span class="op">.</span><span class="at">value</span> <span class="op">=</span> regressionData<span class="op">.</span><span class="at">rSquared</span><span class="op">;</span></span>
<span id="cb9-205"><a href="#cb9-205" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">node</span>()<span class="op">.</span><span class="at">transition</span> <span class="op">=</span> transition<span class="op">;</span></span>
<span id="cb9-206"><a href="#cb9-206" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">dispatch</span>(<span class="st">"input"</span><span class="op">,</span> { <span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb9-207"><a href="#cb9-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-208"><a href="#cb9-208" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> line</span>
<span id="cb9-209"><a href="#cb9-209" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>([regressionData])</span>
<span id="cb9-210"><a href="#cb9-210" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(<span class="st">"line"</span>)</span>
<span id="cb9-211"><a href="#cb9-211" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">call</span>((line) <span class="kw">=&gt;</span> {</span>
<span id="cb9-212"><a href="#cb9-212" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (transition) line <span class="op">=</span> line<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb9-213"><a href="#cb9-213" aria-hidden="true" tabindex="-1"></a>        line</span>
<span id="cb9-214"><a href="#cb9-214" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d[<span class="dv">0</span>][<span class="dv">0</span>]))</span>
<span id="cb9-215"><a href="#cb9-215" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d[<span class="dv">1</span>][<span class="dv">0</span>]))</span>
<span id="cb9-216"><a href="#cb9-216" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d[<span class="dv">0</span>][<span class="dv">1</span>]))</span>
<span id="cb9-217"><a href="#cb9-217" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d[<span class="dv">1</span>][<span class="dv">1</span>]))<span class="op">;</span></span>
<span id="cb9-218"><a href="#cb9-218" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb9-219"><a href="#cb9-219" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-220"><a href="#cb9-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-221"><a href="#cb9-221" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update circles based on new data.</span></span>
<span id="cb9-222"><a href="#cb9-222" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateCircles</span>(circles<span class="op">,</span> data) {</span>
<span id="cb9-223"><a href="#cb9-223" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> circles</span>
<span id="cb9-224"><a href="#cb9-224" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb9-225"><a href="#cb9-225" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb9-226"><a href="#cb9-226" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb9-227"><a href="#cb9-227" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb9-228"><a href="#cb9-228" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb9-229"><a href="#cb9-229" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-230"><a href="#cb9-230" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-231"><a href="#cb9-231" aria-hidden="true" tabindex="-1"></a>            <span class="co">// To transition from 0 radius</span></span>
<span id="cb9-232"><a href="#cb9-232" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb9-233"><a href="#cb9-233" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Attach interactions</span></span>
<span id="cb9-234"><a href="#cb9-234" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>(drag)</span>
<span id="cb9-235"><a href="#cb9-235" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> removeDatapoint)</span>
<span id="cb9-236"><a href="#cb9-236" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb9-237"><a href="#cb9-237" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span></span>
<span id="cb9-238"><a href="#cb9-238" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb9-239"><a href="#cb9-239" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-240"><a href="#cb9-240" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">ease</span>(d3<span class="op">.</span><span class="at">easeBackOut</span><span class="op">.</span><span class="fu">overshoot</span>(<span class="fl">1.7</span>))</span>
<span id="cb9-241"><a href="#cb9-241" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> r)</span>
<span id="cb9-242"><a href="#cb9-242" aria-hidden="true" tabindex="-1"></a>            )<span class="op">,</span></span>
<span id="cb9-243"><a href="#cb9-243" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb9-244"><a href="#cb9-244" aria-hidden="true" tabindex="-1"></a>          update</span>
<span id="cb9-245"><a href="#cb9-245" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-246"><a href="#cb9-246" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-247"><a href="#cb9-247" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))<span class="op">,</span></span>
<span id="cb9-248"><a href="#cb9-248" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span></span>
<span id="cb9-249"><a href="#cb9-249" aria-hidden="true" tabindex="-1"></a>          exit</span>
<span id="cb9-250"><a href="#cb9-250" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-251"><a href="#cb9-251" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">ease</span>(d3<span class="op">.</span><span class="at">easeBackIn</span><span class="op">.</span><span class="fu">overshoot</span>(<span class="fl">1.7</span>))</span>
<span id="cb9-252"><a href="#cb9-252" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb9-253"><a href="#cb9-253" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb9-254"><a href="#cb9-254" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb9-255"><a href="#cb9-255" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-256"><a href="#cb9-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-257"><a href="#cb9-257" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update error lines based on new data.</span></span>
<span id="cb9-258"><a href="#cb9-258" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateErrorLines</span>(lines<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb9-259"><a href="#cb9-259" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb9-260"><a href="#cb9-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-261"><a href="#cb9-261" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> lines</span>
<span id="cb9-262"><a href="#cb9-262" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb9-263"><a href="#cb9-263" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb9-264"><a href="#cb9-264" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb9-265"><a href="#cb9-265" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb9-266"><a href="#cb9-266" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"line"</span>)</span>
<span id="cb9-267"><a href="#cb9-267" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> errorColor)</span>
<span id="cb9-268"><a href="#cb9-268" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb9-269"><a href="#cb9-269" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> errorLinesOpacity)</span>
<span id="cb9-270"><a href="#cb9-270" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Start at data point</span></span>
<span id="cb9-271"><a href="#cb9-271" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-272"><a href="#cb9-272" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-273"><a href="#cb9-273" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-274"><a href="#cb9-274" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-275"><a href="#cb9-275" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb9-276"><a href="#cb9-276" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span></span>
<span id="cb9-277"><a href="#cb9-277" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb9-278"><a href="#cb9-278" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-279"><a href="#cb9-279" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)))</span>
<span id="cb9-280"><a href="#cb9-280" aria-hidden="true" tabindex="-1"></a>            )<span class="op">,</span></span>
<span id="cb9-281"><a href="#cb9-281" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb9-282"><a href="#cb9-282" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb9-283"><a href="#cb9-283" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb9-284"><a href="#cb9-284" aria-hidden="true" tabindex="-1"></a>            update</span>
<span id="cb9-285"><a href="#cb9-285" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-286"><a href="#cb9-286" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-287"><a href="#cb9-287" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-288"><a href="#cb9-288" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)))<span class="op">;</span></span>
<span id="cb9-289"><a href="#cb9-289" aria-hidden="true" tabindex="-1"></a>          })<span class="op">,</span></span>
<span id="cb9-290"><a href="#cb9-290" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span></span>
<span id="cb9-291"><a href="#cb9-291" aria-hidden="true" tabindex="-1"></a>          exit</span>
<span id="cb9-292"><a href="#cb9-292" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-293"><a href="#cb9-293" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-294"><a href="#cb9-294" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb9-295"><a href="#cb9-295" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb9-296"><a href="#cb9-296" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-297"><a href="#cb9-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-298"><a href="#cb9-298" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update error squares based on new data.</span></span>
<span id="cb9-299"><a href="#cb9-299" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateErrorSquares</span>(rects<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb9-300"><a href="#cb9-300" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb9-301"><a href="#cb9-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-302"><a href="#cb9-302" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> computeHeight <span class="op">=</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb9-303"><a href="#cb9-303" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> yCoordPred <span class="op">=</span> regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="op">;</span></span>
<span id="cb9-304"><a href="#cb9-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-305"><a href="#cb9-305" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(<span class="fu">yScale</span>(yCoordPred) <span class="op">-</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))<span class="op">;</span></span>
<span id="cb9-306"><a href="#cb9-306" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb9-307"><a href="#cb9-307" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Compute which direction the box should face</span></span>
<span id="cb9-308"><a href="#cb9-308" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> computeTransform <span class="op">=</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb9-309"><a href="#cb9-309" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> yCoordPred <span class="op">=</span> regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="op">;</span></span>
<span id="cb9-310"><a href="#cb9-310" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> check <span class="op">=</span> <span class="fu">yScale</span>(yCoordPred) <span class="op">-</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>) <span class="op">&lt;</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-311"><a href="#cb9-311" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> deg <span class="op">=</span> check <span class="op">?</span> <span class="op">-</span><span class="dv">90</span> <span class="op">:</span> <span class="dv">90</span><span class="op">;</span></span>
<span id="cb9-312"><a href="#cb9-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-313"><a href="#cb9-313" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="vs">`rotate(</span><span class="sc">${</span>deg<span class="sc">}</span><span class="vs">, </span><span class="sc">${</span><span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="sc">}</span><span class="vs">, </span><span class="sc">${</span><span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>)<span class="sc">}</span><span class="vs">)`</span><span class="op">;</span></span>
<span id="cb9-314"><a href="#cb9-314" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb9-315"><a href="#cb9-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-316"><a href="#cb9-316" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> rects</span>
<span id="cb9-317"><a href="#cb9-317" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb9-318"><a href="#cb9-318" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb9-319"><a href="#cb9-319" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb9-320"><a href="#cb9-320" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb9-321"><a href="#cb9-321" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb9-322"><a href="#cb9-322" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"none"</span>)</span>
<span id="cb9-323"><a href="#cb9-323" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> errorColor)</span>
<span id="cb9-324"><a href="#cb9-324" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> errorSquaresOpacity)</span>
<span id="cb9-325"><a href="#cb9-325" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> computeTransform)</span>
<span id="cb9-326"><a href="#cb9-326" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Start at data point</span></span>
<span id="cb9-327"><a href="#cb9-327" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-328"><a href="#cb9-328" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-329"><a href="#cb9-329" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb9-330"><a href="#cb9-330" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb9-331"><a href="#cb9-331" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb9-332"><a href="#cb9-332" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span> {</span>
<span id="cb9-333"><a href="#cb9-333" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb9-334"><a href="#cb9-334" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb9-335"><a href="#cb9-335" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> computeHeight)</span>
<span id="cb9-336"><a href="#cb9-336" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> computeHeight)<span class="op">;</span></span>
<span id="cb9-337"><a href="#cb9-337" aria-hidden="true" tabindex="-1"></a>            })<span class="op">,</span></span>
<span id="cb9-338"><a href="#cb9-338" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb9-339"><a href="#cb9-339" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb9-340"><a href="#cb9-340" aria-hidden="true" tabindex="-1"></a>            update<span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> computeTransform)<span class="op">;</span></span>
<span id="cb9-341"><a href="#cb9-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-342"><a href="#cb9-342" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb9-343"><a href="#cb9-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-344"><a href="#cb9-344" aria-hidden="true" tabindex="-1"></a>            update</span>
<span id="cb9-345"><a href="#cb9-345" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb9-346"><a href="#cb9-346" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb9-347"><a href="#cb9-347" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> computeHeight)</span>
<span id="cb9-348"><a href="#cb9-348" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> computeHeight)<span class="op">;</span></span>
<span id="cb9-349"><a href="#cb9-349" aria-hidden="true" tabindex="-1"></a>          })<span class="op">,</span></span>
<span id="cb9-350"><a href="#cb9-350" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span> exit<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb9-351"><a href="#cb9-351" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb9-352"><a href="#cb9-352" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-353"><a href="#cb9-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-354"><a href="#cb9-354" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Resets the plot to the initial data</span></span>
<span id="cb9-355"><a href="#cb9-355" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">reset</span>() {</span>
<span id="cb9-356"><a href="#cb9-356" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(initData<span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb9-357"><a href="#cb9-357" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-358"><a href="#cb9-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-359"><a href="#cb9-359" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Updates which error type to show</span></span>
<span id="cb9-360"><a href="#cb9-360" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateView</span>(option) {</span>
<span id="cb9-361"><a href="#cb9-361" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"None"</span>) {</span>
<span id="cb9-362"><a href="#cb9-362" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-363"><a href="#cb9-363" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-364"><a href="#cb9-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-365"><a href="#cb9-365" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-366"><a href="#cb9-366" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-367"><a href="#cb9-367" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"Absolute Error"</span>) {</span>
<span id="cb9-368"><a href="#cb9-368" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-369"><a href="#cb9-369" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-370"><a href="#cb9-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-371"><a href="#cb9-371" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb9-372"><a href="#cb9-372" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-373"><a href="#cb9-373" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"Squared Error"</span>) {</span>
<span id="cb9-374"><a href="#cb9-374" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-375"><a href="#cb9-375" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb9-376"><a href="#cb9-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-377"><a href="#cb9-377" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-378"><a href="#cb9-378" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb9-379"><a href="#cb9-379" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-380"><a href="#cb9-380" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-381"><a href="#cb9-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-382"><a href="#cb9-382" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Adds a new datapoint and updates the plot</span></span>
<span id="cb9-383"><a href="#cb9-383" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateDatapoint</span>(xCoord<span class="op">,</span> yCoord) {</span>
<span id="cb9-384"><a href="#cb9-384" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Add datapoint</span></span>
<span id="cb9-385"><a href="#cb9-385" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> [<span class="op">...</span>data<span class="op">,</span> { xCoord<span class="op">,</span> yCoord<span class="op">,</span> <span class="dt">id</span><span class="op">:</span> idCounter<span class="op">++</span> }]<span class="op">;</span></span>
<span id="cb9-386"><a href="#cb9-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-387"><a href="#cb9-387" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb9-388"><a href="#cb9-388" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-389"><a href="#cb9-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-390"><a href="#cb9-390" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Main function that updates the plot based on new data</span></span>
<span id="cb9-391"><a href="#cb9-391" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">update</span>(newData<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb9-392"><a href="#cb9-392" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Upate local data object</span></span>
<span id="cb9-393"><a href="#cb9-393" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> newData<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({ <span class="op">...</span>d }))<span class="op">;</span></span>
<span id="cb9-394"><a href="#cb9-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-395"><a href="#cb9-395" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateRegressionLine</span>(regressionLine<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb9-396"><a href="#cb9-396" aria-hidden="true" tabindex="-1"></a>    circles <span class="op">=</span> <span class="fu">updateCircles</span>(circles<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb9-397"><a href="#cb9-397" aria-hidden="true" tabindex="-1"></a>    errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(errorSquares<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb9-398"><a href="#cb9-398" aria-hidden="true" tabindex="-1"></a>    errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(errorLines<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb9-399"><a href="#cb9-399" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-400"><a href="#cb9-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-401"><a href="#cb9-401" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">assign</span>(svg<span class="op">.</span><span class="fu">node</span>()<span class="op">,</span> {</span>
<span id="cb9-402"><a href="#cb9-402" aria-hidden="true" tabindex="-1"></a>    update<span class="op">,</span></span>
<span id="cb9-403"><a href="#cb9-403" aria-hidden="true" tabindex="-1"></a>    updateDatapoint<span class="op">,</span></span>
<span id="cb9-404"><a href="#cb9-404" aria-hidden="true" tabindex="-1"></a>    updateView<span class="op">,</span></span>
<span id="cb9-405"><a href="#cb9-405" aria-hidden="true" tabindex="-1"></a>    reset</span>
<span id="cb9-406"><a href="#cb9-406" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb9-407"><a href="#cb9-407" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><details class="code-fold hidden"><summary>Code</summary><div class="sourceCode cell-code hidden" id="cb10" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb10-0"><a href="#cb10-0" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"d3-regression"</span><span class="op">,</span> <span class="st">"d3"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-linfun" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-linfun-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="figure-content">
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="declaration">

</div>
</div>
</div>
<p><a href="https://observablehq.com/@yizhe-ang/interactive-visualization-of-linear-regression">Quelle</a></p>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-linfun-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.7: Interaktives Beispiel f√ºr eines lineares Modell. F√ºgen Sie Punkte per Klick/Touch hinzu.
</figcaption></figure>
</div>
<p>Alternativ k√∂nnen Sie <a href="https://gallery.shinyapps.io/simple_regression/">diese App</a> nutzen, Regressionskoeffizienten, Steigung (slope) und Achsenabschnitt (Intercept), zu optimieren. Dabei meint ‚Äúoptimieren‚Äù, die Abweichungen (Residuen, Residualfehler; die roten Balken in der App) zu minimieren.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<p><a href="https://shinyapps.org/showapp.php?app=https://shiny.psy.lmu.de/felix/lmfit&amp;by=Felix%20Sch%C3%B6nbrodt&amp;title=Find-a-fit!&amp;shorttitle=Find-a-fit!">Hier</a> finden Sie eine App, die Ihnen gestattet, selber Hand an eine Regressionsgerade zu legen.</p>
<div id="exr-setosa-vis" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.5 (VERTIEFUNG Regression mit Animationen erkl√§rt)</strong></span> Lesen Sie <a href="https://setosa.io/ev/ordinary-least-squares-regression/">diesen Post</a>, der Ihnen mit Hilfe von Bildern und Animationen (okay, und etwas) Text die Grundlagen der Regressionsanalyse erkl√§rt.<span class="math inline">\(\square\)</span></p>
</div>
<p>Die Regression ist eine Art Schweizer Taschenmesser der Statistik: F√ºr vieles gut einsetzbar. Anstelle von vielen verschiedenen Verfahren des statistischen Modellierens kann man (fast) immer die Regression verwenden. Das ist nicht nur einfacher, sondern auch mathematisch sch√∂ner. Wir werden im Folgenden stets die Regression zum Modellieren verwenden. Dann wenden wir die Methoden der Inferenz auf die Kennzahlen der Regression an.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Regression + Inferenz = üíñ</p>
</div>
</div>
<p>Alternativ zur Regression k√∂nnte man sich in den Wald der statistischen Verfahren begeben, <a href="https://web.archive.org/web/20091029162244/http://www.wiwi.uni-muenster.de/ioeb/en/organisation/pfaff/stat_overview_table.html">wie hier von der Uni M√ºnster als Ausschnitt (!) aufgef√ºhrt</a>. Auf dieser Basis kann man meditieren, welches statistischen Verfahren man f√ºr eine bestimmte Fragestellung verwenden sollte, s. <a href="#fig-choose-test" class="quarto-xref">Abbildung&nbsp;<span>2.8 (b)</span></a>. Muss man aber nicht ‚Äì man kann stattdessen die Regression benutzen.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es ist meist einfacher und n√ºtzlicher, die Regression zu verwenden, anstelle der Vielzahl von anderen Verfahren (die zumeist Spezialf√§lle der Regression sind). In diesem Kurs werden wir f√ºr alle Fragestellungen die Regression verwenden.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a><span class="math inline">\(\square\)</span></p>
</div>
</div>
<div id="fig-regr-oder-wald" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-regr-oder-wald-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-oder-wald" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-regrtext" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regrtext-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/regr.png" class="lightbox" data-gallery="fig-regr-oder-wald" title="Abbildung&nbsp;2.8&nbsp;(a): Die eine Regression"><img src="img/regr.png" class="img-fluid figure-img" data-ref-parent="fig-regr-oder-wald"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regrtext-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Die eine Regression
</figcaption></figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-oder-wald" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-choose-test" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-choose-test-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/choose-test.png" class="lightbox" data-gallery="fig-regr-oder-wald" title="Abbildung&nbsp;2.8&nbsp;(b): Wald von anderen Verfahren"><img src="img/choose-test.png" class="img-fluid figure-img" data-ref-parent="fig-regr-oder-wald"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-choose-test-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Wald von anderen Verfahren
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regr-oder-wald-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.8: W√§hle die Regression. Oder den Wahl der Verfahren. Spoiler: Nimm lieber die Regression.
</figcaption></figure>
</div>
<div id="exm-spezialfaelle-regr" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.5</strong></span> Typische <em>Spezialf√§lle</em> der Regression sind</p>
<ul>
<li>t-Test: UV: zweistufig nominal, AV: metrisch</li>
<li>ANOVA: UV: mehrstufig nominal, AV: metrisch</li>
<li>Korrelation: Wenn UV und AV z-standardisiert sind (d.h. Mittelwert von 0 und Standardabweichung von 1 haben), dann ist die Korrelation gleich dem Regressionskoeffizienten <span class="math inline">\(\beta_1\)</span> (bei einer einfachen Regression mit einer einzigen UV). <span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<!-- ![Common statistical tests as linear models](img/linear_tests_cheat_sheet.png){#fig-lindeloev} -->
</section><section id="in-voller-pracht" class="level3" data-number="2.4.2"><h3 data-number="2.4.2" class="anchored" data-anchor-id="in-voller-pracht">
<span class="header-section-number">2.4.2</span> In voller Pracht</h3>
<p>Hier ist die Regressionsgleichung in voller Pracht; s. <a href="#fig-regr-rules" class="quarto-xref">Abbildung&nbsp;<span>2.9</span></a>. Links sieht man eine einfache Regression mit <code>hp</code> als UV (<code>X</code>, auch: Pr√§diktor) und <code>mpg</code> als AV (<code>Y</code>). Das rechte Teildiagramm zeigt eine multiple Regression mit den UVs <code>hp</code> und <code>am</code>.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> Im einfachsten Fall sind die vom Modell vorhergesagten (gesch√§tzten) Werte, <span class="math inline">\(\hat{y}\)</span>, durch eine einfache Gerade beschrieben, s. <a href="#fig-regr-rules" class="quarto-xref">Abbildung&nbsp;<span>2.9</span></a>, links. In allgemeiner Form schreibt man die Regressionsgleichung als lineare Gleichung, d.h. in Form einer Gerade, s. <a href="#thm-lm" class="quarto-xref">Theorem&nbsp;<span>2.1</span></a>.</p>
<div id="thm-lm" class="theorem">
<p><span class="theorem-title"><strong>Theorem 2.1 (Lineares Modell (Regressionsgleichung))</strong></span> <span class="math display">\[y = \beta_0 + \beta_1 x_1 + \ldots + \beta_k x_k + \epsilon\]</span></p>
<p>Man nennt alle <span class="math inline">\(\beta_0, \beta_1, \beta_2, ...\)</span> die <em>Regressionsgewichte</em> (<em>Koeffizienten</em> oder <em>Parameter</em>) des Modells <span class="citation" data-cites="gelman2021">(<a href="references.html#ref-gelman2021" role="doc-biblioref">Gelman et al., 2021</a>)</span>. Dabei ist <span class="math inline">\(\beta_0\)</span> der <em>Achsenabschnitt</em> (eng. intercept) und <span class="math inline">\(\beta_1\)</span> die <em>Steigung</em> der Regressiongeraden. <span class="math inline">\(\square\)</span></p>
</div>
<p>Anhand von <a href="#thm-lm" class="quarto-xref">Theorem&nbsp;<span>2.1</span></a> erkennt man auch, warum man von einem <em>linearen Modell</em> spricht: Y wird als gewichteter Mittelwert mehrerer Summanden berechnet.</p>
<p>Eine Regressionsgerade ist durch zwei Parameter festgelegt: den Achsenabschnitt, <span class="math inline">\(\beta_0\)</span> und die Steigung, <span class="math inline">\(\beta_1\)</span>, s. <a href="#fig-regr-rules" class="quarto-xref">Abbildung&nbsp;<span>2.9</span></a>.</p>
<div id="fig-regr-rules" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-regr-rules-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-rules" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-regr-rules-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-rules-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-regr-rules-1.png" class="lightbox" data-gallery="fig-regr-rules" title="Abbildung&nbsp;2.9&nbsp;(a): Einfache Regression (eine UV: hp)"><img src="0200-Inferenz_files/figure-html/fig-regr-rules-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-regr-rules"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-rules-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Einfache Regression (eine UV: hp)
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-rules" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-regr-rules-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-rules-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-regr-rules-2.png" class="lightbox" data-gallery="fig-regr-rules" title="Abbildung&nbsp;2.9&nbsp;(b): Multiple Regression (zwei UV: hp und am)"><img src="0200-Inferenz_files/figure-html/fig-regr-rules-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-regr-rules"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-rules-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Multiple Regression (zwei UV: hp und am)
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regr-rules-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.9: Die Regressionsgerade in voller Pracht
</figcaption></figure>
</div>
</section></section><section id="ungewissheit" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="ungewissheit">
<span class="header-section-number">2.5</span> Ungewissheit</h2>
<section id="inferenz-beinhaltet-ungewissheit" class="level3" data-number="2.5.1"><h3 data-number="2.5.1" class="anchored" data-anchor-id="inferenz-beinhaltet-ungewissheit">
<span class="header-section-number">2.5.1</span> Inferenz beinhaltet Ungewissheit</h3>
<p>Inferenzstatistische Schl√ºsse sind mit <em>Ungewissheit</em> (Unsicherheit √ºber die Zuverl√§ssigkeit der Ergebnisse) behaftet: Schlie√ülich kennt man nur einen Teil (die Stichprobe) eines Ganzen (die Population), m√∂chte aber vom Teil auf das Ganze schlie√üen. Aus diesem begrenzten Wissen resultiert notwendig Ungewissheit √ºber die gesamte Population.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nichts Genaues wei√ü man nicht: Schlie√üt man von einem Teil auf das Ganze, so geschieht das unter Unsicherheit. Man spricht von <em>Ungewissheit</em>, da man sich auf die <em>Unsicherheit das Wissen</em> √ºber die Genauigkeit des Schlie√üens bezieht</p>
</div>
</div>
<p>Schlie√üt man etwa, dass in einer Grundgesamtheit der Anteil der R-Fans bei 42% liegt, so geschieht das unter Unsicherheit; es ist ungewiss. Man ist sich nicht sicher, dass es wirklich 42% in der Population sind ‚Äì und nicht etwa etwas mehr oder etwas weniger. Schlie√ülich hat man <em>nicht</em> die ganze Population gesehen bzw. vermessen. <em>Sicher</em> ist man sich hingegen f√ºr die Stichprobe (Messfehler einmal ausgeblendet). Zur Bemessung der Unsicherheit (Ungewissheit) bedient man sich der Wahrscheinlichkeitsrechnung (wo immer m√∂glich). Die Wahrscheinlichkeitstheorie bzw. -rechnung wird daher auch als die Mathematik des Zufalls bezeichnet.</p>
<div id="def-zufall" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.5 (Zuf√§lliges Ereignis)</strong></span> Unter einem zuf√§lligen (engl. random) Ereignis verstehen wir ein Ereignis, das nicht (komplett) vorherzusehen ist, wie etwa die Augenzahl Ihres n√§chsten W√ºrfelwurfs. Zuf√§llig bedeutet nicht (zwangsl√§ufig), dass das Ereignisse keine Ursachen besitzt. So gehorchen die Bewegungen eines W√ºrfels den Gesetzen der Physik, nur sind uns diese oder die genauen Randbedingungen nicht (ausreichend) bekannt.</p>
</div>
<div id="exr-muenz" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.6</strong></span> üèã Welche physikalischen Randbedingungen wirken wohl auf einen M√ºnzwurf ein?<span class="math inline">\(\square\)</span></p>
</div>
<div id="exm-muenz" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.6 (Beispiele zur Quantifizierung von Ungewissheit)</strong></span> Aussagen mit Unsicherheit k√∂nnen unterschiedlich pr√§zise formuliert sein.</p>
<ul>
<li><p>Morgen regnet‚Äôs <span class="math inline">\(\Leftrightarrow\)</span> Morgen wird es hier mehr als 0 mm Niederschlag geben (<span class="math inline">\(p=97\%\)</span>).</p></li>
<li><p>Methode <span class="math inline">\(A\)</span> ist besser als Methode <span class="math inline">\(B\)</span> <span class="math inline">\(\Leftrightarrow\)</span> Mit einer Wahrscheinlichkeit von 57% ist der Mittelwert von <span class="math inline">\(Y\)</span> f√ºr Methode <span class="math inline">\(A\)</span> h√∂her als f√ºr Methode <span class="math inline">\(B\)</span>.</p></li>
<li><p>Die Maschine f√§llt demn√§chst aus <span class="math inline">\(\Leftrightarrow\)</span> Mit einer Wahrscheinlichkeit von 97% wird die Maschine in den n√§chsten 1-3 Tagen ausfallen, laut unserem Modell.</p></li>
<li><p>Die Investition lohnt sich <span class="math inline">\(\Leftrightarrow\)</span> Die Investition hat einen Erwartungswert von 42 Euro; mit 90% Wahrscheinlichkeit wird der Gewinn zwischen -10000 und 100 Euro.</p></li>
</ul>
</div>
<div id="exr-ungewiss" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.7</strong></span> üèã Geben Sie weitere Beispiele an!</p>
</div>
</section><section id="zwei-arten-von-ungewissheit" class="level3" data-number="2.5.2"><h3 data-number="2.5.2" class="anchored" data-anchor-id="zwei-arten-von-ungewissheit">
<span class="header-section-number">2.5.2</span> Zwei Arten von Ungewissheit</h3>
<p>Im Modellieren im Allgemeinen und in Regressionsmodellen im Besonderen lassen sich (mindestens) zwei Arten von Ungewissheiten angeben:</p>
<ol type="1">
<li><p>Wie (un)gewiss ist man sich √ºber die <em>Regressionsgewichte</em>?</p></li>
<li><p>Wie (un)gewiss ist man sich √ºber die <em>Vorhersagegenauigkeit</em>?</p></li>
</ol>
<section id="betas-ungewissheit-zur-regressionsgeraden" class="level4" data-number="2.5.2.1"><h4 data-number="2.5.2.1" class="anchored" data-anchor-id="betas-ungewissheit-zur-regressionsgeraden">
<span class="header-section-number">2.5.2.1</span> Betas: Ungewissheit zur Regressionsgeraden</h4>
<p>Wenn wir von den Daten der Stichproben auf die Grundgesamtheit schlie√üen, k√∂nnen wir nicht sicher sein, ob die Regressionskoeffizienten (Achsenabschnitt, Steigung der Regressiongeraden) exakt richtig sind, s. <a href="#fig-betas-ungewiss" class="quarto-xref">Abbildung&nbsp;<span>2.10</span></a>.</p>
<div id="fig-betas-ungewiss" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-betas-ungewiss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-betas-ungewiss" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-betas-ungewiss-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-betas-ungewiss-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-betas-ungewiss-1.png" class="lightbox" data-gallery="fig-betas-ungewiss" title="Abbildung&nbsp;2.10&nbsp;(a): Ungewissheit f√ºr den Achsenabschnitt: Die Gerade k√∂nnte ‚Äòh√∂her‚Äô oder ‚Äòniedriger‚Äô aufgeh√§ngt sein."><img src="0200-Inferenz_files/figure-html/fig-betas-ungewiss-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-betas-ungewiss"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-betas-ungewiss-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Ungewissheit f√ºr den Achsenabschnitt: Die Gerade k√∂nnte ‚Äòh√∂her‚Äô oder ‚Äòniedriger‚Äô aufgeh√§ngt sein.
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-betas-ungewiss" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-betas-ungewiss-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-betas-ungewiss-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-betas-ungewiss-2.png" class="lightbox" data-gallery="fig-betas-ungewiss" title="Abbildung&nbsp;2.10&nbsp;(b): Ungewissheit f√ºr die Steigung der Regressionsgeraden: Die Gerade k√∂nnte mehr oder weniger steigen."><img src="0200-Inferenz_files/figure-html/fig-betas-ungewiss-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-betas-ungewiss"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-betas-ungewiss-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Ungewissheit f√ºr die Steigung der Regressionsgeraden: Die Gerade k√∂nnte mehr oder weniger steigen.
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-betas-ungewiss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.10: Wir k√∂nnten nicht sicher sein, dass der Achsenabschnitt und die Geradensteigung unseres Modells exakt richtig sind. Diese Werte k√∂nnten auch etwas gr√∂√üer oder kleiner sein.
</figcaption></figure>
</div>
<p>Wie man in <a href="#fig-regr-div" class="quarto-xref">Abbildung&nbsp;<span>2.11</span></a> sieht, k√∂nnen sich die Koeffizienten des Modells (<span class="math inline">\(\beta_0\)</span>, Achsenabschnitt und <span class="math inline">\(\beta_1\)</span>, Steigung) unterscheiden. Woran liegt das?</p>
<div id="exm-flights" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.7 (Stichproben der New Yorker Fl√ºge)</strong></span> Nehmen wir an, wir ziehen ein paar Zufallstichproben aus der Menge (Population) aller Fl√ºge, die in New York im Jahre 2013 gestartet sind. In jeder Stichprobe berechnen wir eine Regression zwischen Flugzeit und Versp√§tung des Flugs am Ankunftsort. Sicherlich werden sich die Stichproben in ihren Kennwerten, z.B. in den Koeffizienten der genannten Regression, unterscheiden.<span class="math inline">\(\square\)</span></p>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13">nycflights13</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">flights</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stipro1</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">stipro2</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">stipro3</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="fig-regr-div" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-regr-div-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-regr-div-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-regr-div-1.png" class="lightbox" data-gallery="fig-regr-div" title="Abbildung&nbsp;2.11&nbsp;(a): Stichprobe 1"><img src="0200-Inferenz_files/figure-html/fig-regr-div-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-regr-div"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Stichprobe 1
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-regr-div-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-regr-div-2.png" class="lightbox" data-gallery="fig-regr-div" title="Abbildung&nbsp;2.11&nbsp;(b): Stichprobe 2"><img src="0200-Inferenz_files/figure-html/fig-regr-div-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-regr-div"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Stichprobe 2
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-regr-div-3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-regr-div-3.png" class="lightbox" data-gallery="fig-regr-div" title="Abbildung&nbsp;2.11&nbsp;(c): Stichprobe 3"><img src="0200-Inferenz_files/figure-html/fig-regr-div-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-regr-div"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Stichprobe 3
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regr-div-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.11: Regressionsanalysen mit verschiedenen Koeffizienten aufgrund der Zuf√§lligkeit des Stichprobenziehens
</figcaption></figure>
</div>
<p>Der Grund f√ºr die Schwankungen der Modellparameter zwischen den Stichproben ist die <em>Zuf√§lligkeit</em> des <em>Stichprobenziehens.</em> Je nachdem, wie es der Zufall (oder sonst wer) will, landen bestimmte F√§lle (Fl√ºge in unserem Beispiel) in unserer Stichprobe. Zumeist unterscheiden sich die Stichproben; theoretisch k√∂nnten sie aber auch rein zuf√§llig gleich sein.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Stichproben-Kennwerte schwanken um den tats√§chlichen Wert in der Population herum. <span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Um diese Ungewissheit, die sich in den Schwankungen der Stichproben-Regressionskoeffizienten ausdr√ºckt, anzuzeigen, ist ein ‚Äúgrauer Schleier‚Äù um die Regressionsgeraden in <a href="#fig-regr-div" class="quarto-xref">Abbildung&nbsp;<span>2.11</span></a> gekennzeichnet. Dieser grauer Schleier gibt also eine Spannbreite anderer, plausibler Lagen der Regressionsgeraden an, die sich in einer anderen Stichprobe auch manifestieren k√∂nnten.</p>
</section><section id="sigma-ungewissheit-zur-genauigkeit-der-vorhersage" class="level4" data-number="2.5.2.2"><h4 data-number="2.5.2.2" class="anchored" data-anchor-id="sigma-ungewissheit-zur-genauigkeit-der-vorhersage">
<span class="header-section-number">2.5.2.2</span> Sigma: Ungewissheit zur Genauigkeit der Vorhersage</h4>
<p>Angenommen, wir sind uns <em>sicher</em> √ºber die Werte der Modellparameter (<span class="math inline">\(\beta_0, \beta_1\)</span>). also √ºber die Lage der Regressionsgeraden, anschaulich gesprochen. Dann bliebe immer noch Ungewissheit, wie <em>genau</em> die Vorhersagen sind, wie gro√ü also die Abst√§nde zwischen vorhergesagten und tats√§chlichen Werten. Wenn nicht die richtigen UVs im Modell sind (relevante fehlen oder auch irrelevante sind enthalten), dann liegen Vorhersagen und wirkliche Werte weiter auseinander: diese Streuung kann man als ‚ÄúRauschen‚Äù bezeichnen, s. <a href="#fig-resid-var" class="quarto-xref">Abbildung&nbsp;<span>2.12</span></a>. Diese Art der Ungewissheit ist dann interessant, wenn man Vorhersagen macht und sich fragt, wie <em>pr√§zise</em> diese Vorhersage ist. Die Pr√§zision eines Modells kann man mit einem von zwei Kennwerten ausdr√ºcken, die die gleiche Aussage machen. Diese zwei Kennwerte sind <span class="math inline">\(R^2\)</span> (R-Quadrat) und <span class="math inline">\(\sigma\)</span> (sigma).</p>
<div id="def-sigma" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.6 (Sigma als mittleren Vorhersagefehler)</strong></span> <span class="math inline">\(\sigma\)</span> gibt (grob gesagt) den mittleren Vorhersagefehler des Modells an. Einfach gesprochen sagt <span class="math inline">\(\sigma\)</span> wie weit eine Vorhersage im Durchschnitt vom wahren Wert entfernt ist. <span class="math inline">\(\square\)</span></p>
</div>
<div id="fig-resid-var" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-resid-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-resid-var-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-resid-var-1.png" class="lightbox" data-gallery="fig-resid-var" title="Abbildung&nbsp;2.12&nbsp;(a): Geringer Vorhersagefehler (hohe Vorhersageg√ºte): Die vertikalen Balken sind kurz."><img src="0200-Inferenz_files/figure-html/fig-resid-var-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-resid-var"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Geringer Vorhersagefehler (hohe Vorhersageg√ºte): Die vertikalen Balken sind kurz.
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-resid-var-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-resid-var-2.png" class="lightbox" data-gallery="fig-resid-var" title="Abbildung&nbsp;2.12&nbsp;(b): Hoher Vorhersagefehler: Die vertikalen Balken sind lang."><img src="0200-Inferenz_files/figure-html/fig-resid-var-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-resid-var"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Hoher Vorhersagefehler: Die vertikalen Balken sind lang.
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-resid-var-3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-resid-var-3.png" class="lightbox" data-gallery="fig-resid-var" title="Abbildung&nbsp;2.12&nbsp;(c): auch hoher Vorhersagefehler"><img src="0200-Inferenz_files/figure-html/fig-resid-var-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-ref-parent="fig-resid-var"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) auch hoher Vorhersagefehler
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.12: Regressionsanalyse mit <em>gleicher</em> Regressionsgerade, aber <em>unterschiedlicher</em> Vorhersageg√ºte. Die Vorhersagefehler sind mit mit farbigen vertikalen Balken markiert. Je k√ºrzer die Balken, desto besser (genauer) die Vorhersage.
</figcaption></figure>
</div>
</section></section><section id="ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben" class="level3" data-number="2.5.3"><h3 data-number="2.5.3" class="anchored" data-anchor-id="ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben">
<span class="header-section-number">2.5.3</span> Ich wei√ü, was ich nicht wei√ü: Ungewissheit angeben</h3>
<p>Streng genommen ist eine Inferenz ohne Angabe der Ungewissheit (Genauigkeit der Sch√§tzung) wertlos. Angenommen, jemand sagt, dass sie den Anteil der R-Fans (in der Population) auf 42% sch√§tzt, l√§sst aber offen wie <em>sicher</em> (pr√§zise) die Sch√§tzung (der Modellparameter) ist. Wir wissen also nicht, ob z.B. 2% oder 82% noch erwartbar sind. Oder ob man im Gegenteil mit hoher Sicherheit sagen kann, die Sch√§tzung schlie√üt sogar 41% oder 43% aus.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Schlie√üt man auf eine Population, sch√§tzt also die Modellparameter, so sollte stets die (Un-)Genauigkeit der Sch√§tzung, also die Ungewissheit des Modells, angegeben sein.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Im Rahmen der Regressionsanalyse schl√§gt sich die Ungewissheit an zwei Stellen (und in drei Parametern) nieder:</p>
<ol type="1">
<li>zur Pr√§zision der Regressionsgeraden <span class="math inline">\(\beta_0\)</span>, <span class="math inline">\(\beta_1\)</span>
</li>
<li>zur Modellg√ºte (<span class="math inline">\(R^2\)</span>) bzw. zum Vorhersagefehler, <span class="math inline">\(\sigma\)</span><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>
</li>
</ol></section><section id="konfidenzintervall" class="level3" data-number="2.5.4"><h3 data-number="2.5.4" class="anchored" data-anchor-id="konfidenzintervall">
<span class="header-section-number">2.5.4</span> Konfidenzintervall</h3>
<p>Wir haben gesesehen, dass wir die Werte der Parameter nur mit Ungewissheit angegeben k√∂nnen (s. <a href="#fig-betas-ungewiss" class="quarto-xref">Abbildung&nbsp;<span>2.10</span></a> und <a href="#fig-resid-var" class="quarto-xref">Abbildung&nbsp;<span>2.12</span></a>). Um dieser Ungewissheit Rechnung zu tragen, gibt man nicht nur einen einzelnen Wert an, einen <em>Punktsch√§tzer</em>, sondern man gibt ein <em>Sch√§tzbereich</em> an auf Basis der Daten, s. <a href="#tbl-toni-params" class="quarto-xref">Tabelle&nbsp;<span>2.2</span></a>.</p>
<p>Man spricht anstatt von Sch√§tzbereich auch von einem <em>Konfidenzintervall</em>.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">model_parameters</span><span class="op">(</span><span class="va">lm_toni</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">print_md</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-toni-params" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-toni-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2.2: Punktsch√§tzer und Sch√§tzbereiche f√ºr die Modellkoeffizienten von <code>lm_toni</code>
</figcaption><div aria-describedby="tbl-toni-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">Parameter</th>
<th style="text-align: center;">Coefficient</th>
<th style="text-align: center;">SE</th>
<th style="text-align: center;">95% CI</th>
<th style="text-align: center;">t(98)</th>
<th style="text-align: center;">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: center;">46.19</td>
<td style="text-align: center;">5.14</td>
<td style="text-align: center;">(35.99, 56.39)</td>
<td style="text-align: center;">8.98</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
<tr class="even">
<td style="text-align: left;">x</td>
<td style="text-align: center;">0.88</td>
<td style="text-align: center;">0.10</td>
<td style="text-align: center;">(0.68, 1.08)</td>
<td style="text-align: center;">8.92</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Unser Modell gibt den 95%-Sch√§tzbereich f√ºr den Achsenabschnitt an ca. von 36 bis 56 Klausurpunkte Die Steigung wird gesch√§tzt auf ca. 0.7 bis 1.1 Klausurpunkte pro Stunde Lernzeit.</p>
<div id="def-konfintervall" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.7 (Konfidenzintervall)</strong></span> Ein Konfidenzintervall (confidence intervall, CI) ist ein Oberbegriff f√ºr Sch√§tzbereiche f√ºr Parameter wie Regressionskoeffizienten. Die Grenzen eines Konfidenzintervall markieren die Grenzen eines Bereichs plausibler Werte f√ºr einen Parameter. <span class="math inline">\(\square\)</span></p>
</div>
<p>Es gibt verschiedene Arten, Konfidenzintervalle zu berechnen; wir sprechen in sp√§teren Kapiteln dazu ausf√ºhrlicher. Ein Konfidenzintervall wird h√§ufig mit 90% oder 95% Genauigkeit angegeben. Im Kontext der Bayes-Analyse - auf der dieser Kurs aufbaut - ist ein Konfidenzintervall einfach zu interpretieren. Sagen wir, wir finden, dass in einem Modell ein 95%-Konfidenzintervall f√ºr den Anteil der R-Fans angegeben wird, dass sich von 40 bis 44 Prozent erstreckt. Dieser Befund l√§sst sich so interpretieren:</p>
<blockquote class="blockquote">
<p>‚ÄúLaut Modell liegt der gesuchte Anteil der R-Fans mit einer Wahrscheinlichkeit von 95% im Bereich von 40 bis 44 Prozentpunkten.‚Äù</p>
</blockquote>
<div id="exr-ungewisskorr" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.8</strong></span> Geben Sie Beispiele f√ºr Konfidenzintervalle an.</p>
</div>
</section></section><section id="frequentistische-inferenz-vs.-bayes-inferenz" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="frequentistische-inferenz-vs.-bayes-inferenz">
<span class="header-section-number">2.6</span> Frequentistische Inferenz vs.&nbsp;Bayes-Inferenz</h2>
<p>Es gibt zwei Hauptarten von Inferenzstatistik: Frequentistische Inferenz und Bayes-Inferenz.</p>
<div class="columns">
<div class="column">
<p><strong>Frequentismus: Klassische Inferenz</strong></p>
<ol type="1">
<li>Ziel ist es, den Anteil von Fehlentscheidungen zu kontrollieren.</li>
<li>Keine Ber√ºcksichtigung von Vorwissen zum Sachgegenstand</li>
<li>Wahrscheinlichkeit wird √ºber relative H√§ufigkeiten definiert.</li>
<li>Es ist <em>nicht</em> m√∂glich, die Wahrscheinlichkeit einer Hypothese bzw. eines Werts in der Population (eines Parameters) anzugeben.</li>
<li>Stattdessen wird angegeben, wie h√§ufig eine vergleichbare Datenlage zu erwarten ist, wenn der Versuch sehr h√§ufig (unendlich oft) wiederholt ist.</li>
<li>Ein Gro√üteil der Forschung (in den Sozialwissenschaften) verwendet (aktuell) diesen Ansatz.</li>
</ol>
</div><div class="column">
<p><strong>Bayesianische Inferenz</strong></p>
<ol type="1">
<li>Ziel ist es, die Wahrscheinlichkeit einer Hypothese korrekt zu bemessen.</li>
<li>Vorwissen (Priori-Wissen) flie√üt explizit in die Analyse ein (zusammen mit den Daten).</li>
<li>
<em>Wenn</em> das Vorwissen gut ist, wird die Vorhersage durch das Vorwissen genauer, ansonsten ungenauer.</li>
<li>Die Wahl des Vorwissens muss explizit (kritisierbar) sein.</li>
<li>In der Bayes-Inferenz sind Wahrscheinlichkeitsaussagen f√ºr Hypothesen m√∂glich.</li>
<li>Die Bayes-Inferenz erfordert mitunter viel Rechenzeit und ist daher erst in den letzten Jahren (f√ºr g√§ngige Computer) komfortabel geworden.</li>
</ol>
</div>
</div>
<section id="frequentistische-inferenz-und-der-p-wert" class="level3" data-number="2.6.1"><h3 data-number="2.6.1" class="anchored" data-anchor-id="frequentistische-inferenz-und-der-p-wert">
<span class="header-section-number">2.6.1</span> Frequentistische Inferenz und der p-Wert</h3>
<p>Der zentrale Kennwert der Frequentistische Inferenz (synonym: Frequentismus) ist der <em>p-Wert</em>.</p>
<p>Der <em>p</em>-Wert ist so definiert, vgl. <span class="citation" data-cites="wasserstein2016">Wasserstein &amp; Lazar (<a href="references.html#ref-wasserstein2016" role="doc-biblioref">2016</a>)</span>:</p>
<blockquote class="blockquote">
<p>Wie hoch ist die Wahrscheinlichkeit eines empirischen Befunds (oder noch extremere Werte), vorausgesetzt die Nullhypothese <span class="math inline">\(H_0\)</span> gilt und man wiederholt den Versuch unendlich oft (mit gleichen Bedingungen, aber zuf√§llig verschieden und auf Basis unseres Modells)?</p>
</blockquote>
<p>Einfacher gesagt:</p>
<blockquote class="blockquote">
<p>Der <em>p</em>-Wert ist die Wahrscheinlichkeit, ein Ergebnis zu erhalten, das mindestens so extrem ist wie das beobachtete, unter der Annahme, dass es keinen Effekt gibt.</p>
</blockquote>
<p>Noch einfacher:</p>
<ul>
<li><p>Man nimmt an, dass es keinen Effekt gibt (z.B. kein Zusammenhang zwischen den untersuchten Variablen)</p></li>
<li><p>Dann fragt man: Wie √ºberraschend w√§ren meine Daten unter dieser Annahme?</p></li>
<li><p>Der p-Wert gibt genau diese √úberraschungs-Wahrscheinlichkeit an.</p></li>
</ul>
<!-- Kurz gesagt: $p := Pr(T'  \ge T| H_0)$. --><div id="exr-p" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.9</strong></span> üèã Recherchieren Sie eine Definition des <em>p</em>-Werts und lesen Sie sie einem Freund. Beobachten sie die Reaktionen auf Ihre Erkl√§rung.<span class="math inline">\(\square\)</span></p>
</div>
<p>Der p-Wert wird oft falsch verstanden <span class="citation" data-cites="badenes-ribera2016">(<a href="references.html#ref-badenes-ribera2016" role="doc-biblioref">Badenes-Ribera et al., 2016</a>)</span>. Aber er ist auch nicht leicht zu verstehen, meint Meister Yoda, s. <a href="#fig-yoda" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>. Hier sind einige <em>FALSCHE</em> Interpretationen zum p-Wert laut der Autoren:</p>
<ul>
<li>üôÖ‚Äç‚ôÄ Der p-Wert w√ºrde die Wahrscheinlichkeit der Nullhypothese oder der Forschungshypothese angeben. üôä FALSCH!</li>
<li>üôÖ‚Äç‚ôÄ Der p-Wert w√ºrde ein inhaltlich bedeutsames, praktisch signifikantes Ergebnis anzeigen. üôä FALSCH!</li>
</ul>
<div id="fig-yoda" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-yoda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/pvalue-yoda.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Abbildung&nbsp;2.13: Der p-Wert ist wenig intuitiv, meint Meister Yoda"><img src="img/pvalue-yoda.jpg" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-yoda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.13: Der p-Wert ist wenig intuitiv, meint Meister Yoda
</figcaption></figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ein frequentistisches Konfidenzintervall macht keine Aussage zur Wahrscheinlichkeit eines Werts in der Population (eines Parameters). Stattdessen wird eine Aussage √ºber das Ergebnis einer sehr h√§ufig wiederholten Stichprobenziehung berichtet. Ob ein bestimmtes (unseres, Ihres) den wahren Wert enth√§lt, bzw. mit welcher Wahrscheinlichkeit es den wahren Wert enth√§lt, dar√ºber macht das frequentistische Konfidenzintervall keine Aussagen. <span class="math inline">\(\square\)</span></p>
</div>
</div>
</section><section id="bayes-inferenz" class="level3" data-number="2.6.2"><h3 data-number="2.6.2" class="anchored" data-anchor-id="bayes-inferenz">
<span class="header-section-number">2.6.2</span> Bayes-Inferenz</h3>
<p>Die zentrale Statistik der Bayes-Inferenz bzw. (synonym) Bayes-Statistik ist die <em>Posteriori-Verteilung</em>.</p>
<p>Die Posteriori-Verteilung beantwortet uns die Frage: ‚ÄúWie wahrscheinlich ist die Forschungshypothese (oder Varianten von ihr), jetzt, nachdem wir die Daten kennen, auf Basis unseres Modells?‚Äù</p>
<p>In der Bayes-Statistik sind Aussagen folgender Art erlaubt:</p>
<blockquote class="blockquote">
<p>Mit einer Wahrscheinlichkeit von 95% ist der neue Webshop besser als der alte. Mit einer Wahrscheinlichkeit von 89% liegt die Wirksamkeit des neuen Medikaments zwischen 0.1 und 0.4.</p>
</blockquote>
<!-- 
[In diesem Post](https://data-se.netlify.app/2022/01/27/warum-bayes/) wird f√ºr Bayes geworben 
und (einseitig) Stellung pro Bayes bezogen. -->
</section><section id="statistische-signifikanz" class="level3" data-number="2.6.3"><h3 data-number="2.6.3" class="anchored" data-anchor-id="statistische-signifikanz">
<span class="header-section-number">2.6.3</span> Statistische Signifikanz</h3>
<p>Im <em>Frequentismus</em> spricht man von statistischer Signifikanz, wenn der p-Wert kleiner ist als 5%: <span class="math inline">\(p&lt;.05\)</span> (oder einen anderen Prozentwert als 5%, aber meistens wird 5% hergenommen). Man nimmt diesen Befund als Beleg, dass man einen Effekt gefunden hat, die Hypothese eines Nulleffekts (z.B. kein Zusammenhang von X und Y) also verwerfen kann. Faktisch entscheidet man sich, die Forschungshypothese weiterhin als ‚Äúvorl√§ufig g√ºltig‚Äù oder zumindest als ‚Äúnicht widerlegt‚Äù zu betrachten.</p>
<p>In der <em>Bayes-Statistik</em> ist der Begriff der Signifikanz nicht einheitlich definiert. Mit Bezug auf <span class="citation" data-cites="gelman2021">Gelman et al. (<a href="references.html#ref-gelman2021" role="doc-biblioref">2021</a>)</span> (S. 57) wird in diesem Buch der Begriff wie folgt definiert - mit G√ºltigkeit sowohl f√ºr Bayes-Statistik als auch f√ºr Frequentistische Statistik.</p>
<div id="def-signifikanz" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.8 (Statistische Signifikanz)</strong></span> Ist der Wert Null nicht im Sch√§tzbereich enthalten, so liegt ein statistisch signifikantes Ergebnis vor. <span class="math inline">\(\square\)</span></p>
</div>
<p>Oft werden 95%-Konfidenzintervalle verwendet, obwohl das nur eine Konvention ist. Die Signifikanzaussage bezieht sich immer auf ein Sch√§tzbereich bestimmter Gr√∂√üe, z.B. 95% (und des Modells inklusive Daten).</p>
<p>Liegt ein statistisch signifikantes Ergebnis vor, so <em>verwirft</em> man die <em>Nullhypothese</em> und akzeptiert die <em>Alternativhypothese</em> (synonym: Effekthypothese).</p>
<div id="def-nullhyp" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.9 (Exakte Nullhypothese)</strong></span> Die exakte Nullhypothese (meist kurz nur als Nullhypothese bezeichnet), <span class="math inline">\(H_0\)</span>, besagt, dass <em>kein</em> (null) Effekt (keine Abweichung vom Referenzwert, kein Unterschied zwischen Gruppen, kein Zusammenhang zwischen UV und AV, Ver√§nderung vor vs.&nbsp;nach der Intervention, ‚Ä¶) vorliegt. <span class="math inline">\(\square\)</span></p>
</div>
<div id="def-alternativhyp" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.10 (Alternativhypothese (Effekthypothese))</strong></span> Eine Hypothese, die besagt, dass es einen (substanziellen) Effekt gibt. Das kann z.B. ein Unterschied zwischen den untersuchten Gruppen sein oder ein Zusammenhang zwischen den untersuchten Variablen. Logisch betrachtet ist die Alternativhypothese meist das Gegenteil der Nullhypothese. <span class="math inline">\(\square\)</span></p>
</div>
<div id="exm-effekt" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.8 (Beispiele f√ºr Effekthypothesen)</strong></span> &nbsp;</p>
<ul>
<li>Die Trefferquote der M√ºnze ist <span class="math inline">\(\pi = .7\)</span> (Kopf), weicht also um 0.2 von 0.5, dem Wert laut Nullhypothese, ab.</li>
<li>Der Unterschied im mittleren Gewicht zwischen den Gruppen betr√§gt ca. 500-600 g.</li>
<li>Der Korrelationskoeffizient <span class="math inline">\(\rho\)</span> liegt bei ca. .5 bis .7, ist also nicht Null.</li>
<li>Der standardisierte Regressionskoeffizient <span class="math inline">\(\beta\)</span> liegt bei ca. .1 bis .2, ist also nicht Null.</li>
<li>Der Unterschied in Gestimmtheit vor vs.&nbsp;nach der Induktion von Einsamkeit liegt bei <span class="math inline">\(X_d = .3\)</span>, ist also nicht Null. <span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<div id="exm-nullhyp" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.9 (Beispiele f√ºr Nullhypothesen)</strong></span> &nbsp;</p>
<ol type="A">
<li>H‚ÇÄ: Œº = 100 (Der Populationsmittelwert betr√§gt 100)</li>
<li>H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ (Es gibt keinen Unterschied zwischen den Mittelwerten zweier Gruppen)</li>
<li>H‚ÇÄ: œÅ = 0 (Es besteht kein linearer Zusammenhang zwischen zwei Variablen)</li>
<li>H‚ÇÄ: œÄ = 0.5 (Die Wahrscheinlichkeit f√ºr ‚ÄúErfolg‚Äù betr√§gt 50%; die M√ºnze ist ‚Äúfair‚Äù)</li>
<li>H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ = Œº‚ÇÉ = Œº‚ÇÑ (Alle Gruppenmittelwerte sind gleich; bei ANOVA)</li>
<li>H‚ÇÄ: Œ≤‚ÇÅ = 0 (Der Regressionskoeffizient ist null; kein Effekt des Pr√§diktors)</li>
<li>H‚ÇÄ: œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤ (Die Varianzen zweier Populationen sind gleich) <span class="math inline">\(\square\)</span>
</li>
</ol>
</div>
<p>Statistische Signifikanz im Frequentismus (nicht in der Bayes-Statistik) ist auch eine Funktion der Stichprobengr√∂√üe: Wenn die Stichprobe gro√ü genug ist, wird jeder Test signifikant. Daher hat ein signifikantes Ergebnis zwei m√∂gliche Ursachen: Der Effekt ist gro√ü oder (auch) die Stichprobe ist gro√ü, s. <a href="#fig-pwert2" class="quarto-xref">Abbildung&nbsp;<span>2.14</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-pwert2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-pwert2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-pwert2">flowchart LR
S[Stichprobengr√∂√üe]
E[Effektgr√∂√üe]
p[p&lt;0.5]
S--&gt;p
E--&gt;p
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pwert2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.14: Der p-Wert ist nicht nur eine Funktion der Effektgr√∂√üe, sondern auch der Stichprobengr√∂√üe. Gro√üe Stichproben werden zwangsl√§ufig signifikant, sofern der Effekt nicht exakt Null ist.
</figcaption></figure>
</div>
</div>
</div>
<p>√úbrigens sollte man nicht nur von ‚ÄúSignifikanz‚Äù, sondern von ‚Äústatistischer Signifikanz‚Äù sprechen, um klar zu machen, dass man nicht ein Alltagsverst√§ndnis von Signifikanz (‚Äúgro√ü‚Äù, ‚Äúbedeutsam‚Äù) meint, sondern einen wohl definierten statistischen Begriff. Das ist wichtig, weil es sonst leicht zu Fehlinterpretationen kommt.</p>
<p><span class="citation" data-cites="makowski2019">Makowski et al. (<a href="references.html#ref-makowski2019" role="doc-biblioref">2019</a>)</span> schlagen vor, welche Kennwerte der Bayes-Statistik analog zum <span class="math inline">\(p\)</span>-Wert herangezogen werden k√∂nnen. Eine M√∂glichkeit daf√ºr ist der Kennwert <em>pd</em> (<em>probability of direction</em>).</p>
<div id="exr-smartphone-addiction" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.10 (Abh√§ngigkeit vom Handy)</strong></span> Die Studie von <span class="citation" data-cites="kabadayi2024">Kabadayi (<a href="references.html#ref-kabadayi2024" role="doc-biblioref">2024</a>)</span> untersucht den Zusammenhang von Smartphone-Abh√§ngigkeit mit gesundheitlichen Problemen wie Depression, Stress, Einsamkeit und Schlafschwierigkeiten bei Heranwachsenden.</p>
<p><a href="https://bmcpsychology.biomedcentral.com/articles/10.1186/s40359-024-02117-6">Lesen Sie den Abstract der Studie</a> und Tabelle 2 (sowie alle Teile, die Sie ben√∂tigen, um Tabelle 2 zu verstehen).</p>
<ol type="1">
<li>Was ist der st√§rkste Zusammenhang bzgl. Smartphone-Abh√§ngigkeit? Wie hoch ist er? Wie gro√ü ist die erkl√§rte Varianz des Zusammenhangs?</li>
<li>Zwischen welchen Variablen findet sich ein ‚Äústatistisch signifikanter‚Äù Zusammenhang?</li>
<li>Erkl√§ren Sie, was ein ‚Äústatistisch signifikanter Zusammenhang‚Äù hier bedeutet? <span class="math inline">\(\square\)</span>
</li>
</ol>
</div>
</section><section id="frequentist-und-bayesianer" class="level3" data-number="2.6.4"><h3 data-number="2.6.4" class="anchored" data-anchor-id="frequentist-und-bayesianer">
<span class="header-section-number">2.6.4</span> Frequentist und Bayesianer</h3>
<p>Im Cartoon 1132 <a href="https://xkcd.com/">von xkcd</a> wird sich √ºber das Nicht-Ber√ºcksichtigen von Vorab-Informationen (Prior-Verteilung) lustig gemacht, s. <a href="#fig-xkcd-bayes" class="quarto-xref">Abbildung&nbsp;<span>2.15</span></a>.</p>
<div id="fig-xkcd-bayes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-xkcd-bayes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/frequentists_vs_bayesians_2x.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="Abbildung&nbsp;2.15: Frequentist wettet mit Bayesianer"><img src="img/frequentists_vs_bayesians_2x.png" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-xkcd-bayes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.15: Frequentist wettet mit Bayesianer
</figcaption></figure>
</div>
<p><a href="https://xkcd.com/1132/">Quelle</a></p>
<div>
<p><a href="https://imgflip.com/memegenerator">from Imgflip Meme Generator</a></p>
</div>
<div id="exr-pwert" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.11 (Peer Instruction: p-Wert)</strong></span> Der p-Wert ist der zentrale Kennwert der frequentistischen Statistik. Aber er wird immer wieder missverstanden. Welche Aussage zum p-Wert ist korrekt?</p>
<ol type="A">
<li>Ein p-Wert von 0,04 bedeutet, dass die Nullhypothese mit 96 % Wahrscheinlichkeit falsch ist.</li>
<li>Ein p-Wert gr√∂√üer als 0,05 beweist, dass die Nullhypothese wahr ist.</li>
<li>Ein kleiner p-Wert bedeutet, dass ein gro√üer Effekt vorliegt.</li>
<li>Ein p-Wert von 0,01 bedeutet, dass sich bei Wiederholung der Studis mit 99% wieder ein signifikantes Ergebnis finden wird.</li>
<li>Keine der oben genannten. <span class="math inline">\(\square\)</span>
</li>
</ol>
</div>
</section></section><section id="vertiefung" class="level2" data-number="2.7"><h2 data-number="2.7" class="anchored" data-anchor-id="vertiefung">
<span class="header-section-number">2.7</span> Vertiefung</h2>
<section id="vertiefung-frequentistische-konfidenzintervalle-werden-oft-falsch-verstanden-vertiefung" class="level3" data-number="2.7.1"><h3 data-number="2.7.1" class="anchored" data-anchor-id="vertiefung-frequentistische-konfidenzintervalle-werden-oft-falsch-verstanden-vertiefung">
<span class="header-section-number">2.7.1</span> Vertiefung ‚Äì Frequentistische Konfidenzintervalle werden oft falsch verstanden (Vertiefung<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>)</h3>
<p>Frequentistische Konfidenzintervalle werden oft falsch verstanden, wie die folgende Studie zeigt. Das liegt aber nicht daran, dass die Menschen zu dumm sind, sondern dass frequentistische Konfidenzintervalle f√ºr viele Menschen kontraintuitiv sind.</p>
<p><span class="citation" data-cites="hoekstra2014">Hoekstra et al. (<a href="references.html#ref-hoekstra2014" role="doc-biblioref">2014</a>)</span> berichten von einer Studie, in der <span class="math inline">\(n=442\)</span> Bachelor-Studentis, <span class="math inline">\(n=34\)</span> Master-Studentis und <span class="math inline">\(n=120\)</span> Forschende befragt wurden.</p>
<p>Den Versuchpersonen wurde folgender Fragebogen vorgelegt, s. <a href="#fig-bumbledorf" class="quarto-xref">Abbildung&nbsp;<span>2.16</span></a>.</p>
<div id="fig-bumbledorf" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bumbledorf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/bumbledorf.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23" title="Abbildung&nbsp;2.16: Frageobgen zu Konfidenzintervallen"><img src="img/bumbledorf.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bumbledorf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.16: Frageobgen zu Konfidenzintervallen
</figcaption></figure>
</div>
<p>Kurz gesagt war die Frage, die die Befragten beantworten sollten:</p>
<blockquote class="blockquote">
<p>In einem Experiment wird ein 95%-Konfidenzintervall mit dem Bereich von 0.1 bis 0.4 beichtet. Welcher der folgenden sechs Aussagen sind richtig bzw. falsch?</p>
</blockquote>
<p>Mit ‚ÄúKonfidenzintervall‚Äù meinen die Forschenden ein <em>frequentistisches</em> Konfidenzintervall.</p>
<p>Alle diese sechs Aussagen sind <em>FALSCH</em>. Die Aussagen lauten:</p>
<ol type="1">
<li><p>Die Wahrscheinlichkeit, dass der wahre Mittelwert gr√∂√üer als 0 ist, betr√§gt mindestens 95 %.</p></li>
<li><p>Die Wahrscheinlichkeit, dass der wahre Mittelwert gleich 0 ist, ist kleiner als 5 %.</p></li>
<li><p>Die ‚ÄûNullhypothese‚Äú, dass der wahre Mittelwert gleich 0 ist, ist wahrscheinlich falsch.</p></li>
<li><p>Es gibt eine 95%ige Wahrscheinlichkeit, dass der wahre Mittelwert zwischen 0,1 und 0,4 liegt.</p></li>
<li><p>Wir k√∂nnen mit 95%iger Sicherheit sagen, dass der wahre Mittelwert zwischen 0,1 und 0,4 liegt.</p></li>
<li><p>Wenn wir das Experiment immer wieder wiederholen w√ºrden, dann liegt der wahre Mittelwert in 95 % der F√§lle zwischen 0,1 und 0,4.</p></li>
</ol>
<p>Aussagen 1-4 weisen den Hypothesen bzw. den Parametern eine Wahrscheinlichkeit zu, was im Frequentismus nicht erlaubt ist. Aussagen 5-6 spezifizieren die Grenzen des Sch√§tzintervalls, allerdings kann das Konfidenzintervall nur Aussagen zu den zugrundeliegenden Stichproben, nicht zum Sch√§tzintervall, machen.</p>
<p>Die Ergebnisse zeigen, dass die Aussagen mehrheitlich <em>falsch</em> verstanden wurden, also mit ‚Äústimmt‚Äù angekreuzt wurden, s. <a href="#fig-ci-wrong" class="quarto-xref">Abbildung&nbsp;<span>2.17</span></a>.</p>
<div id="fig-ci-wrong" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ci-wrong-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/ci-wrong.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="Abbildung&nbsp;2.17: Eine hohe Zustimmung zu den sechs falschen Aussagen"><img src="img/ci-wrong.png" class="img-fluid figure-img" style="width:75.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-wrong-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.17: Eine hohe Zustimmung zu den sechs falschen Aussagen
</figcaption></figure>
</div>
</section><section id="zielart-erkl√§ren-kausalinferenz" class="level3" data-number="2.7.2"><h3 data-number="2.7.2" class="anchored" data-anchor-id="zielart-erkl√§ren-kausalinferenz">
<span class="header-section-number">2.7.2</span> Zielart <em>Erkl√§ren</em> ‚Äì Kausalinferenz</h3>
<p>Mittels Kausalinferenz k√∂nnen wir schlie√üen, welche Variablen <em>Ursachen</em> und welche <em>Wirkung</em> sind ‚Äì und welche Variablen <strong>Scheinkorrelation</strong> erzeugen. Das ist wichtig, denn nur wenn man die Ursache kennt, wei√ü man, was man tun muss, um eine Wirkung zu erzielen.</p>
<section id="studie-a-√∂strogen" class="level4" data-number="2.7.2.1"><h4 data-number="2.7.2.1" class="anchored" data-anchor-id="studie-a-√∂strogen">
<span class="header-section-number">2.7.2.1</span> Studie A: √ñstrogen</h4>
<p>Medikament einnehmen? Oder lieber nicht? Mit Blick auf <a href="#tbl-studie-a" class="quarto-xref">Tabelle&nbsp;<span>2.3</span></a>: Was raten Sie dem Arzt? Medikament einnehmen, ja oder nein?</p>
<div class="cell" data-layout-align="center">
<div id="tbl-studie-a" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2.3: Daten zur Studie A
</figcaption><div aria-describedby="tbl-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="xbyknbbjyv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xbyknbbjyv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xbyknbbjyv thead, #xbyknbbjyv tbody, #xbyknbbjyv tfoot, #xbyknbbjyv tr, #xbyknbbjyv td, #xbyknbbjyv th {
  border-style: none;
}

#xbyknbbjyv p {
  margin: 0;
  padding: 0;
}

#xbyknbbjyv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xbyknbbjyv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xbyknbbjyv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xbyknbbjyv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xbyknbbjyv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xbyknbbjyv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xbyknbbjyv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xbyknbbjyv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xbyknbbjyv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xbyknbbjyv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xbyknbbjyv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xbyknbbjyv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xbyknbbjyv .gt_spanner_row {
  border-bottom-style: hidden;
}

#xbyknbbjyv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xbyknbbjyv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xbyknbbjyv .gt_from_md > :first-child {
  margin-top: 0;
}

#xbyknbbjyv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xbyknbbjyv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xbyknbbjyv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xbyknbbjyv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xbyknbbjyv .gt_row_group_first td {
  border-top-width: 2px;
}

#xbyknbbjyv .gt_row_group_first th {
  border-top-width: 2px;
}

#xbyknbbjyv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xbyknbbjyv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xbyknbbjyv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xbyknbbjyv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xbyknbbjyv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xbyknbbjyv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xbyknbbjyv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xbyknbbjyv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xbyknbbjyv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xbyknbbjyv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xbyknbbjyv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xbyknbbjyv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xbyknbbjyv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xbyknbbjyv .gt_left {
  text-align: left;
}

#xbyknbbjyv .gt_center {
  text-align: center;
}

#xbyknbbjyv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xbyknbbjyv .gt_font_normal {
  font-weight: normal;
}

#xbyknbbjyv .gt_font_bold {
  font-weight: bold;
}

#xbyknbbjyv .gt_font_italic {
  font-style: italic;
}

#xbyknbbjyv .gt_super {
  font-size: 65%;
}

#xbyknbbjyv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xbyknbbjyv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xbyknbbjyv .gt_indent_1 {
  text-indent: 5px;
}

#xbyknbbjyv .gt_indent_2 {
  text-indent: 10px;
}

#xbyknbbjyv .gt_indent_3 {
  text-indent: 15px;
}

#xbyknbbjyv .gt_indent_4 {
  text-indent: 20px;
}

#xbyknbbjyv .gt_indent_5 {
  text-indent: 25px;
}

#xbyknbbjyv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#xbyknbbjyv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings header">
<th id="Gruppe" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Gruppe</th>
<th id="Mit-Medikament" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Mit Medikament</th>
<th id="Ohne-Medikament" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Ohne Medikament</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Gruppe">M√§nner</td>
<td class="gt_row gt_left" headers="Mit Medikament">81/87 √ºberlebt (93%)</td>
<td class="gt_row gt_left" headers="Ohne Medikament">234/270 √ºberlebt (87%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Gruppe">Frauen</td>
<td class="gt_row gt_left" headers="Mit Medikament">192/263 √ºberlebt (73%)</td>
<td class="gt_row gt_left" headers="Ohne Medikament">55/80 √ºberlebt (69%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Gruppe">Gesamt</td>
<td class="gt_row gt_left" headers="Mit Medikament">273/350 √ºberlebt (78%)</td>
<td class="gt_row gt_left" headers="Ohne Medikament">289/350 √ºberlebt (83%)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</figure>
</div>
</div>
<p><a href="#fig-studie-a" class="quarto-xref">Abbildung&nbsp;<span>2.18</span></a> zeigt die Daten aus <a href="#tbl-studie-a" class="quarto-xref">Tabelle&nbsp;<span>2.3</span></a> in einem Balkendiagram.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-studie-a" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-studie-a-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25" title="Abbildung&nbsp;2.18: Daten zur Studie A in einem Balkendiagram"><img src="0200-Inferenz_files/figure-html/fig-studie-a-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.18: Daten zur Studie A in einem Balkendiagram
</figcaption></figure>
</div>
</div>
</div>
<p>Die Daten stammen aus einer (fiktiven) klinischen Studie, <span class="math inline">\(n=700\)</span>, hoher Qualit√§t (Beobachtungsstudie). Bei M√§nnern scheint das Medikament zu helfen; bei Frauen auch. Aber <em>insgesamt</em> (Summe von Frauen und M√§nnern) <em>nicht</em>?! Kann das sein? Was sollen wir den Arzt raten? Soll er das Medikament verschreiben? Vielleicht nur dann, wenn er das Geschlecht kennt <span class="citation" data-cites="pearl2016">(<a href="references.html#ref-pearl2016" role="doc-biblioref">Pearl et al., 2016</a>)</span>?!</p>
<p>In Wahrheit sehe die kausale Struktur so aus: Das Geschlecht (√ñstrogen) hat einen positiven (+) Einfluss auf Einnahme des Medikaments und negativen Einfluss (-) auf Heilung. Das Medikament hat einen positiven (+) Einfluss auf Heilung. Betrachtet man die Gesamt-Daten zur Heilung, so ist der Effekt von Geschlecht (√ñstrogen) und Medikament <em>vermengt</em> (konfundiert, confounded). Die kausale Struktur, also welche Variable beeinflusst bzw. nicht, ist in <a href="#fig-dag-studie-a" class="quarto-xref">Abbildung&nbsp;<span>2.19</span></a> dargestellt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-dag-studie-a" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-dag-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-dag-studie-a-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26" title="Abbildung&nbsp;2.19: Zwei direkte Effekte (gender, drug) und ein indirekter Effekt (gender √ºber drug) auf recovery"><img src="0200-Inferenz_files/figure-html/fig-dag-studie-a-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dag-studie-a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.19: Zwei direkte Effekte (gender, drug) und ein indirekter Effekt (gender √ºber drug) auf recovery
</figcaption></figure>
</div>
</div>
</div>
<p>Betrachtung der Gesamtdaten zeigt in diesem Fall einen <em>konfundierten</em> Effekt: Geschlecht konfundiert den Zusammenhang von Medikament und Heilung.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aufteilen in Teilgruppen (M√§nner bzw. Frauen) ist also in diesem Fall der korrekte, richtige Weg. Achtung: Das Stratifizieren ist nicht immer und nicht automatisch die richtige L√∂sung. Stratifizieren bedeutet, den Gesamtdatensatz in Gruppen oder ‚ÄúSchichten‚Äù (‚ÄúStrata‚Äù). W√ºrde man die Gesamzahl an Patienten mit vs.&nbsp;ohne Medikatment vergleichen, k√§me man zu einem falschen Schluss.</p>
</div>
</div>
</section></section><section id="studie-b-blutdruck" class="level3" data-number="2.7.3"><h3 data-number="2.7.3" class="anchored" data-anchor-id="studie-b-blutdruck">
<span class="header-section-number">2.7.3</span> Studie B: Blutdruck</h3>
<p>Medikament einnehmen? Oder lieber nicht?</p>
<p>Mit Blick auf <a href="#tbl-studie-b" class="quarto-xref">Tabelle&nbsp;<span>2.4</span></a>: Was raten Sie dem Arzt? Medikament einnehmen, ja oder nein?</p>
<div class="cell" data-layout-align="center">
<div id="tbl-studie-b" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-studie-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2.4: Daten zur Wirksamkeit eines Medikaments (Studie B)
</figcaption><div aria-describedby="tbl-studie-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="ejqqecnnza" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ejqqecnnza table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ejqqecnnza thead, #ejqqecnnza tbody, #ejqqecnnza tfoot, #ejqqecnnza tr, #ejqqecnnza td, #ejqqecnnza th {
  border-style: none;
}

#ejqqecnnza p {
  margin: 0;
  padding: 0;
}

#ejqqecnnza .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ejqqecnnza .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ejqqecnnza .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ejqqecnnza .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ejqqecnnza .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ejqqecnnza .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ejqqecnnza .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ejqqecnnza .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ejqqecnnza .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ejqqecnnza .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ejqqecnnza .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ejqqecnnza .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ejqqecnnza .gt_spanner_row {
  border-bottom-style: hidden;
}

#ejqqecnnza .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ejqqecnnza .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ejqqecnnza .gt_from_md > :first-child {
  margin-top: 0;
}

#ejqqecnnza .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ejqqecnnza .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ejqqecnnza .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ejqqecnnza .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ejqqecnnza .gt_row_group_first td {
  border-top-width: 2px;
}

#ejqqecnnza .gt_row_group_first th {
  border-top-width: 2px;
}

#ejqqecnnza .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ejqqecnnza .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ejqqecnnza .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ejqqecnnza .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ejqqecnnza .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ejqqecnnza .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ejqqecnnza .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ejqqecnnza .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ejqqecnnza .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ejqqecnnza .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ejqqecnnza .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ejqqecnnza .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ejqqecnnza .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ejqqecnnza .gt_left {
  text-align: left;
}

#ejqqecnnza .gt_center {
  text-align: center;
}

#ejqqecnnza .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ejqqecnnza .gt_font_normal {
  font-weight: normal;
}

#ejqqecnnza .gt_font_bold {
  font-weight: bold;
}

#ejqqecnnza .gt_font_italic {
  font-style: italic;
}

#ejqqecnnza .gt_super {
  font-size: 65%;
}

#ejqqecnnza .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ejqqecnnza .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ejqqecnnza .gt_indent_1 {
  text-indent: 5px;
}

#ejqqecnnza .gt_indent_2 {
  text-indent: 10px;
}

#ejqqecnnza .gt_indent_3 {
  text-indent: 15px;
}

#ejqqecnnza .gt_indent_4 {
  text-indent: 20px;
}

#ejqqecnnza .gt_indent_5 {
  text-indent: 25px;
}

#ejqqecnnza .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ejqqecnnza div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings header">
<th id="Gruppe" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Gruppe</th>
<th id="Ohne-Medikament" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Ohne Medikament</th>
<th id="Mit-Medikament" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Mit Medikament</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Gruppe">geringer Blutdruck</td>
<td class="gt_row gt_left" headers="Ohne Medikament">81/87 √ºberlebt (93%)</td>
<td class="gt_row gt_left" headers="Mit Medikament">234/270 √ºberlebt (87%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Gruppe">hoher Blutdruck</td>
<td class="gt_row gt_left" headers="Ohne Medikament">192/263 √ºberlebt (73%)</td>
<td class="gt_row gt_left" headers="Mit Medikament">55/80 √ºberlebt (69%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Gruppe">Gesamt</td>
<td class="gt_row gt_left" headers="Ohne Medikament">273/350 √ºberlebt (78%)</td>
<td class="gt_row gt_left" headers="Mit Medikament">289/350 √ºberlebt (83%)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Die Daten stammen aus einer (fiktiven) klinischen Studie, <span class="math inline">\(n=700\)</span>, hoher Qualit√§t (Beobachtungsstudie). Bei geringem Blutdruck scheint das Medikament zu schaden. Bei hohem Blutdrck scheint das Medikamenet auch zu schaden. Aber <em>insgesamt</em> (Summe √ºber beide Gruppe) <em>nicht</em>, da scheint es zu nutzen?! Was sollen wir den Arzt raten? Soll er das Medikament verschreiben? Vielleicht nur dann, wenn er den Blutdruck nicht kennt <span class="citation" data-cites="pearl2016">(<a href="references.html#ref-pearl2016" role="doc-biblioref">Pearl et al., 2016</a>)</span>?</p>
<p>Kausalmodell zur Studie B</p>
<p>Das Medikament hat einen (absenkenden) Einfluss auf den Blutdruck. Gleichzeitig hat das Medikament einen (toxischen) Effekt auf die Heilung. Verringerter Blutdruck hat einen positiven Einfluss auf die Heilung. Sucht man innerhalb der Leute mit gesenktem Blutdruck nach Effekten, findet man nur den toxischen Effekt: Gegeben diesen Blutdruck ist das Medikament sch√§dlich aufgrund des toxischen Effekts. Der positive Effekt der Blutdruck-Senkung ist auf diese Art nicht zu sehen.</p>
<p>Das Kausalmodell von Studie B ist in <a href="#fig-dag-studie-b" class="quarto-xref">Abbildung&nbsp;<span>2.20</span></a> dargestellt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-dag-studie-b" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-dag-studie-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="0200-Inferenz_files/figure-html/fig-dag-studie-b-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27" title="Abbildung&nbsp;2.20: Drug hat keinen direkten, aber zwei indirekte Effekt auf recovery, einer davon ist heilsam, einer sch√§dlich"><img src="0200-Inferenz_files/figure-html/fig-dag-studie-b-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dag-studie-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.20: Drug hat keinen direkten, aber zwei indirekte Effekt auf recovery, einer davon ist heilsam, einer sch√§dlich
</figcaption></figure>
</div>
</div>
</div>
<p>Betrachtung der Teildaten zeigt nur den toxischen Effekt des Medikaments, nicht den n√ºtzlichen (Reduktion des Blutdrucks).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Betrachtung der Gesamtdaten zeigt in diesem Fall den wahren, kausalen Effekt. Stratifizieren w√§re falsch, da dann nur der toxische Effekt, aber nicht der heilsame Effekt sichtbar w√§re.</p>
</div>
</div>
</section><section id="studie-a-und-b-gleiche-daten-unterschiedliches-kausalmodell" class="level3" data-number="2.7.4"><h3 data-number="2.7.4" class="anchored" data-anchor-id="studie-a-und-b-gleiche-daten-unterschiedliches-kausalmodell">
<span class="header-section-number">2.7.4</span> Studie A und B: Gleiche Daten, unterschiedliches Kausalmodell</h3>
<p>Vergleichen Sie die DAGs <a href="#fig-dag-studie-a" class="quarto-xref">Abbildung&nbsp;<span>2.19</span></a> und <a href="#fig-dag-studie-b" class="quarto-xref">Abbildung&nbsp;<span>2.20</span></a>, die die <em>Kausalmodelle</em> der Studien A und B darstellen: Sie sind <em>unterschiedlich</em>. Aber: Die <em>Daten</em> sind <em>identisch</em>.</p>
<p>Kausale Interpretation - und damit Entscheidungen f√ºr Handlungen - war nur m√∂glich, da das Kausalmodell bekannt ist. Die Daten alleine reichen nicht (bei Beobachtungsstudien).</p>
</section><section id="sorry-statistik-du-allein-schaffst-es-nicht" class="level3" data-number="2.7.5"><h3 data-number="2.7.5" class="anchored" data-anchor-id="sorry-statistik-du-allein-schaffst-es-nicht">
<span class="header-section-number">2.7.5</span> Sorry, Statistik: Du allein schaffst es nicht</h3>
<p>Datenanalyse alleine reicht nicht f√ºr Kausalschl√ºsse. üßü</p>
<p>Kausalinferenz üìö plus Datenanalyse üìä erlaubt Kausalschl√ºsse. üìö‚ûïüìä üü∞ ü§©</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>F√ºr Entscheidungen (‚ÄúWas soll ich tun?‚Äù) braucht man kausales Wissen. Kausales Wissen basiert auf einer Theorie (Kausalmodell) plus Daten.</p>
</div>
</div>
</section></section><section id="fazit" class="level2" data-number="2.8"><h2 data-number="2.8" class="anchored" data-anchor-id="fazit">
<span class="header-section-number">2.8</span> Fazit</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://imgflip.com/i/77wn7m">Kontinuierliches Lernen</a> ist der Schl√ºssel zum Erfolg.</p>
</div>
</div>
<p>Wenn Sie an einer (nicht pr√ºfungsrelevanten) Vertiefung interessiert sind, Lesen Sie die Einf√ºhrung zum Thema Modellieren bei <span class="citation" data-cites="poldrack2022">Poldrack (<a href="references.html#ref-poldrack2022" role="doc-biblioref">2022</a>)</span> (Kap. 5.1).</p>
</section><section id="aufgaben" class="level2" data-number="2.9"><h2 data-number="2.9" class="anchored" data-anchor-id="aufgaben">
<span class="header-section-number">2.9</span> Aufgaben</h2>
<p>Schauen Sie sich die Aufgaben mit dem Tag <em>inference</em> auf dem <a href="https://datenwerk.netlify.app/#category=inference">Datenwerk</a> an.</p>
<section id="paper-pencil-aufgaben" class="level3" data-number="2.9.1"><h3 data-number="2.9.1" class="anchored" data-anchor-id="paper-pencil-aufgaben">
<span class="header-section-number">2.9.1</span> Paper-Pencil-Aufgaben</h3>
<ol type="1">
<li><a href="https://datenwerk.netlify.app/posts/griech-buchstaben-inferenz/griech-buchstaben-inferenz/">Griech-Buchstaben-Inferenz</a></li>
<li><a href="https://datenwerk.netlify.app/posts/inferenz-fuer-alle/inferenz-fuer-alle">inferenz-fuer-alle</a></li>
<li><a href="https://datenwerk.netlify.app/posts/ttest-als-regr/ttest-als-regr/">ttest-als-regr</a></li>
<li><a href="https://datenwerk.netlify.app/posts/ttest-skalenniveau/ttest-skalenniveau/">ttest-skalenniveau</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/pwert2/">pwert2</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/interpret-ci/">interpret-ci</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/interpret-ci2/">interpret-ci2</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/gruppenvergleich-regression/">gruppenvergleich-regression</a></li>
<li><a href="https://datenwerk.netlify.app/posts/warum-bayes/warum-bayes">Warum-Bayes</a></li>
<li><a href="https://datenwerk.netlify.app/posts/samples-nyc2/">samples-nyc2</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/parameter-genau/">parameter-genau</a></li>
<li><a href="https://datenwerk.netlify.app/posts/punktschaetzer-reicht-nicht/punktschaetzer-reicht-nicht.html">punktschaetzer-reicht-nicht</a></li>
</ol></section><section id="aufgaben-f√ºr-die-man-einen-computer-braucht" class="level3" data-number="2.9.2"><h3 data-number="2.9.2" class="anchored" data-anchor-id="aufgaben-f√ºr-die-man-einen-computer-braucht">
<span class="header-section-number">2.9.2</span> Aufgaben, f√ºr die man einen Computer braucht</h3>
<ol type="1">
<li>[korr-als-regr](https://datenwerk.netlify.app/posts/korr-als-regr/korr-als-regr.html</li>
<li><a href="https://datenwerk.netlify.app/posts/ungewiss-arten-regr/ungewiss-arten-regr.html">ungewiss-arten-regr</a></li>
<li><a href="https://datenwerk.netlify.app/posts/inferenz-fuer-alle/inferenz-fuer-alle.html">inferenz-fuer-alle</a></li>
<li><a href="https://datenwerk.netlify.app/posts/adjustieren1a/adjustieren1a.html">adjustieren1a</a></li>
<li><a href="https://datenwerk.netlify.app/posts/adjustieren2a/adjustieren2a.html">adjustieren2a</a></li>
<li><a href="https://datenwerk.netlify.app/posts/lm-standardfehler/lm-standardfehler.html">lm-standardfehler</a></li>
<li><a href="https://datenwerk.netlify.app/posts/vorhersageintervall1/vorhersageintervall1.html">vorhersageintervall1</a></li>
</ol></section></section><section id="section" class="level2" data-number="2.10"><h2 data-number="2.10" class="anchored" data-anchor-id="section">
<span class="header-section-number">2.10</span> ‚Äî</h2>
<p><a href="img/outro-02.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="img/outro-02.jpg" class="img-fluid" style="width:100.0%"></a></p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-badenes-ribera2016" class="csl-entry" role="listitem">
Badenes-Ribera, L., Frias-Navarro, D., Iotti, B., Bonilla-Campos, A., &amp; Longobardi, C. (2016). Misconceptions of the P-Value among <span>Chilean</span> and <span>Italian Academic Psychologists</span>. <em>Frontiers in Psychology</em>, <em>7</em>. <a href="https://www.frontiersin.org/article/10.3389/fpsyg.2016.01247">https://www.frontiersin.org/article/10.3389/fpsyg.2016.01247</a>
</div>
<div id="ref-gelman2021" class="csl-entry" role="listitem">
Gelman, A., Hill, J., &amp; Vehtari, A. (2021). <em>Regression and Other Stories</em>. Cambridge University Press.
</div>
<div id="ref-hoekstra2014" class="csl-entry" role="listitem">
Hoekstra, R., Morey, R. D., Rouder, J. N., &amp; Wagenmakers, E.-J. (2014). Robust Misinterpretation of Confidence Intervals. <em>Psychonomic bulletin &amp; review</em>, <em>21</em>(5), 1157‚Äì1164. <a href="http://www.ejwagenmakers.com/inpress/HoekstraEtAlPBR.pdf">http://www.ejwagenmakers.com/inpress/HoekstraEtAlPBR.pdf</a>
</div>
<div id="ref-kabadayi2024" class="csl-entry" role="listitem">
Kabadayi, F. (2024). Smartphone Addiction, Depression, Distress, Eustress, Loneliness, and Sleep Deprivation in Adolescents: A Latent Profile and Network Analysis Approach. <em>BMC Psychology</em>, <em>12</em>(1), 608. <a href="https://doi.org/10.1186/s40359-024-02117-6">https://doi.org/10.1186/s40359-024-02117-6</a>
</div>
<div id="ref-makowski2019" class="csl-entry" role="listitem">
Makowski, D., Ben-Shachar, M. S., Chen, S. H. A., &amp; L√ºdecke, D. (2019). Indices of <span>Effect Existence</span> and <span>Significance</span> in the <span>Bayesian Framework</span>. <em>Frontiers in Psychology</em>, <em>10</em>. <a href="https://www.frontiersin.org/article/10.3389/fpsyg.2019.02767">https://www.frontiersin.org/article/10.3389/fpsyg.2019.02767</a>
</div>
<div id="ref-pearl2016" class="csl-entry" role="listitem">
Pearl, J., Glymour, M., &amp; Jewell, N. P. (2016). <em>Causal Inference in Statistics: A Primer</em>. Wiley.
</div>
<div id="ref-poldrack2022" class="csl-entry" role="listitem">
Poldrack, R. (2022). <em>Statistical <span>Thinking</span> for the 21st <span>Century</span></em>. <a href="https://statsthinking21.github.io/statsthinking21-core-site/index.html">https://statsthinking21.github.io/statsthinking21-core-site/index.html</a>
</div>
<div id="ref-shmueli2010" class="csl-entry" role="listitem">
Shmueli, G. (2010). To <span>Explain</span> or to <span>Predict</span>? <em>Statistical Science</em>, <em>25</em>(3), 289‚Äì310. <a href="https://doi.org/10.1214/10-STS330">https://doi.org/10.1214/10-STS330</a>
</div>
<div id="ref-wasserstein2016" class="csl-entry" role="listitem">
Wasserstein, R. L., &amp; Lazar, N. A. (2016). The <span>ASA</span>‚Äôs <span>Statement</span> on p-<span>Values</span>: <span>Context</span>, <span>Process</span>, and <span>Purpose</span>. <em>The American Statistician</em>, <em>70</em>(2), 129‚Äì133. <a href="https://doi.org/10.1080/00031305.2016.1154108">https://doi.org/10.1080/00031305.2016.1154108</a>
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Ziele existieren nicht ‚Äúin echt‚Äù in der Welt. Wir denken sie uns aus. Ziele haben also keine ontologische Wirklichkeit, sie sind epistemologische Dinge (existieren nur in unserem Kopf). Das hei√üt, dass man sich nach Belieben Ziele ausdenken kann. Allerdings hilft es, wenn man andere Menschen vom Nutzen der eigenen Ideen √ºberzeugen kann.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p><del>Meistens</del> Manchmal darf man bei der Statistik nicht nach einem tieferen Sinn suchen. Ist Statistik eine Art moderne Kunst?<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>Manch einer h√§tte mit mehr gerechnet; andere mit weniger‚Ä¶<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>Das ist nat√ºrlich nur ein fiktives, komplett unrealistisches Beispiel, das auch unklaren Ursachen den Weg auf diese Seite gefunden hat.<a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p><a href="https://gallery.shinyapps.io/simple_regression/" class="uri">https://gallery.shinyapps.io/simple_regression/</a><a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>Wie Jonas <a href="https://lindeloev.github.io/tests-as-linear/">Kristoffer Lindel√∏v</a> uns erkl√§rt, sind viele statistische Verfahren, wie der sog. t-Test Spezialf√§lle der Regression.<a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p>Der Datensatz <code>mtcars</code> wird gerne als Studienobjekt verwendet, da er einfach ist und f√ºr viele Beispiele geeignet. Wenn Sie sich einen Sachverhalt an einem einfachen Datensatz vergegenw√§rtigen wollen, bietet sich auch der Datensatz <code>mtcars</code> an. Zudem ist er ‚Äúfest in R eingebaut‚Äù; mit <code>data(mtcars)</code> k√∂nnen Sie ihn verf√ºgbar machen.<a href="#fnref7" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p><span class="math inline">\(\sigma\)</span>, das griechische <em>s</em> f√ºr Streuung (um die Regressionsgerade herum), manchmal wird auch e wie <em>error</em> verwendet<a href="#fnref8" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p>Tats√§chlich gibt es mehrere Synonyme oder √§hnliche Begriffe f√ºr Konfidenzintervall. Wir kommen sp√§ter darauf detaillierter zu sprechen.<a href="#fnref9" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn10"><p>nicht pr√ºfungsrelevant<a href="#fnref10" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol></section></main><!-- /main --><script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InJlc2V0QnV0dG9uID0ge1xuICBjb25zdCByZXNldEJ1dHRvbiA9IElucHV0cy5idXR0b24oXCJSZXNldFwiKTtcblxuICBkMy5zZWxlY3QocmVzZXRCdXR0b24pLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xuXG4gICAgcmVncmVzc2lvblBsb3QucmVzZXQoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc2V0QnV0dG9uO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld09wdGlvbnMgPSB7XG4gIGNvbnN0IHZpZXdPcHRpb25zID0gSW5wdXRzLnJhZGlvKFxuICAgIFtcIktlaW4gRmVobGVyXCIsIFwiQWJzb2x1dGVyIEZlaGxlclwiLCBcIlF1YWRyaWVydGVyIEZlaGxlclwiXSxcbiAgICB7IGxhYmVsOiBcIlZpZXdcIiwgdmFsdWU6IFwiQWJzb2x1dGVyIEZlaGxlclwiIH1cbiAgKTtcblxuICBkMy5zZWxlY3Qodmlld09wdGlvbnMpLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgIHJlZ3Jlc3Npb25QbG90LnVwZGF0ZVZpZXcodmlld09wdGlvbnMudmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gdmlld09wdGlvbnM7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJyU3F1YXJlZFBsb3QgPSBSU3F1YXJlZFBsb3QoeyB3aWR0aDogd2lkdGggfSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InJlZ3Jlc3Npb25QbG90ID0ge1xuICBjb25zdCByZWdyZXNzaW9uUGxvdCA9IFJlZ3Jlc3Npb25QbG90KGRhdGEuc2xpY2UoMCwgMSksIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgeERvbWFpbjogWzAsIGQzLm1heChkYXRhLCAoW3hdKSA9PiB4KSArIDVdLFxuICAgIHlEb21haW46IFswLCBkMy5tYXgoZGF0YSwgKFtfLCB5XSkgPT4geSkgKyA1XSxcbiAgICByOiA2LFxuICAgIHNob3dHcmlkOiB0cnVlXG4gIH0pO1xuICAvLyBBdHRhY2ggbGlzdGVuZXJcbiAgZDMuc2VsZWN0KHJlZ3Jlc3Npb25QbG90KS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICByU3F1YXJlZFBsb3QudXBkYXRlKHRoaXMudmFsdWUsIHRoaXMudHJhbnNpdGlvbik7XG4gIH0pO1xuXG4gIHJTcXVhcmVkUGxvdC51cGRhdGUocmVncmVzc2lvblBsb3QudmFsdWUpO1xuXG4gIHJldHVybiByZWdyZXNzaW9uUGxvdDtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IndpZHRoID0gODAwXG5kYXRhID0ge1xuICBjb25zdCBudW1Qb2ludHMgPSAxNTtcbiAgY29uc3QgeFNjYWxlID0gMTA7XG4gIGNvbnN0IHhTaGlmdCA9IDU7XG4gIGNvbnN0IHlTY2FsZSA9IDY7XG4gIGNvbnN0IHlTaGlmdCA9IDA7XG5cbiAgY29uc3QgZGF0YSA9IGQzLnJhbmdlKG51bVBvaW50cykubWFwKChpKSA9PiB7XG4gICAgY29uc3QgeENvb3JkID0geFNoaWZ0ICsgeFNjYWxlICogZDMucmFuZG9tVW5pZm9ybSgpKCk7XG4gICAgY29uc3QgeUNvb3JkID0geVNoaWZ0ICsgeENvb3JkICsgeVNjYWxlICogZDMucmFuZG9tVW5pZm9ybSgpKCk7XG5cbiAgICByZXR1cm4gW3hDb29yZCwgeUNvb3JkXTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJhbmltYXRpb24gPSB7XG4gIC8vIFBlcmZvcm0gb3BlbmluZyBhbmltYXRpb25cbiAgY29uc3QgdG90YWxUaW1lID0gNl8wMDA7XG4gIGNvbnN0IGVhc2UgPSBkMy5lYXNlUXVhZE91dDtcblxuICBkMy5yYW5nZSgxLCBkYXRhLmxlbmd0aCkuZm9yRWFjaCgoaSkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgW3hDb29yZCwgeUNvb3JkXSA9IGRhdGFbaV07XG5cbiAgICAgIHJlZ3Jlc3Npb25QbG90LnVwZGF0ZURhdGFwb2ludCh4Q29vcmQsIHlDb29yZCk7XG4gICAgfSwgdG90YWxUaW1lICogZWFzZShpIC8gZGF0YS5sZW5ndGgpKTtcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBSU3F1YXJlZFBsb3Qoe1xuICBkYXRhLFxuICBtYXJnaW5Ub3AgPSAwLCAvLyB0b3AgbWFyZ2luLCBpbiBwaXhlbHNcbiAgbWFyZ2luUmlnaHQgPSAzMCwgLy8gcmlnaHQgbWFyZ2luLCBpbiBwaXhlbHNcbiAgbWFyZ2luQm90dG9tID0gMCwgLy8gYm90dG9tIG1hcmdpbiwgaW4gcGl4ZWxzXG4gIG1hcmdpbkxlZnQgPSA1MywgLy8gbGVmdCBtYXJnaW4sIGluIHBpeGVsc1xuICB3aWR0aCA9IDY0MCwgLy8gb3V0ZXIgd2lkdGgsIGluIHBpeGVsc1xuICBoZWlnaHQgPSAyMCwgLy8gb3V0ZXIgaGVpZ2h0LCBpbiBwaXhlbHNcbiAgYmFySGVpZ2h0ID0gMjUsIC8vIGhlaWdodCBvZiBiYXIsIGluIHBpeGVsc1xuICB0aXRsZVNpemUgPSAyMCwgLy8gZm9udHNpemUgb2YgdGl0bGUgdGV4dFxuICBsYWJlbFNpemUgPSAxMiAvLyBmb250c2l6ZSBvZiBsYWJlbCB0ZXh0XG59ID0ge30pIHtcbiAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgZGF0YSA9IDA7XG5cbiAgY29uc3QgeFNjYWxlID0gZDNcbiAgICAuc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oWzAsIDFdKVxuICAgIC5yYW5nZShbbWFyZ2luTGVmdCwgd2lkdGggLSBtYXJnaW5SaWdodF0pO1xuXG4gIGNvbnN0IHN2ZyA9IGQzXG4gICAgLmNyZWF0ZShcInN2Z1wiKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KVxuICAgIC5hdHRyKFwidmlld0JveFwiLCBbMCwgMCwgd2lkdGgsIGhlaWdodF0pXG4gICAgLmF0dHIoXCJzdHlsZVwiLCBcIm1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyBoZWlnaHQ6IGludHJpbnNpYztcIik7XG5cbiAgLy8gRHJhdyB0aXRsZS5cbiAgY29uc3QgdGl0bGVHcm91cCA9IHN2Zy5hcHBlbmQoXCJnXCIpO1xuXG4gIC8vIHRpdGxlR3JvdXBcbiAgLy8gICAuYXBwZW5kKFwibGluZVwiKVxuICAvLyAgIC5hdHRyKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcbiAgLy8gICAuYXR0cihcIngxXCIsIHhTY2FsZSgwKSlcbiAgLy8gICAuYXR0cihcIngyXCIsIHhTY2FsZSgwKSlcbiAgLy8gICAuYXR0cihcInkxXCIsIDApXG4gIC8vICAgLmF0dHIoXCJ5MlwiLCBoZWlnaHQpO1xuXG4gIHRpdGxlR3JvdXBcbiAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgIC5hdHRyKFwiZmlsbFwiLCBcImJsYWNrXCIpXG4gICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuICAgIC5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJtaWRkbGVcIilcbiAgICAuYXR0cihcImZvbnQtZmFtaWx5XCIsIFwic2VyaWZcIilcbiAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCB0aXRsZVNpemUpXG4gICAgLmF0dHIoXCJ4XCIsIHhTY2FsZSgwKSlcbiAgICAuYXR0cihcImR4XCIsIC0xMClcbiAgICAuYXR0cihcInlcIiwgaGVpZ2h0IC8gMilcbiAgICAudGV4dChcIlLCslwiKTtcblxuICAvLyBEcmF3IHdob2xlIGJhci5cbiAgc3ZnXG4gICAgLmFwcGVuZChcImdcIilcbiAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgIC5hdHRyKFwiZmlsbFwiLCBcImdhaW5zYm9yb1wiKVxuICAgIC5hdHRyKFwieFwiLCB4U2NhbGUoMCkpXG4gICAgLmF0dHIoXCJ5XCIsIG1hcmdpblRvcClcbiAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoIC0gbWFyZ2luTGVmdCAtIG1hcmdpblJpZ2h0KVxuICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCAtIG1hcmdpblRvcCAtIG1hcmdpbkJvdHRvbSk7XG5cbiAgLy8gRHJhdyBiYXIuXG4gIGNvbnN0IGJhciA9IHVwZGF0ZUJhcihzdmcuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCJyZWN0XCIpLCAwKTtcblxuICAvLyBEcmF3IGxhYmVsXG4gIGNvbnN0IGxhYmVsRm9ybWF0ID0gZDMuZm9ybWF0KFwiLjJmXCIpO1xuICBjb25zdCBsYWJlbCA9IHVwZGF0ZUxhYmVsKHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcInRleHRcIiksIDApO1xuXG4gIC8vIFVwZGF0ZSBhY2NvcmRpbmcgdG8gZGF0YS5cbiAgdXBkYXRlKGRhdGEpO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUJhcihyZWN0LCBkYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIHJldHVybiByZWN0LmRhdGEoW2RhdGFdKS5qb2luKFxuICAgICAgKGVudGVyKSA9PlxuICAgICAgICBlbnRlclxuICAgICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAuYXR0cihcInhcIiwgeFNjYWxlKDApKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCBtYXJnaW5Ub3ApXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCAtIG1hcmdpblRvcCAtIG1hcmdpbkJvdHRvbSksXG4gICAgICAodXBkYXRlKSA9PlxuICAgICAgICB1cGRhdGUuY2FsbCgodXBkYXRlKSA9PiB7XG4gICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHVwZGF0ZSA9IHVwZGF0ZS50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgICB1cGRhdGUuYXR0cihcIndpZHRoXCIsIChkKSA9PiB4U2NhbGUoaXNOYU4oZCkgPyAwIDogZCkgLSB4U2NhbGUoMCkpO1xuICAgICAgICB9KVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMYWJlbCh0ZXh0LCBkYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIHJldHVybiB0ZXh0LmRhdGEoW2RhdGFdKS5qb2luKFxuICAgICAgKGVudGVyKSA9PlxuICAgICAgICBlbnRlclxuICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJkb21pbmFudC1iYXNlbGluZVwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzYW5zLXNlcmlmXCIpXG4gICAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgbGFiZWxTaXplKVxuICAgICAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIilcbiAgICAgICAgICAuYXR0cihcImR4XCIsIDEwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCB4U2NhbGUoMCkpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIGhlaWdodCAvIDIpXG4gICAgICAgICAgLnRleHQobGFiZWxGb3JtYXQoXCIwXCIpKSxcbiAgICAgICh1cGRhdGUpID0+XG4gICAgICAgIHVwZGF0ZS5jYWxsKCh1cGRhdGUpID0+IHtcbiAgICAgICAgICAvLyBDaGVjayBpZiBiYXIgaXMgdG9vIHNob3J0XG4gICAgICAgICAgY29uc3QgY2hlY2sgPSAoZCkgPT4gZCA8IDAuMTtcblxuICAgICAgICAgIGlmICh0cmFuc2l0aW9uKSB1cGRhdGUgPSB1cGRhdGUudHJhbnNpdGlvbigpO1xuXG4gICAgICAgICAgdXBkYXRlXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgKGQpID0+IHhTY2FsZShkKSlcbiAgICAgICAgICAgIC50ZXh0KChkKSA9PiBsYWJlbEZvcm1hdChkKSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4gKGNoZWNrKGQpID8gXCJibGFja1wiIDogXCJ3aGl0ZVwiKSlcbiAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgKGQpID0+IChjaGVjayhkKSA/IFwic3RhcnRcIiA6IFwiZW5kXCIpKVxuICAgICAgICAgICAgLmF0dHIoXCJkeFwiLCAoZCkgPT4gKGNoZWNrKGQpID8gMTAgOiAtMTApKTtcbiAgICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgLy8gTWFpbiBmdW5jdGlvbiBmb3IgZGF0YSB1cGRhdGVzLlxuICBmdW5jdGlvbiB1cGRhdGUoZGF0YSwgdHJhbnNpdGlvbiA9IHRydWUpIHtcbiAgICB1cGRhdGVCYXIoYmFyLCBkYXRhLCB0cmFuc2l0aW9uKTtcbiAgICB1cGRhdGVMYWJlbChsYWJlbCwgZGF0YSwgdHJhbnNpdGlvbik7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihzdmcubm9kZSgpLCB7IHVwZGF0ZSB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIHRvIGRyYXcgbGluZXMgYXQgdGhlIG9yaWdpbiAodG8gc2hvdyBpbnRlcmNlcHQgYW5kIHN0dWZmKVxuLy8gY3JlYXRlIHZvcm9ub2kgb3ZlcmxheT8gZm9yIGRyYWdnaW5nIHBvaW50c1xuLy8gdml6IGVycm9yIC8gc3F1YXJlZCBlcnJvclxuLy8gbWFrZSB0aGUgZXJyb3IgbGluZXMgbG9vayBsaWtlIGEgd2VpZ2h0XG4vLyBzaG93IG90aGVyIG1ldHJpY3MgbGlrZSBSXjIgZXRjLlxuZnVuY3Rpb24gUmVncmVzc2lvblBsb3QoXG4gIGRhdGEsXG4gIHtcbiAgICB4ID0gKFt4XSkgPT4geCwgLy8gYWNjZXNzb3IgZnVuY3Rpb24gZm9yIHgtY29vcmRpbmF0ZVxuICAgIHkgPSAoWywgeV0pID0+IHksIC8vIGFjY2Vzc29yIGZ1bmN0aW9uIGZvciB5LWNvb3JkaW5hdGVcbiAgICByID0gNiwgLy8gcmFkaXVzIG9mIGRvdHMsIGluIHBpeGVsc1xuICAgIG1hcmdpblRvcCA9IDIwLCAvLyB0b3AgbWFyZ2luLCBpbiBwaXhlbHNcbiAgICBtYXJnaW5SaWdodCA9IDMwLCAvLyByaWdodCBtYXJnaW4sIGluIHBpeGVsc1xuICAgIG1hcmdpbkJvdHRvbSA9IDMwLCAvLyBib3R0b20gbWFyZ2luLCBpbiBwaXhlbHNcbiAgICBtYXJnaW5MZWZ0ID0gNDAsIC8vIGxlZnQgbWFyZ2luLCBpbiBwaXhlbHNcbiAgICBpbnNldCA9IHIgKiAyLCAvLyBpbnNldCB0aGUgZGVmYXVsdCByYW5nZSwgaW4gcGl4ZWxzXG4gICAgaW5zZXRUb3AgPSBpbnNldCwgLy8gaW5zZXQgdGhlIGRlZmF1bHQgeS1yYW5nZVxuICAgIGluc2V0UmlnaHQgPSBpbnNldCwgLy8gaW5zZXQgdGhlIGRlZmF1bHQgeC1yYW5nZVxuICAgIGluc2V0Qm90dG9tID0gaW5zZXQsIC8vIGluc2V0IHRoZSBkZWZhdWx0IHktcmFuZ2VcbiAgICBpbnNldExlZnQgPSBpbnNldCwgLy8gaW5zZXQgdGhlIGRlZmF1bHQgeC1yYW5nZVxuICAgIHdpZHRoID0gNjQwLCAvLyBvdXRlciB3aWR0aCwgaW4gcGl4ZWxzXG4gICAgaGVpZ2h0ID0gNTAwLCAvLyBvdXRlciBoZWlnaHQsIGluIHBpeGVsc1xuICAgIHhUeXBlID0gZDMuc2NhbGVMaW5lYXIsIC8vIHR5cGUgb2YgeC1zY2FsZVxuICAgIHhEb21haW4sIC8vIFt4bWluLCB4bWF4XVxuICAgIHhSYW5nZSA9IFttYXJnaW5MZWZ0ICsgaW5zZXRMZWZ0LCB3aWR0aCAtIG1hcmdpblJpZ2h0IC0gaW5zZXRSaWdodF0sIC8vIFtsZWZ0LCByaWdodF1cbiAgICB5VHlwZSA9IGQzLnNjYWxlTGluZWFyLCAvLyB0eXBlIG9mIHktc2NhbGVcbiAgICB5RG9tYWluLCAvLyBbeW1pbiwgeW1heF1cbiAgICB5UmFuZ2UgPSBbaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gaW5zZXRCb3R0b20sIG1hcmdpblRvcCArIGluc2V0VG9wXSwgLy8gW2JvdHRvbSwgdG9wXVxuICAgIHNob3dHcmlkID0gdHJ1ZSAvLyB3aGV0aGVyIHRvIHNob3cgZ3JpZCBsaW5lc1xuICB9ID0ge31cbikge1xuICBjb25zdCBlcnJvckNvbG9yID0gZDMuc2NoZW1lU2V0M1szXTtcblxuICBsZXQgZXJyb3JMaW5lc09wYWNpdHkgPSAxO1xuICBsZXQgZXJyb3JTcXVhcmVzT3BhY2l0eSA9IDA7XG5cbiAgLy8gSW5pdCBkcmFnIG9iamVjdC5cbiAgY29uc3QgZHJhZyA9IGQzXG4gICAgLmRyYWcoKVxuICAgIC8vIC5vbihcInN0YXJ0XCIsIGRyYWdzdGFydGVkKVxuICAgIC5vbihcImRyYWdcIiwgZHJhZ2dlZCk7XG4gIC8vIC5vbihcImVuZFwiLCBkcmFnZW5kZWQpO1xuXG4gIC8vIFRvIGdpdmUgZWFjaCBkYXRhIHBvaW50IGEgdW5pcXVlIGlkXG4gIGxldCBpZENvdW50ZXIgPSAwO1xuXG4gIC8vIENvbXB1dGUgZGF0YSB2YWx1ZXMuXG4gIGRhdGEgPSBkYXRhLm1hcCgoZCkgPT4gKHtcbiAgICB4Q29vcmQ6IHgoZCksXG4gICAgeUNvb3JkOiB5KGQpLFxuICAgIGlkOiBpZENvdW50ZXIrK1xuICB9KSk7XG5cbiAgLy8gU3RvcmUgY29weSBvZiBpbml0aWFsIGRhdGEgb2JqZWN0XG4gIGNvbnN0IGluaXREYXRhID0gZGF0YS5tYXAoKGQpID0+ICh7IC4uLmQgfSkpO1xuXG4gIC8vIENvbXB1dGUgZGVmYXVsdCBkb21haW5zLlxuICAvLyBpZiAoeERvbWFpbiA9PT0gdW5kZWZpbmVkKSB4RG9tYWluID0gZDMuZXh0ZW50KGRhdGEsIChkKSA9PiBkLnhDb29yZCk7XG4gIGlmICh4RG9tYWluID09PSB1bmRlZmluZWQpIHhEb21haW4gPSBbMCwgZDMubWF4KGRhdGEsIChkKSA9PiBkLnhDb29yZCldO1xuICBpZiAoeURvbWFpbiA9PT0gdW5kZWZpbmVkKSB5RG9tYWluID0gWzAsIGQzLm1heChkYXRhLCAoZCkgPT4gZC55Q29vcmQpXTtcblxuICAvLyBJbml0IGxpbmVhciByZWdyZXNzb3IuXG4gIGNvbnN0IGxpbmVhclJlZ3Jlc3Npb24gPSBkM1xuICAgIC5yZWdyZXNzaW9uTGluZWFyKClcbiAgICAueCgoZCkgPT4gZC54Q29vcmQpXG4gICAgLnkoKGQpID0+IGQueUNvb3JkKVxuICAgIC5kb21haW4oeERvbWFpbik7XG5cbiAgLy8gQ29uc3RydWN0IHNjYWxlcyBhbmQgYXhlcy5cbiAgY29uc3QgeFNjYWxlID0geFR5cGUoeERvbWFpbiwgeFJhbmdlKTtcbiAgY29uc3QgeVNjYWxlID0geVR5cGUoeURvbWFpbiwgeVJhbmdlKTtcbiAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHhTY2FsZSkudGlja3Mod2lkdGggLyA4MCk7XG4gIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeVNjYWxlKS50aWNrcyhoZWlnaHQgLyA4MCk7XG5cbiAgLy8gRHJhdyBzdmcuXG4gIGNvbnN0IHN2ZyA9IGQzXG4gICAgLmNyZWF0ZShcInN2Z1wiKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KVxuICAgIC5hdHRyKFwidmlld0JveFwiLCBbMCwgMCwgd2lkdGgsIGhlaWdodF0pXG4gICAgLmF0dHIoXCJzdHlsZVwiLCBcIm1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyBoZWlnaHQ6IGludHJpbnNpYztcIik7XG5cbiAgLy8gRHJhdyB4QXhpcy5cbiAgY29uc3QgYXhpc09wYWNpdHkgPSAxO1xuXG4gIGNvbnN0IHhHcm91cCA9IHN2Z1xuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgwLCR7aGVpZ2h0IC0gbWFyZ2luQm90dG9tfSlgKVxuICAgIC5hdHRyKFwib3BhY2l0eVwiLCBheGlzT3BhY2l0eSlcbiAgICAuY2FsbCh4QXhpcylcbiAgICAuY2FsbCgoZykgPT4gZy5zZWxlY3QoXCIuZG9tYWluXCIpLnJlbW92ZSgpKTtcbiAgLy8gRHJhdyBncmlkIGxpbmVzXG4gIHhHcm91cFxuICAgIC5zZWxlY3RBbGwoXCIudGljayBsaW5lXCIpXG4gICAgLmNsb25lKClcbiAgICAuYXR0cihcInkyXCIsIG1hcmdpblRvcCArIG1hcmdpbkJvdHRvbSAtIGhlaWdodClcbiAgICAvLyBEcmF3IGxpbmUgYXQgb3JpZ2luXG4gICAgLmF0dHIoXCJzdHJva2Utb3BhY2l0eVwiLCAoZCkgPT4ge1xuICAgICAgaWYgKGQgPT0gMCkge1xuICAgICAgICByZXR1cm4gYXhpc09wYWNpdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2hvd0dyaWQgPyAwLjEgOiAwO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIERyYXcgeUF4aXMuXG4gIGNvbnN0IHlHcm91cCA9IHN2Z1xuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgke21hcmdpbkxlZnR9LDApYClcbiAgICAuYXR0cihcIm9wYWNpdHlcIiwgYXhpc09wYWNpdHkpXG4gICAgLmNhbGwoeUF4aXMpXG4gICAgLmNhbGwoKGcpID0+IGcuc2VsZWN0KFwiLmRvbWFpblwiKS5yZW1vdmUoKSk7XG4gIHlHcm91cFxuICAgIC5zZWxlY3RBbGwoXCIudGljayBsaW5lXCIpXG4gICAgLmNsb25lKClcbiAgICAuYXR0cihcIngyXCIsIHdpZHRoIC0gbWFyZ2luTGVmdCAtIG1hcmdpblJpZ2h0KVxuICAgIC8vIERyYXcgbGluZSBhdCBvcmlnaW5cbiAgICAuYXR0cihcInN0cm9rZS1vcGFjaXR5XCIsIChkKSA9PiB7XG4gICAgICBpZiAoZCA9PSAwKSB7XG4gICAgICAgIHJldHVybiBheGlzT3BhY2l0eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzaG93R3JpZCA/IDAuMSA6IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gRHJhdyBlcnJvciBzcXVhcmVzLlxuICBsZXQgZXJyb3JTcXVhcmVzID0gdXBkYXRlRXJyb3JTcXVhcmVzKFxuICAgIHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcInJlY3RcIiksXG4gICAgZGF0YVxuICApO1xuXG4gIC8vIERyYXcgZXJyb3IgbGluZXMuXG4gIGxldCBlcnJvckxpbmVzID0gdXBkYXRlRXJyb3JMaW5lcyhzdmcuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCJsaW5lXCIpLCBkYXRhKTtcblxuICAvLyBEcmF3IHJlZ3Jlc3Npb24gbGluZS5cbiAgY29uc3QgcmVncmVzc2lvbkxpbmVHcm91cCA9IHN2Z1xuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxuICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpO1xuICAvLyAuYXR0cihcInN0cm9rZS1kYXNoYXJyYXlcIiwgXCIyMCwyMFwiKTtcblxuICBjb25zdCByZWdyZXNzaW9uTGluZSA9IHVwZGF0ZVJlZ3Jlc3Npb25MaW5lKFxuICAgIHJlZ3Jlc3Npb25MaW5lR3JvdXAuc2VsZWN0QWxsKFwibGluZVwiKSxcbiAgICBkYXRhXG4gICk7XG5cbiAgLy8gRHJhdyBzcGFjZSBmb3IgcGxvdCBpbnRlcmFjdGlvbnMuXG4gIGNvbnN0IHBsb3RSZWN0ID0gc3ZnXG4gICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoKVxuICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodClcbiAgICAuYXR0cihcIm9wYWNpdHlcIiwgMClcbiAgICAub24oXCJjbGlja1wiLCBhZGREYXRhcG9pbnQpO1xuXG4gIC8vIERyYXcgZGF0YSBwb2ludHMuXG4gIGNvbnN0IGNpcmNsZXNHcm91cCA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJmaWxsXCIsIFwiYmxhY2tcIik7XG4gIGxldCBjaXJjbGVzID0gdXBkYXRlQ2lyY2xlcyhjaXJjbGVzR3JvdXAuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLCBkYXRhKTtcblxuICAvLyBEcmFnIGludGVyYWN0aW9ucyBmb3IgY2lyY2xlcy5cbiAgZnVuY3Rpb24gZHJhZ3N0YXJ0ZWQoZXZlbnQsIGQpIHtcbiAgICBkMy5zZWxlY3QodGhpcykucmFpc2UoKS5hdHRyKFwic3Ryb2tlXCIsIFwicmVkXCIpO1xuICB9XG4gIGZ1bmN0aW9uIGRyYWdnZWQoZXZlbnQsIGQpIHtcbiAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgIC8vIFVwZGF0ZSBkYXRhIHBvaW50LCBhcyB3ZWxsIGFzIGl0cyBwb3NpdGlvbiBvbiB0aGUgcGxvdFxuICAgICAgLmF0dHIoXCJjeFwiLCAoKSA9PiB7XG4gICAgICAgIGQueENvb3JkID0geFNjYWxlLmludmVydChldmVudC54KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lng7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjeVwiLCAoKSA9PiB7XG4gICAgICAgIGQueUNvb3JkID0geVNjYWxlLmludmVydChldmVudC55KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lnk7XG4gICAgICB9KTtcblxuICAgIHVwZGF0ZVJlZ3Jlc3Npb25MaW5lKHJlZ3Jlc3Npb25MaW5lLCBkYXRhLCBmYWxzZSk7XG4gICAgZXJyb3JTcXVhcmVzID0gdXBkYXRlRXJyb3JTcXVhcmVzKGVycm9yU3F1YXJlcywgZGF0YSwgZmFsc2UpO1xuICAgIGVycm9yTGluZXMgPSB1cGRhdGVFcnJvckxpbmVzKGVycm9yTGluZXMsIGRhdGEsIGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiBkcmFnZW5kZWQoZXZlbnQsIGkpIHtcbiAgICBkMy5zZWxlY3QodGhpcykuYXR0cihcInN0cm9rZVwiLCBudWxsKTtcbiAgfVxuXG4gIC8vIENsaWNrIGludGVyYWN0aW9uIGZvciBjaXJjbGVzLlxuICBmdW5jdGlvbiByZW1vdmVEYXRhcG9pbnQoZXZlbnQsIGRDdXJyKSB7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjsgLy8gZHJhZ2dlZFxuXG4gICAgLy8gUmVtb3ZlIGRhdGEgcG9pbnQ7IGZhc3RlciB3YXkgdG8gZG8gdGhpcz9cbiAgICBkYXRhID0gZGF0YS5maWx0ZXIoKGQpID0+IGQuaWQgIT09IGRDdXJyLmlkKTtcblxuICAgIHVwZGF0ZShkYXRhKTtcbiAgfVxuXG4gIC8vIENsaWNrIGludGVyYWN0aW9uIGZvciBwbG90LlxuICBmdW5jdGlvbiBhZGREYXRhcG9pbnQoZXZlbnQpIHtcbiAgICBjb25zdCBbeG0sIHltXSA9IGQzLnBvaW50ZXIoZXZlbnQpO1xuXG4gICAgdXBkYXRlRGF0YXBvaW50KHhTY2FsZS5pbnZlcnQoeG0pLCB5U2NhbGUuaW52ZXJ0KHltKSk7XG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gZm9yIHJlZ3Jlc3Npb24gbGluZSB1cGRhdGUuXG4gIGZ1bmN0aW9uIHVwZGF0ZVJlZ3Jlc3Npb25MaW5lKGxpbmUsIGRhdGEsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgY29uc3QgcmVncmVzc2lvbkRhdGEgPSBsaW5lYXJSZWdyZXNzaW9uKGRhdGEpO1xuXG4gICAgLy8gRGlzcGF0Y2ggZXZlbnQgYW5kIFJeMiB2YWx1ZVxuICAgIHN2Zy5ub2RlKCkudmFsdWUgPSByZWdyZXNzaW9uRGF0YS5yU3F1YXJlZDtcbiAgICBzdmcubm9kZSgpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICAgIHN2Zy5kaXNwYXRjaChcImlucHV0XCIsIHsgYnViYmxlczogdHJ1ZSB9KTtcblxuICAgIHJldHVybiBsaW5lXG4gICAgICAuZGF0YShbcmVncmVzc2lvbkRhdGFdKVxuICAgICAgLmpvaW4oXCJsaW5lXCIpXG4gICAgICAuY2FsbCgobGluZSkgPT4ge1xuICAgICAgICBpZiAodHJhbnNpdGlvbikgbGluZSA9IGxpbmUudHJhbnNpdGlvbigpO1xuICAgICAgICBsaW5lXG4gICAgICAgICAgLmF0dHIoXCJ4MVwiLCAoZCkgPT4geFNjYWxlKGRbMF1bMF0pKVxuICAgICAgICAgIC5hdHRyKFwieDJcIiwgKGQpID0+IHhTY2FsZShkWzFdWzBdKSlcbiAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB5U2NhbGUoZFswXVsxXSkpXG4gICAgICAgICAgLmF0dHIoXCJ5MlwiLCAoZCkgPT4geVNjYWxlKGRbMV1bMV0pKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHVwZGF0ZSBjaXJjbGVzIGJhc2VkIG9uIG5ldyBkYXRhLlxuICBmdW5jdGlvbiB1cGRhdGVDaXJjbGVzKGNpcmNsZXMsIGRhdGEpIHtcbiAgICByZXR1cm4gY2lyY2xlc1xuICAgICAgLmRhdGEoZGF0YSwgKGQpID0+IGQuaWQpXG4gICAgICAuam9pbihcbiAgICAgICAgKGVudGVyKSA9PlxuICAgICAgICAgIGVudGVyXG4gICAgICAgICAgICAuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB4U2NhbGUoZC54Q29vcmQpKVxuICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgIC8vIFRvIHRyYW5zaXRpb24gZnJvbSAwIHJhZGl1c1xuICAgICAgICAgICAgLmF0dHIoXCJyXCIsIDApXG4gICAgICAgICAgICAvLyBBdHRhY2ggaW50ZXJhY3Rpb25zXG4gICAgICAgICAgICAuY2FsbChkcmFnKVxuICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgcmVtb3ZlRGF0YXBvaW50KVxuICAgICAgICAgICAgLy8gQWRkIHRyYW5zaXRpb25cbiAgICAgICAgICAgIC5jYWxsKChlbnRlcikgPT5cbiAgICAgICAgICAgICAgZW50ZXJcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmVhc2UoZDMuZWFzZUJhY2tPdXQub3ZlcnNob290KDEuNykpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIHIpXG4gICAgICAgICAgICApLFxuICAgICAgICAodXBkYXRlKSA9PlxuICAgICAgICAgIHVwZGF0ZVxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmF0dHIoXCJjeFwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHlTY2FsZShkLnlDb29yZCkpLFxuICAgICAgICAoZXhpdCkgPT5cbiAgICAgICAgICBleGl0XG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZWFzZShkMy5lYXNlQmFja0luLm92ZXJzaG9vdCgxLjcpKVxuICAgICAgICAgICAgLmF0dHIoXCJyXCIsIDApXG4gICAgICAgICAgICAucmVtb3ZlKClcbiAgICAgICk7XG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGVycm9yIGxpbmVzIGJhc2VkIG9uIG5ldyBkYXRhLlxuICBmdW5jdGlvbiB1cGRhdGVFcnJvckxpbmVzKGxpbmVzLCBkYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIGNvbnN0IHJlZ3Jlc3Npb25EYXRhID0gbGluZWFyUmVncmVzc2lvbihkYXRhKTtcblxuICAgIHJldHVybiBsaW5lc1xuICAgICAgLmRhdGEoZGF0YSwgKGQpID0+IGQuaWQpXG4gICAgICAuam9pbihcbiAgICAgICAgKGVudGVyKSA9PlxuICAgICAgICAgIGVudGVyXG4gICAgICAgICAgICAuYXBwZW5kKFwibGluZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgZXJyb3JDb2xvcilcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgZXJyb3JMaW5lc09wYWNpdHkpXG4gICAgICAgICAgICAvLyBTdGFydCBhdCBkYXRhIHBvaW50XG4gICAgICAgICAgICAuYXR0cihcIngxXCIsIChkKSA9PiB4U2NhbGUoZC54Q29vcmQpKVxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgKGQpID0+IHhTY2FsZShkLnhDb29yZCkpXG4gICAgICAgICAgICAuYXR0cihcInkyXCIsIChkKSA9PiB5U2NhbGUoZC55Q29vcmQpKVxuICAgICAgICAgICAgLy8gQWRkIHRyYW5zaXRpb25cbiAgICAgICAgICAgIC5jYWxsKChlbnRlcikgPT5cbiAgICAgICAgICAgICAgZW50ZXJcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCAoZCkgPT4geVNjYWxlKHJlZ3Jlc3Npb25EYXRhLnByZWRpY3QoZC54Q29vcmQpKSlcbiAgICAgICAgICAgICksXG4gICAgICAgICh1cGRhdGUpID0+XG4gICAgICAgICAgdXBkYXRlLmNhbGwoKHVwZGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHVwZGF0ZSA9IHVwZGF0ZS50cmFuc2l0aW9uKCk7XG4gICAgICAgICAgICB1cGRhdGVcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCAoZCkgPT4geVNjYWxlKHJlZ3Jlc3Npb25EYXRhLnByZWRpY3QoZC54Q29vcmQpKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIChleGl0KSA9PlxuICAgICAgICAgIGV4aXRcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgKGQpID0+IHlTY2FsZShkLnlDb29yZCkpXG4gICAgICAgICAgICAucmVtb3ZlKClcbiAgICAgICk7XG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGVycm9yIHNxdWFyZXMgYmFzZWQgb24gbmV3IGRhdGEuXG4gIGZ1bmN0aW9uIHVwZGF0ZUVycm9yU3F1YXJlcyhyZWN0cywgZGF0YSwgdHJhbnNpdGlvbiA9IHRydWUpIHtcbiAgICBjb25zdCByZWdyZXNzaW9uRGF0YSA9IGxpbmVhclJlZ3Jlc3Npb24oZGF0YSk7XG5cbiAgICBjb25zdCBjb21wdXRlSGVpZ2h0ID0gKGQpID0+IHtcbiAgICAgIGNvbnN0IHlDb29yZFByZWQgPSByZWdyZXNzaW9uRGF0YS5wcmVkaWN0KGQueENvb3JkKTtcblxuICAgICAgcmV0dXJuIE1hdGguYWJzKHlTY2FsZSh5Q29vcmRQcmVkKSAtIHlTY2FsZShkLnlDb29yZCkpO1xuICAgIH07XG4gICAgLy8gQ29tcHV0ZSB3aGljaCBkaXJlY3Rpb24gdGhlIGJveCBzaG91bGQgZmFjZVxuICAgIGNvbnN0IGNvbXB1dGVUcmFuc2Zvcm0gPSAoZCkgPT4ge1xuICAgICAgY29uc3QgeUNvb3JkUHJlZCA9IHJlZ3Jlc3Npb25EYXRhLnByZWRpY3QoZC54Q29vcmQpO1xuICAgICAgY29uc3QgY2hlY2sgPSB5U2NhbGUoeUNvb3JkUHJlZCkgLSB5U2NhbGUoZC55Q29vcmQpIDwgMDtcbiAgICAgIGNvbnN0IGRlZyA9IGNoZWNrID8gLTkwIDogOTA7XG5cbiAgICAgIHJldHVybiBgcm90YXRlKCR7ZGVnfSwgJHt4U2NhbGUoZC54Q29vcmQpfSwgJHt5U2NhbGUoZC55Q29vcmQpfSlgO1xuICAgIH07XG5cbiAgICByZXR1cm4gcmVjdHNcbiAgICAgIC5kYXRhKGRhdGEsIChkKSA9PiBkLmlkKVxuICAgICAgLmpvaW4oXG4gICAgICAgIChlbnRlcikgPT5cbiAgICAgICAgICBlbnRlclxuICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwibm9uZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGVycm9yQ29sb3IpXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgZXJyb3JTcXVhcmVzT3BhY2l0eSlcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGNvbXB1dGVUcmFuc2Zvcm0pXG4gICAgICAgICAgICAvLyBTdGFydCBhdCBkYXRhIHBvaW50XG4gICAgICAgICAgICAuYXR0cihcInhcIiwgKGQpID0+IHhTY2FsZShkLnhDb29yZCkpXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHlTY2FsZShkLnlDb29yZCkpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIDApXG4gICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCAwKVxuICAgICAgICAgICAgLy8gQWRkIHRyYW5zaXRpb25cbiAgICAgICAgICAgIC5jYWxsKChlbnRlcikgPT4ge1xuICAgICAgICAgICAgICBlbnRlclxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGNvbXB1dGVIZWlnaHQpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgY29tcHV0ZUhlaWdodCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKHVwZGF0ZSkgPT5cbiAgICAgICAgICB1cGRhdGUuY2FsbCgodXBkYXRlKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGUuYXR0cihcInRyYW5zZm9ybVwiLCBjb21wdXRlVHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHVwZGF0ZSA9IHVwZGF0ZS50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIHVwZGF0ZVxuICAgICAgICAgICAgICAuYXR0cihcInhcIiwgKGQpID0+IHhTY2FsZShkLnhDb29yZCkpXG4gICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBjb21wdXRlSGVpZ2h0KVxuICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBjb21wdXRlSGVpZ2h0KTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKGV4aXQpID0+IGV4aXQudHJhbnNpdGlvbigpLmF0dHIoXCJ3aWR0aFwiLCAwKS5hdHRyKFwiaGVpZ2h0XCIsIDApLnJlbW92ZSgpXG4gICAgICApO1xuICB9XG5cbiAgLy8gUmVzZXRzIHRoZSBwbG90IHRvIHRoZSBpbml0aWFsIGRhdGFcbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdXBkYXRlKGluaXREYXRhLCB0cnVlKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgd2hpY2ggZXJyb3IgdHlwZSB0byBzaG93XG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcob3B0aW9uKSB7XG4gICAgaWYgKG9wdGlvbiA9PT0gXCJOb25lXCIpIHtcbiAgICAgIGVycm9yTGluZXNPcGFjaXR5ID0gMDtcbiAgICAgIGVycm9yU3F1YXJlc09wYWNpdHkgPSAwO1xuXG4gICAgICBlcnJvckxpbmVzLnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwKTtcbiAgICAgIGVycm9yU3F1YXJlcy50cmFuc2l0aW9uKCkuYXR0cihcIm9wYWNpdHlcIiwgMCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiQWJzb2x1dGUgRXJyb3JcIikge1xuICAgICAgZXJyb3JMaW5lc09wYWNpdHkgPSAxO1xuICAgICAgZXJyb3JTcXVhcmVzT3BhY2l0eSA9IDA7XG5cbiAgICAgIGVycm9yTGluZXMudHJhbnNpdGlvbigpLmF0dHIoXCJvcGFjaXR5XCIsIDEpO1xuICAgICAgZXJyb3JTcXVhcmVzLnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJTcXVhcmVkIEVycm9yXCIpIHtcbiAgICAgIGVycm9yTGluZXNPcGFjaXR5ID0gMDtcbiAgICAgIGVycm9yU3F1YXJlc09wYWNpdHkgPSAwLjU7XG5cbiAgICAgIGVycm9yTGluZXMudHJhbnNpdGlvbigpLmF0dHIoXCJvcGFjaXR5XCIsIDApO1xuICAgICAgZXJyb3JTcXVhcmVzLnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwLjUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZHMgYSBuZXcgZGF0YXBvaW50IGFuZCB1cGRhdGVzIHRoZSBwbG90XG4gIGZ1bmN0aW9uIHVwZGF0ZURhdGFwb2ludCh4Q29vcmQsIHlDb29yZCkge1xuICAgIC8vIEFkZCBkYXRhcG9pbnRcbiAgICBkYXRhID0gWy4uLmRhdGEsIHsgeENvb3JkLCB5Q29vcmQsIGlkOiBpZENvdW50ZXIrKyB9XTtcblxuICAgIHVwZGF0ZShkYXRhKTtcbiAgfVxuXG4gIC8vIE1haW4gZnVuY3Rpb24gdGhhdCB1cGRhdGVzIHRoZSBwbG90IGJhc2VkIG9uIG5ldyBkYXRhXG4gIGZ1bmN0aW9uIHVwZGF0ZShuZXdEYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIC8vIFVwYXRlIGxvY2FsIGRhdGEgb2JqZWN0XG4gICAgZGF0YSA9IG5ld0RhdGEubWFwKChkKSA9PiAoeyAuLi5kIH0pKTtcblxuICAgIHVwZGF0ZVJlZ3Jlc3Npb25MaW5lKHJlZ3Jlc3Npb25MaW5lLCBkYXRhLCB0cmFuc2l0aW9uKTtcbiAgICBjaXJjbGVzID0gdXBkYXRlQ2lyY2xlcyhjaXJjbGVzLCBkYXRhKTtcbiAgICBlcnJvclNxdWFyZXMgPSB1cGRhdGVFcnJvclNxdWFyZXMoZXJyb3JTcXVhcmVzLCBkYXRhLCB0cmFuc2l0aW9uKTtcbiAgICBlcnJvckxpbmVzID0gdXBkYXRlRXJyb3JMaW5lcyhlcnJvckxpbmVzLCBkYXRhLCB0cmFuc2l0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHN2Zy5ub2RlKCksIHtcbiAgICB1cGRhdGUsXG4gICAgdXBkYXRlRGF0YXBvaW50LFxuICAgIHVwZGF0ZVZpZXcsXG4gICAgcmVzZXRcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJkMyA9IHJlcXVpcmUoXCJkMy1yZWdyZXNzaW9uXCIsIFwiZDNcIilcbiJ9XX0=
</script><script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
        for (let i=0; i<annoteTargets.length; i++) {
          const annoteTarget = annoteTargets[i];
          const targetCell = annoteTarget.getAttribute("data-target-cell");
          const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
          const contentFn = () => {
            const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            if (content) {
              const tipContent = content.cloneNode(true);
              tipContent.classList.add("code-annotation-tip-content");
              return tipContent.outerHTML;
            }
          }
          const config = {
            allowHTML: true,
            content: contentFn,
            onShow: (instance) => {
              selectCodeLines(instance.reference);
              instance.reference.classList.add('code-annotation-active');
              window.tippy.hideAll();
            },
            onHide: (instance) => {
              unselectCodeLines();
              instance.reference.classList.remove('code-annotation-active');
            },
            maxWidth: 300,
            delay: [50, 0],
            duration: [200, 0],
            offset: [5, 10],
            arrow: true,
            appendTo: function(el) {
              return el.parentElement.parentElement.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'quarto',
            placement: 'right',
            popperOptions: {
              modifiers: [
              {
                name: 'flip',
                options: {
                  flipVariations: false, // true by default
                  allowedAutoPlacements: ['right'],
                  fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                },
              },
              {
                name: 'preventOverflow',
                options: {
                  mainAxis: false,
                  altAxis: false
                }
              }
              ]        
            }      
          };
          window.tippy(annoteTarget, config); 
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Einf√ºhrung">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einf√ºhrung</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./0300-Wskt.html" class="pagination-link" aria-label="Hallo, Wahrscheinlichkeit">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hallo, Wahrscheinlichkeit</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Powered by <a href="https://quarto.org">Quarto</a></p>
</div>   
    <div class="nav-footer-center">
<p><a href="./imprint.html">Impressum</a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sebastiansauer/start-bayes/blob/main/0200-Inferenz.qmd" class="toc-action"><i class="bi bi-github"></i>Quellcode anzeigen</a></li><li><a href="https://github.com/sebastiansauer/start-bayes/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li></ul></div></div>
    <div class="nav-footer-right">
<p><a href="./data-privacy.html">Datenschutzhinweise</a></p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>