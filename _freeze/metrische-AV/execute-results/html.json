{
  "hash": "f80f46a9a30c14cae72a885b4c9e12d1",
  "result": {
    "markdown": "\n# Forschungsfragen mit metrischer AV\n\n\n\nBen√∂tigte R-Pakete f√ºr dieses Thema:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(\"rstanarm\")\n## [1] \"rstanarm\"\n#| message: false\n#| results: \"hide\"\n#| warnings: false\nlibrary(rstanarm)\nlibrary(tidyverse)\nlibrary(easystats)\n```\n:::\n\n\n\n\n\n## Wissenschaft als Gerechtigkeitsprojekt\n\n### Meinungen als Grundlage der Konfliktl√∂sung ?\n\n\nContra:\n\n- \"Ich find Masken doof!\"\n- \"Impfen ist sch√§dlich!\"\n- \"Corona gibt's gar nicht!\"\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<svg viewBox=\"0 0 496 512\" style=\"position:relative;display:inline-block;top:.1em;fill:red;height:3em;\" xmlns=\"http://www.w3.org/2000/svg\">  <path d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM136 240c0-9.3 4.1-17.5 10.5-23.4l-31-9.3c-8.5-2.5-13.3-11.5-10.7-19.9 2.5-8.5 11.4-13.2 19.9-10.7l80 24c8.5 2.5 13.3 11.5 10.7 19.9-2.1 6.9-8.4 11.4-15.3 11.4-.5 0-1.1-.2-1.7-.2.7 2.7 1.7 5.3 1.7 8.2 0 17.7-14.3 32-32 32S136 257.7 136 240zm168 154.2c-27.8-33.4-84.2-33.4-112.1 0-13.5 16.3-38.2-4.2-24.6-20.5 20-24 49.4-37.8 80.6-37.8s60.6 13.8 80.6 37.8c13.8 16.5-11.1 36.6-24.5 20.5zm76.6-186.9l-31 9.3c6.3 5.8 10.5 14.1 10.5 23.4 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-2.9.9-5.6 1.7-8.2-.6.1-1.1.2-1.7.2-6.9 0-13.2-4.5-15.3-11.4-2.5-8.5 2.3-17.4 10.7-19.9l80-24c8.4-2.5 17.4 2.3 19.9 10.7 2.5 8.5-2.3 17.4-10.8 19.9z\"></path></svg>\n`````\n:::\n:::\n\n\n\nPro:\n\n- \"Ich find Masken gut!\"\n- \"Impfen ist n√ºtzlich!\"\n- \"Corona ist gef√§hrlich!\"\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<svg viewBox=\"0 0 496 512\" style=\"position:relative;display:inline-block;top:.1em;fill:red;height:3em;\" xmlns=\"http://www.w3.org/2000/svg\">  <path d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm33.8 189.7l80-48c11.6-6.9 24 7.7 15.4 18L343.6 208l33.6 40.3c8.7 10.4-3.9 24.8-15.4 18l-80-48c-7.7-4.7-7.7-15.9 0-20.6zm-163-30c-8.6-10.3 3.8-24.9 15.4-18l80 48c7.8 4.7 7.8 15.9 0 20.6l-80 48c-11.5 6.8-24-7.6-15.4-18l33.6-40.3-33.6-40.3zM248 288c51.9 0 115.3 43.8 123.2 106.7 1.7 13.6-8 24.6-17.7 20.4-25.9-11.1-64.4-17.4-105.5-17.4s-79.6 6.3-105.5 17.4c-9.8 4.2-19.4-7-17.7-20.4C132.7 331.8 196.1 288 248 288z\"></path></svg>\n`````\n:::\n:::\n\n\nMeinungen kennen kein richtig und kein falsch: Meinungen sind keine Fakten. Konflikte k√∂nnen auf Basis von Meinungen nur schwer gel√∂st werden.\n\n\n\n\n\n### Fakten als Grundlage der Konfliktl√∂sung\n\nWissenschaft produziert Fakten.\nDa Fakten universell sind (sein k√∂nnen), ist Wissenschaft potenziell ein Weg zur Konfliktl√∂sung.\nWarum helfen Fakten bei Konflikten?\n\n\nFakten sind neutral gegen√ºber Personen.\nFakten bieten daher eine Chance zur fairen Einigung.\n\n\nWann ist ein Fakt ein Fakt?\n\n\n Fakten m√ºssen vor allem nachpr√ºfbar sein (Daten, Analyse und Bericht m√ºssen offen zug√§nglich sein).\n\n\n\n### Beispiel Corona: Datenlage spricht zugunsten der Covid19-Impfung\n\n\n\n\n>    The effectiveness of full messenger RNA (mRNA) vaccination (‚â•14 days after the second dose) was 89% (95% confidence interval [CI], 87 to 91) against laboratory-confirmed SARS-CoV-2 infection leading to hospitalization, 90% (95% CI, 86 to 93) against infection leading to an ICU admission, and 91% (95% CI, 89 to 93) against infection leading to an emergency department or urgent care clinic visit.\n\n@thompson_effectiveness_2021; vgl. auch @nasreen_effectiveness_2021; @pormohammad_efficacy_2021\n\n\n\nDrei Anforderungen an die Qualit√§t von Studien:\n\n1. *handwerklich gut*:  z.B. vergleichbare Gruppen, genaue Messinstrumente\n2. *bescheiden*: die Forschungsfrage wird nur dann selbstbewusst beantwortet, wenn es die handwerkliche Qualit√§t der Studie zul√§sst. Gibt es eine Vielzahl weiterer Studien mit abweichenden Ergebnissen, wird dies bei der Beantwortung der Forschungsfrage ber√ºcksichtigt. \n3. *transparent*: Das Vorgehen, die Hintergr√ºnde und Ziele werden offengelegt. Das betrifft auch m√∂glich Befangenheit oder Interessenskonflikte der Autoren und Autorinnen\n\n\n\n### Psychologische Intervention zur Erh√∂hung der Impfquote\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41586-021-03843-2/MediaObjects/41586_2021_3843_Fig2_HTML.png){width=100%}\n:::\n:::\n\n\n[Quelle/Volltext](https://www.nature.com/articles/s41586-021-03843-2)\n\n@dai_behavioural_2021\n\n\n\n\n### Was hei√üt \"ist effektiv\"?\n\n@nasreen_effectiveness_2021  definieren *effectivity*, $e$, so:\n\n\n\n$$e = 1 - C; C= \\frac{n_{vacc|pos}}{n_{vacc|neg}}$$\n\n\n- $C$ nennt man das *Chancenverh√§ltnis* (*odds ratio*), es beschreibt einen Bruchterm: $\\frac{x}{y}$.\n- $n_{vacc|pos}$: Anzahl der geimpften Personen unter allen Personen mit positiver Corona-Diagnose\n- $n_{vacc|neg}$: Anzahl der geimpften Personen unter allen Personen mit negativer Corona-Diagnose\n\n\n*Beispiel*: Von den 100 Personen mit *positiver* Corona-Diagnose sind 10 geimpft, $n_{vacc|pos}=10$. Von den 100 Personen mit *negativer* Corona-Diagnose sind 90 geimpft, $n_{vacc|neg}=90$\n\n$$C= \\frac{10}{90} = \\frac{1}{9}; e = 1 - \\frac{1}{9} = \\frac{8}{9} \\approx 0.88$$\n\n\nIn diesem Beispiel liegt die Effektvitit√§t $e$ bei knapp 90%.\n\n\n## Arten von Forschungsfragen\n\n\n### Deskriptiv (beschreibend)\n\n- Wie stark ist der (lineare) Zusammenhang $r$ von Gr√∂√üe und Gewicht?\n- Wie stark ist der (lineare) Zusammenhang $b$ von Lernzeit und Note?\n- Bevorzugen unsere Kunden Webshop A oder B?\n\n\n\n### Pr√§diktiv (prognostisch, vorhersagend)\n\n- Wie schwer ist ein deutscher Mann der Gr√∂√üe 1,80m im Schnitt?\n- Welche Note kann man erwarten, wenn man nichts f√ºr die Klausur lernt?\n- Wieviel wird ein Kunde ausgeben, wenn er sich in dieser Variante des Webshops aufh√§lt?\n\n\n\n### Pr√§skriptiv (erkl√§rend, kausal)\n\n- Ist Gr√∂√üe eine Ursache von Gewicht (bei deutschen M√§nnern)?\n- Wenn ich 100 Stunden lerne, welche Note schreibe ich dann?\n- Hat die Art des Webshops einen Einfluss auf unseren Umsatz?\n\n\n\n### Metrische AV\n\n- Wir konzentrieren uns im Folgenden auf Forschungsfragen auf Basis von Regressionsmodellen mit *metrischer* AV.\n- F√ºr die UV(s) sind nominale und metrische Skalenniveaus erlaubt. \n- Modelle mit mehreren UV (und mehreren Stufen an UV) sind erlaubt.\n\n\n\n\n## 1 bin√§re UV\n\n\n\n### Forschungsfrage\n\n*Hintergrund:*\n\nEine Psychologin, die im √∂ffentlichen Dienst arbeitet, versucht herauszufinden, warum einige Kinder intelligenter sind als andere. Dazu wurden in einer aufw√§ndigen Studie die Intelligenz vieler Kinder gemessen. Zus√§tzliche wurden verschiedene Korrelate der Intelligenz erhoben, in der Hoffnung, \"Risikofaktoren\" f√ºr geringere Intelligenz zu entdecken.\n\n\n\n\n*Forschungsfrage:* \n\n\n>    Unterscheidet sich der mittlere IQ-Wert (`kid_score`) von Kindern in Abh√§ngigkeit davon, ob ihre jeweilige Mutter √ºber einen Schlusabschluss (`mom_hs`) verf√ºgt? (ceteris paribus)\n\n\n\n\n### IQ von Kindern, bin√§rer Pr√§diktor\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")  # Paket rstanarm\nm10.1 <- stan_glm(\n  kid_score ~ mom_hs, \n  data = kidiq)\n```\n:::\n\n\nAlternativ k√∂nnen Sie die Daten [hier](https://raw.githubusercontent.com/sebastiansauer/Lehre/main/data/kidiq.csv) herunterladen.\n\nMit `parameters(m10.1)` bekommt man die Parameter des Modells:\n\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   | Median |         95% CI |   pd |  Rhat |     ESS |                   Prior |\n|:-----------|:------:|:--------------:|:----:|:-----:|:-------:|:-----------------------:|\n|(Intercept) |  77.50 | (73.43, 81.45) | 100% | 1.000 | 3889.00 | Normal (86.80 +- 51.03) |\n|mom_hs      |  11.80 |  (7.27, 16.17) | 100% | 1.000 | 3908.00 | Normal (0.00 +- 124.21) |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(kidiq) +\n  aes(x = mom_hs, y = kid_score) +\n  geom_jitter(width = 0.1, alpha = .5) +\n  geom_abline(slope = coef(m10.1)[2],\n              intercept = coef(m10.1)[1])  +\n  scale_x_continuous(breaks = c(0, 1))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n### Interpretation von `m10.1`\n\n`m10.1: kid_score = 78 + 12*mom_hs + error`\n\n- Der *Achsensabschnitt* (intercept, $\\beta_0$ oder auch mit $\\alpha$ bezeichnet) ist der mittlere (bzw. vorhergesagte) IQ-Wert von Kindern, deren M√ºtter √ºber keinen Schulabschluss (`mom_hs = 0`) verf√ºgen:\n\n`kid_score = 78 + 0*12 + error`\n\n- Das *Regressionsgewicht* (slope, $\\beta$) ist der Unterschied im IQ-Wert von Kindern mit M√ºtter mit Schlulabschluss (im Vergleich zum IQ-Wert von Kindern mit M√ºtter ohne Schlusabschluss). Dieser Unterschied entspricht der Steigung der Regressionsgeraden.\n\n`kid_score = 78 + 1*12 + error = 90 + error`\n\n- Die Gr√∂√üer der Konfidenzintervalle zeigt, wie genau die Sch√§tzung (Vorhersage) ist bzw. wie stark Pr√§diktor (UV) und Kriterium (AV) zusammenh√§ngen.\n\n\n\n### `m10.1` als Mittelwertsdifferenz \n\n\n- UV: bin√§r (zweistufig nominal/kategorial)\n- AV: metrisch (quantitativ)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  group_by(mom_hs) %>% \n  summarise(kid_score_avg = \n              mean(kid_score))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| mom_hs| kid_score_avg|\n|------:|-------------:|\n|      0|      77.54839|\n|      1|      89.31965|\n\n</div>\n:::\n:::\n\n\n\n- In der klassischen Statistik untersucht man diese Datensituation mit einem *t-Test*.\n- Der t-Test ist ein inferenzstatistisches Verfahren, dass pr√ºft, ob die Mittelwertsdifferenz (in der Population) $\\mu_d$ Null ist: $\\mu_d = 0$.\n- In der Bayes-Statistik betrachtet man dazu die Posteriori-Verteilung (z.B. mit 95%PI).\n\n\nDer mittlere (average, avg) IQ-Wert unterscheidet sich um ca. 12 Punkte (89.4-77.6), zugunsten der Kinder von M√ºttern mit Abschluss. Allerdings gibt es viel Streuung um die Mittelwerte herum.\n\n\n### Antwort auf die Forschungsfrage, `m10.1`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.1_post <-\n  m10.1 %>% \n  as_tibble() \n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"avzmqrvsyf\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#avzmqrvsyf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#avzmqrvsyf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#avzmqrvsyf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#avzmqrvsyf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#avzmqrvsyf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#avzmqrvsyf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#avzmqrvsyf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#avzmqrvsyf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#avzmqrvsyf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#avzmqrvsyf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#avzmqrvsyf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#avzmqrvsyf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#avzmqrvsyf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avzmqrvsyf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#avzmqrvsyf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#avzmqrvsyf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avzmqrvsyf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#avzmqrvsyf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avzmqrvsyf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#avzmqrvsyf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avzmqrvsyf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#avzmqrvsyf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avzmqrvsyf .gt_left {\n  text-align: left;\n}\n\n#avzmqrvsyf .gt_center {\n  text-align: center;\n}\n\n#avzmqrvsyf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#avzmqrvsyf .gt_font_normal {\n  font-weight: normal;\n}\n\n#avzmqrvsyf .gt_font_bold {\n  font-weight: bold;\n}\n\n#avzmqrvsyf .gt_font_italic {\n  font-style: italic;\n}\n\n#avzmqrvsyf .gt_super {\n  font-size: 65%;\n}\n\n#avzmqrvsyf .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#avzmqrvsyf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#avzmqrvsyf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#avzmqrvsyf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#avzmqrvsyf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#avzmqrvsyf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#avzmqrvsyf .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Stichprobe aus der Post-Verteilung</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">(Intercept)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">mom_hs</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">sigma</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">75.5</td>\n<td class=\"gt_row gt_right\">13.3</td>\n<td class=\"gt_row gt_right\">19.6</td></tr>\n    <tr><td class=\"gt_row gt_right\">73.6</td>\n<td class=\"gt_row gt_right\">17.6</td>\n<td class=\"gt_row gt_right\">18.7</td></tr>\n    <tr><td class=\"gt_row gt_right\">75.2</td>\n<td class=\"gt_row gt_right\">13.4</td>\n<td class=\"gt_row gt_right\">20.0</td></tr>\n    <tr><td class=\"gt_row gt_right\">77.3</td>\n<td class=\"gt_row gt_right\">11.5</td>\n<td class=\"gt_row gt_right\">19.7</td></tr>\n    <tr><td class=\"gt_row gt_right\">82.6</td>\n<td class=\"gt_row gt_right\">6.6</td>\n<td class=\"gt_row gt_right\">20.1</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npi_mom_hs <-\n  m10.1_post %>% \n  summarise(pi_95 = quantile(mom_hs, c(.025, .975)))\n\npi_mom_hs\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|     pi_95|\n|---------:|\n|  7.272723|\n| 16.165758|\n\n</div>\n:::\n:::\n\n\n\n\n\nMit 95% Wahrscheinlichkeit liegt der Unterschied im mittleren IQ-Wert zwischen \nKindern von M√ºttern mit bzw. ohne Schulabschluss im Bereich von 7 bis 14 IQ-Punkten, \nlaut unserem Modell: $95\\%PI: [7,16]$.\n\nDie Hypothese, dass es keinen  Unterschied oder einen Unterschied in die andere Richtung geben sollte, \nist vor diesem Hintergrund als unwahrscheinlich abzulehnen.\n\nVisualisieren wir abschlie√üend die Posteriori-Verteilung.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(hdi(m10.1))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n\n## Nullhypothesen sind praktisch immer falsch\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://i.imgflip.com/5v5531.jpg)\n:::\n:::\n\n\n[Quelle: Imgflip Meme Generator](https://imgflip.com/i/5v5531)\n\n\n\n\n\n\n\n>   We do not generally use null hypothesis significance testing in our own work. In the fields in which we work, we do not generally think null hyptheses can be true: in social science and public health, just about every treatment one might consider will have *some* effect, and no comparison or regression coefficient of interest will be exactly zero. We do not find it particularly helpful to formulate and test null hypothess that we knowe ahead of time cannot be true.\n\n\n@gelman_regression_2021\n\n\n\n\n\n\n### Alternativen zu Nullhypothesen\n\n\n- Nullhypothesen, $H_0$, sind z.B.: $\\rho=0$, $\\rho_1 = rho_2$, $\\mu_1 = \\mu_2$, $\\mu=0$, $\\beta_1=0$.\n\n- Nullhypothesen zu testen, ist sehr verbreitet.\n\n- Ein Grund ist, dass in der Frequentistischen Statistik keine andere Art von Hypothesentest m√∂glich ist^[Mittlerweile gibt es Ans√§tze f√ºr einem Verfahren √§hnlich dem ROPE-Ansatz, der weiter unten vorgestellt wird.]\n\n- Ein anderer Grund ist vermutlich, ... wir haben es schon immer so gemacht.\n\n- Alternativen zum Testen von Nullhypothesen:\n    - Posteriori-Intervalle (PI oder HDI)  berichten\n    - Rope-Konzept, @kruschke_rejecting_2018\n    - Wahrscheinlichkeit von inhaltlich bedeutsamen Hypothesen quantifizieren.\n    - Wahrscheinlichkeit quantifizieren, dass der Effekt ein positives bzw. ein negatives Vorzeichen hat.\n\n\n\n\n\n\n## Eine metrische plus eine nominale UV \n\n\n\n\n### Forschungsfrage\n\n\n>    Wie stark ist der Zusammenhang von jeweils Schulabschluss der Mutter (`mom_hs`) und  IQ der Mutter (`mom_iq`)  auf den IQ des Kindes (`kid_score`) ?\n\n\nDeskriptive Statistiken zum Datensatz:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")  # Paket rstanarm, alternativ √ºber CSV einlesen\ndescribe_distribution(kidiq)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|Variable  |   Mean |    SD |   IQR |           Range | Skewness | Kurtosis |   n | n_Missing |\n|:---------|:------:|:-----:|:-----:|:---------------:|:--------:|:--------:|:---:|:---------:|\n|kid_score |  86.80 | 20.41 | 28.00 | (20.00, 144.00) |    -0.46 |    -0.16 | 434 |         0 |\n|mom_hs    |   0.79 |  0.41 |  0.00 |    (0.00, 1.00) |    -1.40 |    -0.05 | 434 |         0 |\n|mom_iq    | 100.00 | 15.00 | 21.67 | (71.04, 138.89) |     0.47 |    -0.57 | 434 |         0 |\n|mom_age   |  22.79 |  2.70 |  4.00 |  (17.00, 29.00) |     0.18 |    -0.63 | 434 |         0 |\n:::\n:::\n\n\n\n\n[Datenquelle](https://raw.githubusercontent.com/sebastiansauer/2021-wise/main/Data/kidiq.csv)\n\n\n\n\n### 1 metrischer Pr√§diktor\n\n\nBerechnen wir folgendens Modell: `kid_score ~ mom_iq`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.2 <-\n  stan_glm(kid_score ~ mom_iq, data = kidiq)\n\nm10.2 %>% \n  parameters()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   | Median |         95% CI |   pd |  Rhat |     ESS |                   Prior |\n|:-----------|:------:|:--------------:|:----:|:-----:|:-------:|:-----------------------:|\n|(Intercept) |  25.69 | (14.51, 36.82) | 100% | 0.999 | 3670.00 | Normal (86.80 +- 51.03) |\n|mom_iq      |   0.61 |   (0.50, 0.72) | 100% | 0.999 | 3601.00 |   Normal (0.00 +- 3.40) |\n:::\n:::\n\n\n\n`kid_score = 26 + 0.6 * mom_iq + error`\n\n\nVisualisieren wir uns noch das Modell:\n\n\n\n::: {.cell fig.asp='1'}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_iq, y = kid_score)) +\n  geom_point(alpha = .7) +\n  geom_abline(slope = coef(m10.2)[2],\n              intercept = coef(m10.2)[1],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/Thema6-Teil2-4-1.png){width=672}\n:::\n:::\n\n\nDie Linie zeigt die vorhergesagten IQ-Werte der Kinder f√ºr verschiedene IQ-Werte der M√ºtter.\nVergleicht man Teilpopulationen von M√ºttern mit mittleren Unterschied von einem IQ-Punkt, so findet man 0.6 IQ-Punkte Unterschied bei ihren Kindern *im Durchschnitt*.\nDer Achsenabschnitt hilft uns nicht weiter, da es keine Menschen mit einem IQ von 0 gibt.\n\n\n\n\n### Beide Pr√§diktoren, `m10.3`\n\n\nBerechnen wir als n√§chstes ein Modell mit beiden Pr√§diktoren: `kid_score ~ mom_hs + mom_iq`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.3 <- \n  stan_glm(\n    kid_score ~ mom_hs + mom_iq, \n    refresh = 0,\n    data = kidiq)\n```\n:::\n\n\n\n\n\n\nWill man nur schnell die Punktsch√§tzer (Median) zu den Modellparametern (auch als Koeffizienten bezeichnet), so kann man anstelle von `parameters()` auch schreiben:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.3)\n## (Intercept)      mom_hs      mom_iq \n##  25.7469409   5.9144063   0.5647638\n```\n:::\n\n\n\n`m10.3: kid_score = 26 + mom_hs + 0.6*mom_iq + error`\n\nM√∂chte man nur z.B. den 3. Wert aus diesem Vektor, so kann man schreiben:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.3)[3]\n##    mom_iq \n## 0.5647638\n```\n:::\n\n\n\nUnd die Visualisierung des Modells:\n\n\n::: {.cell fig.asp='0.62'}\n\n```{.r .cell-code}\nkidiq %>% \n  mutate(mom_hs = factor(mom_hs)) %>%  \n  ggplot(aes(x = mom_iq, y = kid_score, color = mom_hs)) +\n  geom_point(alpha = .7) +\n  geom_abline(slope = coef(m10.3)[3],  # den 3. Wert aus dem Vector, den `coef()` zur√ºckgibt\n              intercept = 26,\n              linewidth = 1,\n              color = \"blue\") +\n  geom_abline(slope = coef(m10.3)[3],\n              intercept = 32,\n              color = \"red\",\n              linewidth = 2) +\n  scale_color_manual(values = c(\"blue\", \"red\")) +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/Thema6-Teil2-5-1.png){width=672}\n:::\n:::\n\n\n\n- *Achsenabschnitt*: Hat das Kind eine Mutter mit einem IQ von 0 und ohne Schulabschluss, dann sch√§tzt das Modell den IQ-Wert des Kindes auf 26.\n- *Koeffizient zum m√ºtterlichen Schulabschluss*: Vergleicht man Kinder von M√ºttern gleicher Intelligenz, aber mit Unterschied im Schulabschluss, so sagt das Modell einen Unterschied von 6 Punkten im IQ voraus.\n- *Koeffizient zur m√ºtterlichen IQ*: Vergleicht man Kinder von M√ºttern mit gleichem Wert im Schulabschluss, aber mit 1 IQ-Punkt Unterschied, so sagt das Modell einen Unterschied von 0.6 IQ-Punkten bei den Kindern voraus.\n\n\n\n\n\n## Interaktion\n\nIn `m10.3` hat das Modell die Regressionsgeraden gezwungen, parallel zu sein. \nBetrachtet man das Streudiagramm, so sieht man, das nicht-parallele Geraden besser passen.\nSind die Regressionsgeraden nicht parallel, so spricht man von einer Interaktion (synonym: Interaktionseffekt, Moderation).\n\n:::callout-important\nLiegt eine Interaktion vor, so unterscheidet sich die Steigung der Geraden in den Gruppen.\n:::\n\nWir berechnen mit m10.4 folgendes Modell: `kid_score ~ mom_hs + mom_iq + mom_hs:mom_iq`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.4 <- \n  stan_glm(kid_score ~ mom_hs + mom_iq + mom_hs:mom_iq, \n                  data = kidiq, refresh = 0)\n\ncoef(m10.4)\n##   (Intercept)        mom_hs        mom_iq mom_hs:mom_iq \n##   -10.4073780    49.5462275     0.9559383    -0.4671715\n```\n:::\n\n::: {.cell fig.asp='0.3'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/Thema6-Teil2-6-1.png){width=768}\n:::\n:::\n\n\n\n\n\n### Interpretation von `m10.4`\n\n- *Achsenabschnitt:* IQ-Sch√§tzwerte f√ºr Kinder mit M√ºtter ohne Abschluss und mit einem IQ von 0. Kaum zu interpretieren.\n- `mom_hs`: Unterschied der IQ-Sch√§tzwerte zwischen Kindern mit Mutter ohne bzw. mit Schulabschluss und jeweils mit einem IQ von 0. Puh.\n- `mom_iq`: Unterschied der IQ-Sch√§tzwerte zwischen Kindern mit M√ºttern, die sich um einen IQ-Punkt unterscheiden aber jeweils ohne Schulabschluss.\n- *Interaktion*: Der Unterschied in den Steigungen der Regressiongeraden, also der Unterschied des Koeffizienten f√ºr `mom_iq` zwischen M√ºtter mit bzw. ohne Schulabschluss.\n\n```\nmom_hs=0:\nkid_score = -11 + 51*0 + 1.1* mom_iq + 0.5*0*mom_iq\n\n          = -11 + 1.1*mom_iq\n\n\nmom_hs=1: \nkid_score = -11 + 51*1 + 1.1* mom_iq + 0.5*1*mom_iq\n\n          = 40 + 0.6*mom_iq\n```\n\n@gelman_regression_2021, Kap. 10.3\n\n\n\n\n\n### Nach der Interpretation von 20 unzentrierten Koeffizienten\n\n\n<iframe src=\"https://giphy.com/embed/Zaej3GIZTzCI8\" width=\"480\" height=\"306\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe><p><a href=\"https://giphy.com/gifs/muppets-rachel-maddow-kermit-Zaej3GIZTzCI8\">via GIPHY</a></p>\n\n\n\n\n\n\n## Zentrieren von Pr√§diktoren\n\n- Unter *Zentrieren* (to center) versteht man das Bilden der Differenz eines Messwerts zu seinem Mittelwert.\n- Zentrierte Werte geben also an, wie weit ein Messwert vom mittleren (typischen) Messwert entfernt ist.\n- Mit zentrierten Werten ist eine Regression einfacher zu interpretieren.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <-\n  kidiq %>% \n  mutate(mom_iq_c = mom_iq - mean(mom_iq),\n         mom_hs_c = mom_hs - mean(mom_hs))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.5 <- stan_glm(kid_score ~ mom_hs + mom_iq_c + mom_hs:mom_iq_c, \n                  data = kidiq, \n                  refresh = 0)\ncoef(m10.5)\n##     (Intercept)          mom_hs        mom_iq_c mom_hs:mom_iq_c \n##      85.4039402       2.8794578       0.9650434      -0.4817125\n```\n:::\n\n\n\n\n\n### Interpretation von `m10.5`\n\n- Der *Achsenabschnitt* (`Intercept`) gibt den gesch√§tzten IQ des Kindes an, wenn man eine Mutter *mittlerer* Intelligenz und *ohne* Schulabschluss betrachtet.\n- `mom_hs` gibt den Unterschied im gesch√§tzten IQ des Kindes an, wenn man M√ºtter mittlerer Intelligenz aber mit bzw. ohne Schlusabschluss vergleicht.\n- `mom_iq_c` gibt den Unterschied im gesch√§tzten IQ des Kindes an, wenn man M√ºtter ohne Schlusabschluss aber mit einem IQ-Punkt Unterschied vergleicht.\n- `mom_hs:mom_iq_c` gibt den Unterschied in den Koeffizienten f√ºr `mom_iq_c` an zwischen den beiden Grupen von `mom_hs`.\n\n\n\n\n::: {.cell fig.asp='0.4'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/plot-m10-5-1.png){width=768}\n:::\n:::\n\n\n\n\n\n### Zentrieren √§ndert nichts an den Vorhersagen\n\n`m10.4`: \n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew <- tibble(mom_hs = 0, mom_iq = mean(kidiq$mom_iq))\npred_new <- posterior_predict(m10.4, newdata = new)\nmean(pred_new)\n## [1] 85.21437\n```\n:::\n\n\n`m10.5`: \n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew <- tibble(mom_hs = 0, mom_iq_c = 0)\npred_new <- posterior_predict(m10.5, newdata = new)\nmean(pred_new)\n## [1] 85.53968\n```\n:::\n\n\nAuch die Streuungen der vorhergesagten Werte unterscheiden sich nicht (wirklich): $\\sigma_{m10.4}= 18$; $\\sigma_{m10.5}= 18$.\n\n\nDas Zentrieren √§ndert auch nicht die Regressionskoeffizienten, da die Streuungen der Pr√§diktoren nicht ver√§ndert wurden.\n\n\n\n\n\n### Perzentilintervalle aus der Posterori-Verteilung\n\n\n::: {.cell}\n\n```{.r .cell-code}\neti(m10.5)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |Parameter       |   CI|     CI_low|    CI_high|Effects |Component   |\n|:--|:---------------|----:|----------:|----------:|:-------|:-----------|\n|1  |(Intercept)     | 0.95| 81.1032045| 89.6880342|fixed   |conditional |\n|2  |mom_hs          | 0.95| -1.8124826|  7.6997107|fixed   |conditional |\n|4  |mom_iq_c        | 0.95|  0.6881041|  1.2517953|fixed   |conditional |\n|3  |mom_hs:mom_iq_c | 0.95| -0.7950601| -0.1753147|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\n\n\nHighest Density (Posterior) Intervalle (HDI oder HDPI) kann man sich  komfortabel ausgeben lassen mit `hdi(m10.5)`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhdi(m10.5)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |Parameter       |   CI|     CI_low|    CI_high|Effects |Component   |\n|:--|:---------------|----:|----------:|----------:|:-------|:-----------|\n|1  |(Intercept)     | 0.95| 81.3413765| 89.8366251|fixed   |conditional |\n|2  |mom_hs          | 0.95| -1.7272607|  7.7623360|fixed   |conditional |\n|4  |mom_iq_c        | 0.95|  0.6876379|  1.2502778|fixed   |conditional |\n|3  |mom_hs:mom_iq_c | 0.95| -0.7950335| -0.1751546|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\nIm Falle symmetrischer Posteriori-Verteilungen (wie hier) kommen beide Arten von Intervallen zu gleichen Ergebnissen.\n\n\n\n### Beantworten der Forschungsfrage\n\n>   Das Model zeigt keine Belege, dass sich die mittlere Intelligenz von Kindern bei M√ºttern mit bzw. ohne Schlusabluss unterscheidet (95%PI: [-2.0, 7.8]). Hingegen fand sich ein Effekt der m√ºtterlichen Intelligenz; pro Punkt Unterschied in m√ºttlerlichem IQ fand sich ein Unterschied von 0.7 bis 1.3 IQ-Punkte (95%PI). Au√üerdem fand sich ein Beleg, dass der Zusammenhang des IQ zwischen Mutter und Kind durch den Schulabschluss moderiert wird: Bei M√ºtter mit Schulabschluss war der Zusammenhang zwischen Mutter-IQ und Kind-IQ geringer (95%PI: [-0.80, -0.17]).\n\n</br>\n</br>\n\n<svg viewBox=\"0 0 512 512\" style=\"position:relative;display:inline-block;top:.1em;fill:red;height:2em;\" xmlns=\"http://www.w3.org/2000/svg\">  <path d=\"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z\"></path></svg> Das Modell macht *keine* kausalen Aussagen. Es werden lediglich Unterschiede bzw. Zusammenh√§nge beschrieben.\n\n\n\n\n### Relevanz von Pr√§diktoren\n\n\n\n\n\n![Made at imgflip.com](https://i.imgflip.com/5sps62.jpg){width=50%}\n\n\nBetrachten wir `m10.3` noch einmal.\n\nWelcher Pr√§diktor, `mom_hs` oder `mom_hs` ist wichtiger, im Sinne von st√§rker mit AV `kid_score` verbunden?\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter   |   CI|     CI_low|    CI_high|Effects |Component   |\n|:-----------|----:|----------:|----------:|:-------|:-----------|\n|(Intercept) | 0.95| 14.5999894| 38.0147224|fixed   |conditional |\n|mom_hs      | 0.95|  1.7343512| 10.0581797|fixed   |conditional |\n|mom_iq      | 0.95|  0.4432085|  0.6863914|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\n\n\n\n\nDas Problem ist, dass die Pr√§diktoren auf verschiedenen Skalen gemessen wurden, so dass sie nicht direkt vergleichbar sind.\nMan k√∂nnte \n\n- die Skalierungen der Pr√§diktoren angleichen\n- Vorhersageg√ºte verschiedener Modelle vergleichen (Modell mit einem vs. Modell mit beiden Pr√§diktoren)\n- ...\n- Dazu sp√§ter mehr ü§ì\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Eine nominale UV mit mehreren Stufen\n\n\n\n\n### Forschungsfrage\n\n*Hintergrund*:\n\nNach Ihrem Studium haben Sie bei einem aufstrebenden Online-H√§ndler angeheuert\nSie sind f√ºr alles zust√§ndig, \nwas nach Wissenschaft oder Analyse aussieht oder sonst den Anschein erweckt,\nkompliziert zu sein. \nAus irgendwelchen Gr√ºnden liebt Ihre Chefin Diamanten,\nso dass Ihre erste Aufgabe darin besteht, Diamantenpreise zu analysieren. \nDas Ziel Ihrer Chefin liegt darin, \nzu erkennen, was ein Preis ist, \nf√ºr den ein Diamant gut verkauft werden kann. Kennt man diesen Preis, \nkann man sich auf die Suche machen, \nob man den Diamant irgendwo g√ºnstiger findet. \nWenn ja, macht man Gewinn. \nGutes Gesch√§ftsmodell, meint Ihre Chefin.\n\n</br>\n\n\n> Unterscheiden sich mittlere Diamantenpreise in Abh√§ngigkeit von ihrer Schliffart? (Datensatz `diamonds`)\n\n\n\n\n\n\n### Alle Mittelwerte sind gleich (?)\n\n- Formal: $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ mit $k$ verschiedenen Gruppen von Schliffart.\n\n- Hypothesen, die keinen (Null) Unterschied zwischen Gruppen oder keinen Zusammenhang zwischen Variablen postulieren, kann man als *Nullhypothesen* bezeichnen.\n\n- Moment. Dass sich *alle* Mittelwerte um 0,00000000 unterscheiden, ist wohl nicht zu vermuten. Wer glaubt sowas? ü§î Daher ist die bessere Forschungsfrage:\n\n> *Wie sehr* unterscheiden sich mittlere Diamantenpreise in Abh√§ngigkeit von ihrer Schliffart?\n\nOder wir pr√ºfen die Hypothese, ob die Mittelwerte \"praktisch\" gleich sind, also sich \"kaum\" unterscheiden. Der Grenzwert f√ºr \"praktisch gleich\" bzw. \"kaum unterschiedlich\" ist subjektiv.\n\n\n\n### Erster Blick in den Datensatz `diamonds`\n\n[Datenquelle](https://vincentarelbundock.github.io/Rdatasets/csv/ggplot2/diamonds.csv), [Beschreibung des Datensatzes](https://vincentarelbundock.github.io/Rdatasets/doc/ggplot2/diamonds.html)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndiamonds_url <- \"https://tinyurl.com/up84jp5c\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)  # Zufallszahlen f√ºr `sample()` festlegen\ndiamonds <- \n  read_csv(diamonds_url) %>% \n  sample_n(1000) %>%  # um etwas Rechenzeit zu sparen\n  select(-1) # 1. Spalte nur laufende Nummer\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndiamonds %>% \n  select(price, cut) %>% \n  group_by(cut) %>% \n  # nehmen wir die robusten Statistiken, da Preis sehr schief ist:\n  describe_distribution(range = FALSE, iqr = FALSE)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Variable |     Mean|       SD| Skewness| Kurtosis|   n| n_Missing|.group        |\n|:--------|--------:|--------:|--------:|--------:|---:|---------:|:-------------|\n|price    | 4558.424| 2978.245| 1.647624| 2.885673|  33|         0|cut=Fair      |\n|price    | 4000.304| 3865.095| 1.905924| 3.518412| 102|         0|cut=Good      |\n|price    | 3275.998| 3515.271| 1.848450| 3.060260| 407|         0|cut=Ideal     |\n|price    | 4919.661| 4416.872| 1.279811| 1.038247| 230|         0|cut=Premium   |\n|price    | 3765.803| 3679.062| 1.788728| 3.420209| 228|         0|cut=Very Good |\n\n</div>\n:::\n:::\n\n\n\n\n\n\n\n### Ein √úberblick √ºber die metrischen Variablen\n\n\n\n... aufgeteilt in die Stufen von `cut`:\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: cut=Fair\n\n|Variable |    Mean |      SD |     IQR |              Range | Skewness | Kurtosis |  n | n_Missing |\n|:--------|:-------:|:-------:|:-------:|:------------------:|:--------:|:--------:|:--:|:---------:|\n|price    | 4558.42 | 2978.25 | 2498.50 | (743.00, 13853.00) |     1.65 |     2.89 | 33 |         0 |\n\nTable: cut=Good\n\n|Variable |    Mean |      SD |  IQR |              Range | Skewness | Kurtosis |   n | n_Missing |\n|:--------|:-------:|:-------:|:----:|:------------------:|:--------:|:--------:|:---:|:---------:|\n|price    | 4000.30 | 3865.10 | 3805 | (461.00, 18077.00) |     1.91 |     3.52 | 102 |         0 |\n\nTable: cut=Ideal\n\n|Variable |    Mean |      SD |  IQR |              Range | Skewness | Kurtosis |   n | n_Missing |\n|:--------|:-------:|:-------:|:----:|:------------------:|:--------:|:--------:|:---:|:---------:|\n|price    | 3276.00 | 3515.27 | 3865 | (397.00, 18168.00) |     1.85 |     3.06 | 407 |         0 |\n\nTable: cut=Premium\n\n|Variable |    Mean |      SD |     IQR |              Range | Skewness | Kurtosis |   n | n_Missing |\n|:--------|:-------:|:-------:|:-------:|:------------------:|:--------:|:--------:|:---:|:---------:|\n|price    | 4919.66 | 4416.87 | 5310.25 | (345.00, 18493.00) |     1.28 |     1.04 | 230 |         0 |\n\nTable: cut=Very Good\n\n|Variable |    Mean |      SD |     IQR |              Range | Skewness | Kurtosis |   n | n_Missing |\n|:--------|:-------:|:-------:|:-------:|:------------------:|:--------:|:--------:|:---:|:---------:|\n|price    | 3765.80 | 3679.06 | 3933.50 | (373.00, 18371.00) |     1.79 |     3.42 | 228 |         0 |\n:::\n:::\n\n\n\nWas f√§llt Ihnen auf?\n\n\n\n### Visualisierung (EDA)\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"iukyokvzul\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#iukyokvzul .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#iukyokvzul .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#iukyokvzul .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#iukyokvzul .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#iukyokvzul .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#iukyokvzul .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#iukyokvzul .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#iukyokvzul .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#iukyokvzul .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#iukyokvzul .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#iukyokvzul .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#iukyokvzul .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#iukyokvzul .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iukyokvzul .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#iukyokvzul .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#iukyokvzul .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iukyokvzul .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#iukyokvzul .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iukyokvzul .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#iukyokvzul .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iukyokvzul .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iukyokvzul .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iukyokvzul .gt_left {\n  text-align: left;\n}\n\n#iukyokvzul .gt_center {\n  text-align: center;\n}\n\n#iukyokvzul .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#iukyokvzul .gt_font_normal {\n  font-weight: normal;\n}\n\n#iukyokvzul .gt_font_bold {\n  font-weight: bold;\n}\n\n#iukyokvzul .gt_font_italic {\n  font-style: italic;\n}\n\n#iukyokvzul .gt_super {\n  font-size: 65%;\n}\n\n#iukyokvzul .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#iukyokvzul .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#iukyokvzul .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#iukyokvzul .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#iukyokvzul .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#iukyokvzul .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#iukyokvzul .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">cut</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">price_md</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">price_iqr</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Fair</td>\n<td class=\"gt_row gt_right\">3,640</td>\n<td class=\"gt_row gt_right\">1,976</td></tr>\n    <tr><td class=\"gt_row gt_left\">Good</td>\n<td class=\"gt_row gt_right\">3,090</td>\n<td class=\"gt_row gt_right\">3,745</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ideal</td>\n<td class=\"gt_row gt_right\">1,759</td>\n<td class=\"gt_row gt_right\">3,850</td></tr>\n    <tr><td class=\"gt_row gt_left\">Premium</td>\n<td class=\"gt_row gt_right\">4,058</td>\n<td class=\"gt_row gt_right\">5,295</td></tr>\n    <tr><td class=\"gt_row gt_left\">Very Good</td>\n<td class=\"gt_row gt_right\">2,760</td>\n<td class=\"gt_row gt_right\">3,902</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n::: {.cell fig.asp='0.3'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n### Mittlere Preisunterschiede in der Population\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(mc.cores = parallel::detectCores())  # Turbo einschalten\n\nm10.6 <- stan_glm(price ~ cut, data = diamonds, refresh = 0)\n# refresh=0 unterdr√ºckt Ausgabe der Posteriori-Stichproben\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6 %>% \n  parameters()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter    |   Median |              95% CI |     pd |  Rhat |     ESS |                       Prior |\n|:------------|:--------:|:-------------------:|:------:|:-----:|:-------:|:---------------------------:|\n|(Intercept)  |  4526.68 |  (3238.06, 5820.81) |   100% | 1.003 | 1009.00 | Normal (3881.91 +- 9611.59) |\n|cutGood      |  -533.57 |  (-2029.63, 959.77) | 75.67% | 1.002 | 1123.00 |   Normal (0.00 +- 31742.41) |\n|cutIdeal     | -1253.86 |  (-2603.09, 107.10) | 96.40% | 1.004 | 1044.00 |   Normal (0.00 +- 19554.81) |\n|cutPremium   |   395.44 | (-1002.89, 1776.66) | 71.38% | 1.003 | 1068.00 |   Normal (0.00 +- 22828.05) |\n|cutVery Good |  -756.51 |  (-2148.65, 599.54) | 85.78% | 1.004 | 1039.00 |   Normal (0.00 +- 22898.24) |\n:::\n:::\n\n\n\n\n\n### Interpretation von `m10.6`\n\n- `cut` hat f√ºnf verschiedene Werte (Stufen, Faktorstufen, Auspr√§gungen), aber es werden nur vier angezeigt. \n- Die f√ºnfte (`Fair`, nicht ausgegeben) ist die *Vergleichs- oder Referenzkategorie* (baseline) und ist im Achsenabschnitt ausgedr√ºckt.\n- Die Koeffizienten f√ºr `cut` geben jeweils den Unterschied zur Vergleichskategorie wieder.\n- Diamanten der Schliffart `Fair` haben laut Modell einen mittleren Preis von ca. 4300$.\n- Diamanten der Schliffart `Good` sind laut Modell im Mittel gut 400$ billiger als Diamanten der Schliffart `Fair`, etc.\n\n\n\n::: {.cell fig.asp='0.33'}\n\n```{.r .cell-code}\nplot(hdi(m10.6))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### Sch√§tzbereiche f√ºr die Modellparameter\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6 %>% \n  hdi()\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter    |   CI|     CI_low|   CI_high|Effects |Component   |\n|:------------|----:|----------:|---------:|:-------|:-----------|\n|(Intercept)  | 0.95|  3294.1221| 5859.2441|fixed   |conditional |\n|cutGood      | 0.95| -2054.2123|  918.7443|fixed   |conditional |\n|cutIdeal     | 0.95| -2517.5156|  159.8897|fixed   |conditional |\n|cutPremium   | 0.95|  -967.1144| 1807.1827|fixed   |conditional |\n|cutVery Good | 0.95| -2043.7011|  672.6454|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\n\n\n\n\n### Glauben wir jetzt an Preisunterschiede?\n\n... zwischen den Preis-Mittelwerten in der Population?\n\n- Teilweise, denn einige Sch√§tzintervalle (f√ºr die Preisunterschiede) waren im Modell `m10.6` weit von der Null entfernt, andere nicht.\n\n- Auf Basis unseres Modells schlie√üen wir also (mit hoher Sicherheit) aus, dass *alle* Preise im Mittelwert *exakt* identisch sind.\n\n- Ehrlicherweise h√§tte sowieso niemand geglaubt, dass die *exakte Nullhypothese* $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ bis in die letzte Dezimale gilt. Anders gesagt: Die Wahrscheinlichkeit eines bestimmten Wertes einer stetigen Zufallsvariable ist praktisch Null.\n\n- Aber: Viele Forscheris pr√ºfen gerne die Nullhypothese, daher taucht der Begriff hier auf.\n\n- Das Verfahren der Frequentistischen Statistik, um die Nullhypothese $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ zu testen, nennt man *Varianzanalyse* (analysis of variance, kurz *ANOVA*).\n\n- In der Bayes-Statistik nutzt man - wie immer - prim√§r die Post-Verteilung, um Fragen der Inferenz (z.B. Gruppenunterschiede dieser Art) zu inferenzstatistisch zu beurteilen.\n\n\n\n\n\n### Modellkoeffizienten von `m10.6`\n\nDie Regressionsoeffizienten pro Stufen von `cut`entsprechen den Mittelwerten $\\hat{y_i}$ aus der Posteriori-Verteilung. Mit `coef(m10.6)` kann man sie sich bequem ausgeben lassen.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.6)\n##  (Intercept)      cutGood     cutIdeal   cutPremium cutVery Good \n##    4526.6810    -533.5694   -1253.8603     395.4444    -756.5090\n```\n:::\n\n\n\n- $\\hat{y}_{Fair} = 4527$\n- $\\hat{y}_{Good} = -534$\n- etc.\n\n\n\n\n\n\n\n\n\n## Priori-Werte\n\nUnser Modell `m10.6` hat schwach informierte (weakly informative) Priors.\nF√ºr Achsenabschnitt und die Regressionskoeffizienten werden Normalverteilungen angenommen mit Mittelwert entsprechend den Stichprobendaten und Streuung, die der 2.5-fachen der Streuung in der Stichprobe entspricht.\nMehr Infos kann man sich so ausgeben lassen: `prior_summary(m10.6)`.\nWo man man √ºber mehr inhaltliches Wissen verf√ºgt, so wird man die Priors anpassen wollen, z.B.:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6b <- stan_glm(price ~ cut, data = diamonds, refresh = 0,\n                   prior = normal(location = c(100, 100, 100, 100),\n                                  scale = c(100, 100, 100, 100)),\n                   prior_intercept = normal(3000, 500))\ncoef(m10.6b)\n##  (Intercept)      cutGood     cutIdeal   cutPremium cutVery Good \n##   3766.82654    105.66716    -40.76307    238.00057     78.24536\n```\n:::\n\n\n\nDie Streuung des Modells, $\\sigma$, kann man sich mit `sigma(modell)` ausgeben lassen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsigma(m10.6b)\n## [1] 3831.667\n```\n:::\n\n\n\nImplizit bekommt man diese Informationen mitgeteilt durch die Gr√∂√üe der Konfidenzintervalle.\n\n\n\n### Wechsel der Referenzkategorie\n\n- `cut` ist eine nominale Variable, da passt in R der Typ `factor` (Faktor) am besten. Aktuell ist der Typ noch `character` (Text):\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndiamonds <- diamonds %>% \n  mutate(cut = factor(cut))\n```\n:::\n\n\n\n- Im Standard sortiert R die Faktorstufen alphabetisch, aber man kann die Reihenfolge √§ndern. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(diamonds$cut)\n## [1] \"Fair\"      \"Good\"      \"Ideal\"     \"Premium\"   \"Very Good\"\n```\n:::\n\n\nSetzen wir `Ideal` als Referenzkategorie und lassen die restliche Reihenfolge, wie sie ist:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(forcats)\ndiamonds <- diamonds %>% \n  mutate(cut = factor(cut),\n    cut = fct_relevel(cut, \"Ideal\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(diamonds$cut)\n## [1] \"Ideal\"     \"Fair\"      \"Good\"      \"Premium\"   \"Very Good\"\n```\n:::\n\n\n\n\n\n\n\n\n\n\n### Wechsel der Referenzkategorie √§ndert nichts Wesentliches am Modell\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6a <- stan_glm(price ~ cut, data = diamonds, refresh = 0)\nhdi(m10.6a)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter    |   CI|     CI_low|  CI_high|Effects |Component   |\n|:------------|----:|----------:|--------:|:-------|:-----------|\n|(Intercept)  | 0.95| 2894.85196| 3635.294|fixed   |conditional |\n|cutFair      | 0.95|  -80.74787| 2617.730|fixed   |conditional |\n|cutGood      | 0.95|  -84.70268| 1529.411|fixed   |conditional |\n|cutPremium   | 0.95| 1033.68670| 2268.562|fixed   |conditional |\n|cutVery Good | 0.95| -124.41863| 1105.342|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n## Modellg√ºte mit R-Quadrat bestimmen\n\n### Modellg√ºte mit $R^2$ bestimmen\n\n\n\n- $R^2$ gibt den Anteil der Gesamtvarianz (der AV) an, den das Modell erkl√§rt.\n- H√∂here Wert von $R^2$ bedeuten, dass das Modell die Daten besser erkl√§rt.\n- $R^2$ wird normalerweise auf Basis eines Punktsch√§tzers definiert.\n- Solch eine Definition l√§sst aber viel Information - √ºber die Ungewissheit der Sch√§tzung - au√üen vor.\n- Daher ist es w√ºnschenswert, diese Information in $R^2$ einflie√üen zu lassen: *Bayes-R-Quadrat*.\n- mit `bayes_r2()` kann man sich die Verteilung berechnen lassen.\n\n\n\n<!-- R^2_{Bayes} = \\frac{\\text{erkl√§rte Varianz}}{\\text{erk√§rte Varianz + Residualvarianz}} = \\frac{var_{fit}}{var_{fit}+var_{res}} -->\n\n<!-- - $var_{fit}$ ist die Varianz der vorhergesagten Sch√§tzwerte $\\hat{y}_i$. -->\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2(m10.6)\n## # Bayesian R2 with Compatibility Interval\n## \n##   Conditional R2: 0.031 (95% CI [0.012, 0.053])\n```\n:::\n\n\n\nM√∂chte man es ausf√ºhrlicher, und im Komfort einer Bayes-Analyse schwelgen,\nso kann man sich die Posteriori-Verteilung von $R2$ ausgeben lassen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6_r2 <-\nm10.6 %>% \n  r2_posterior() %>% \n  as_tibble()\n\nhdi(m10.6_r2) %>% \n  plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-39-1.png){width=672}\n:::\n:::\n\n\n\n\n\n## Definition vom \"klassischen\" $R^2$\n\n\n\n\n- Wie genau sind die Vorhersagen des Modells? $\\sigma$ (Vorhersagefehler) quantifiziert die Streuung der Residuen $r_i = y_i - X_i\\hat{\\beta}$, mit $\\hat{y}_i = X_i\\hat{\\beta}$. \n- Anders gesagt: $\\hat{y} = \\beta_0 + \\beta_1x_1 + \\beta_2x_2 + \\cdots = X\\hat{\\beta}$.\n- Anders gesagt gibt $\\sigma$ die \"typische\" Abweichung einer Beobachtung vom vorhergesagten Wert an.\n- Es ist n√ºtzlich, $\\sigma$ in Bezug zu setzen zur Streuung der AV, $sd_y=s_y$:\n- $R^2 = 1- (\\hat{\\sigma}^2/s^2_y)$.\n- $R2$ gibt damit den Anteil der vom Modell erkl√§rten Varianz, $V$, an.\n- Berechnet man das Modell mit der Methode der kleinsten Quadrate (nicht mit Bayes), dann ist der obige Ausdruck √§quivalent zu:\n- $R^2=V_{i=1}^n \\hat{y}_i/s_y^2$\n- Die beiden obigen Ausdr√ºcke nehmen $\\hat{y}_i$ als fix (sicher) an und vernachl√§ssigen Ungewissheit; sie sind √ºbergewiss aus Bayes-Sicht.\n\n\n\n\n## Bayes' $R^2$\n\n- Besser ist es (aus Bayes-Sicht), die Ungewissheit der Vorhersagen bei der Berechnung der Modellg√ºte miteinzubeziehen:\n- $\\text{Bayes }R^2 = \\frac{\\text{erk√§rte Varianz}}{\\text{Erkl√§rte Varianz + Residualvarianz}}= \\frac{V_{mod}}{V_{mod} + V_{res}}$\n- $V_{mod}$ ist die Varianz in der PPV mit $s = 1, \\ldots, S$ simulierten Stichproben, $V(\\hat{y}_i)$ und $V_{res}$ ist die Residualvarianz im Modell.\n- F√ºr jede Stichprobe $s$ berechnet man die vorhergesagten Werte, $\\hat{y}_i^s$, die Residualvarianz $\\sigma^2_s$ und den Anteil der erkl√§rten Varianz:\n- $\\text{Bayes }R^2_s = \\frac{V(\\hat{y}_i^s)}{V(\\hat{y}_i^s+\\sigma_s^2)}$\n\n\n@gelman_r_squared_2019, @gelman_regression_2021, Kap. 11.7\n\n\n\n\n\n\n\n\n\n## \"Praktisch\" kein Unterschied\n\n\n\n- Sagen wir, wenn sich zwei Preismittelwerte um h√∂chstens $d=100$‚Ç¨ unterscheiden, gilt dieser Unterschied f√ºr uns als \"praktisch gleich\", \"praktisch kein Unterschied\" bzw. vernachl√§ssigbar.\n- Nimmt man (praktisch) keinen Unterschied/Zusammenhang/Effekt an, spricht man von einer *Nullhypothese*: $H_0$.\n- Die Wahl von $d$ ist *subjektiv* in dem Sinne als sie von inhaltlichen √úberlegungen geleitet sein sollte.\n- Diesen Bereich bezeichnen wir den *Indifferenzbereich* (√Ñquivalenzzone, Bereich eines vernachl√§ssigbaren Unterschieds oder *Region of practical equivalence*, Rope). \n- Jetzt pr√ºfen wir, ob ein \"Gro√üteil\" der Posteriori-Stichproben im Rope liegt.\n- Unter \"Gro√üteil\" wird h√§ufig das *95%-HDI* verstanden.\n\n*Entscheidungsregel*:\n\n- Gro√üteil liegt *innerhalb* von Rope  ‚û°Ô∏è *Annahme* der Nullhypothese \"praktisch kein Effekt\", $H_0$\n- Gro√üteil liegt *au√üerhalb* von Rope  ‚û°Ô∏è *Ablehnung* der Nullhypothese \"praktisch kein Effekt\", $H_0$\n- Ansonsten  ‚û°Ô∏è  keine Entscheidung \n\n@kruschke_rejecting_2018\n\n\n\n\n### HDI-Rope-Entscheidungsregel visualisiert\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://github.com/sebastiansauer/QM2-Folien/raw/main/img/Kruschke-2018-Fig1.png){width=70%}\n:::\n:::\n\n\n@kruschke_rejecting_2018, Abbildung 1, S. 272\n\n\n\n### Rope berechnen\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrope(m10.6)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter    |   CI|  ROPE_low| ROPE_high| ROPE_Percentage|Effects |Component   |\n|:------------|----:|---------:|---------:|---------------:|:-------|:-----------|\n|(Intercept)  | 0.95| -384.4637|  384.4637|       0.0000000|fixed   |conditional |\n|cutGood      | 0.95| -384.4637|  384.4637|       0.3239474|fixed   |conditional |\n|cutIdeal     | 0.95| -384.4637|  384.4637|       0.0857895|fixed   |conditional |\n|cutPremium   | 0.95| -384.4637|  384.4637|       0.3713158|fixed   |conditional |\n|cutVery Good | 0.95| -384.4637|  384.4637|       0.2631579|fixed   |conditional |\n\n</div>\n:::\n:::\n\n\nAlle Faktorstufen von `cut` haben doch einen betr√§chtlichen Teil ihrer Wahrscheinlichkeitsmasse der Posteriori-Verteilung im ROPE. \n\nWir k√∂nnen daher f√ºr keinen der Unterschiede das ROPE verwerfen.\n\nDas h√∂rt sich abstrakt an? Dann lassen Sie uns das lieber visualisieren.\n\n:::callout-note\nDie angegebenen Prozentwerte beziehen sich nicht auf die 100% der Post-Verteilung, sondern (in der Voreinstellung) auf das 95%-ETI, s. `help(rope)`.\n:::\n\n\n### Visualisierung unserer Rope-Werte, m10.6\n\n- Ein Gro√üteil der Posteriori-Masse von `m10.6` liegt  *nicht* innerhalb des Rope. \n- Aber k√∂nnen wir umgekehrt sagen, dass ein Gro√üteil au√üerhalb liegt? Das erkennt man optisch ganz gut.\n\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\nrope(m10.6) %>% plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-42-1.png){width=672}\n:::\n:::\n\n\n\nDas ROPE druchkreuzt die \"Berge\" der Posteriori-Verteilung doch recht deutlich.\nWir kn√∂nen das Rope nicht verwerfen.\n\n\n\n\n### Genaue Rope-Werte\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(bayestestR)\nrope(m10.6, range = c(-100, 100))\n```\n:::\n\n\n</br>\n\n\n\n\n\nIm Standard werden 95%-HDI berichtet, das kann man so √§ndern, wenn man m√∂chte:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrope(m10.6, range, c(-100,100), ci = .89, ci_method = \"ETI\")\n```\n:::\n\n\n`ETI` (equal tails interval) steht f√ºr ein PI.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(rope(m10.6, range = c(-100, 100)))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-45-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n### Beantwortung der Forschungsfrage\n\n>    Nur das 95%-HDI f√ºr Schliffart \"Ideal\" schloss den Indifferenzbereich von ¬±100‚Ç¨ aus, die √ºbrigen Mittelwertsdifferenzen nicht. F√ºr die √ºbrigen Differenzen ist keine klare inferenzstatistische Aussage hinsichtlich eines Indifferenzbereichs m√∂glich: Es ist plauibel, laut dem Modell, dass es einen praktisch bedeutsamen Unterschied gibt, aber es ist auch plausibel, dass es keinen praktisch bedeutsamen Unterschied gibt.\n\n>   Die 95%HDI f√ºr die Mittelwertsdifferenzen waren wie folgt: cutGood: [-2040, 953], cutIdeal: [-2645, -4], cutPremium: [-965, 1732], cutVeryGood: [-2102, 627]. Das Modell erkl√§rte im Median ca. 3% der Varianz, also nur einen kleinen Teil.\n\n\n\n\n\n\n\n\n\n\n## Mehrere metrische UV\n\n\n\n\n### Forschungsfrage\n\n>   Stehen sowohl der IQ der Mutter als auch, unabh√§ngig davon, das Alter der Mutter im Zusammenhang mit dem IQ des Kindes?\n\n\n- Das ist wieder eine *deskriptive* Forschungsfrage. *Keine* Kausalwirkung (etwa \"IQ der Mutter ist die Ursache zum IQ des Kindes\") wird impliziert. \n- Es geht rein darum, Zusammenh√§nge in den Daten - bzw. in der Population - aufzuzeigen.\n- Viele Forschungsfagen gehen allerdings weiter und haben explizit Kausalwirkungen im Fokus. F√ºr solche Fragen ist eine deskriptive Untersuchung nicht geeignet, sondern eine Kausalanalyse ist n√∂tig.\n\n\n[Datenquelle](https://raw.githubusercontent.com/sebastiansauer/Lehre/data/main/Data/kidiq.csv) als CSV-Datei oder alternativ:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rstanarm)\ndata(\"kidiq\")\n```\n:::\n\n\n\n\n### Was hei√üt, X h√§ngt mit Y zusammen?\n\n\n- Der Begriff \"Zusammenhang\" ist nicht exakt.\n- H√§ufig wird er (f√ºr metrische Variablen) verstanden als\n    - lineare Korrelation $\\rho$ bzw. $r$ \n    - lineare Regression $\\beta$, bzw. $b$ \n\n\n- Der Regressionskoeffizient \n    - misst die *Steigung* der Regressionsgerade\n    - zeigt, wie gro√ü der vorhergesagte Unterschied in Y, wenn man zwei Personen (Beobachtungseinheiten) vergleicht, die sich um eine Einheit in X unterscheiden\n    - wird manchmal mit dem \"Effekt von X auf Y\" √ºbersetzt. Vorsicht: \"Effekt\" klingt nach Kausalzusammenhang. Eine Regression ist keine hinreichende Begr√ºndung f√ºr einen Kausalzusammenhang. \n    \n- Der Korrelationskoeffizient\n    - misst eine Art der St√§rke des linearen Zusammenhangs\n    - zeigt, wie klein die Vorhersagefehler der zugeh√∂rigen Regrssion im Schnitt sind.\n    - [Korrelation ist nicht (automatisch) Kausation.](https://xkcd.com/552/)\n    \n\n\n\n\n### Korrelationen zur Forschungsfrage\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter1 |Parameter2 |         r|   CI|     CI_low|   CI_high|         t| df_error|         p|Method              | n_Obs|\n|:----------|:----------|---------:|----:|----------:|---------:|---------:|--------:|---------:|:-------------------|-----:|\n|kid_score  |mom_hs     | 0.2369164| 0.95|  0.1460447| 0.3238236|  5.068516|      432| 0.0000024|Pearson correlation |   434|\n|kid_score  |mom_iq     | 0.4482758| 0.95|  0.3697490| 0.5204440| 10.423188|      432| 0.0000000|Pearson correlation |   434|\n|kid_score  |mom_age    | 0.0919982| 0.95| -0.0021491| 0.1845289|  1.920290|      432| 0.1109587|Pearson correlation |   434|\n|mom_hs     |mom_iq     | 0.2827094| 0.95|  0.1937362| 0.3670699|  6.125906|      432| 0.0000000|Pearson correlation |   434|\n|mom_hs     |mom_age    | 0.2145284| 0.95|  0.1228811| 0.3025476|  4.565176|      432| 0.0000195|Pearson correlation |   434|\n|mom_iq     |mom_age    | 0.0916084| 0.95| -0.0025422| 0.1841491|  1.912085|      432| 0.1109587|Pearson correlation |   434|\n\n</div>\n:::\n:::\n\n\n\nOder als Korrelationsmatrix:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation() %>% \n  summary()\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter |   mom_age|    mom_iq|    mom_hs|\n|:---------|---------:|---------:|---------:|\n|kid_score | 0.0919982| 0.4482758| 0.2369164|\n|mom_hs    | 0.2145284| 0.2827094|        NA|\n|mom_iq    | 0.0916084|        NA|        NA|\n\n</div>\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation() %>% \n  summary() %>% \n  plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-50-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### Univariate Regressionen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.7 <- stan_glm(kid_score ~ mom_iq, data = kidiq, refresh = 0)\nm10.8 <- stan_glm(kid_score ~ mom_age, data = kidiq, refresh = 0)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.7)\n## (Intercept)      mom_iq \n##   25.840357    0.610583\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.8)\n## (Intercept)     mom_age \n##  70.8061260   0.7012694\n```\n:::\n\n\n\n\n\n### Visualisierung der univariaten Regressionen\n\n\n\n`m10.7`\n\nSteigung: 0.6\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_iq, y = kid_score)) +\n  geom_point() +\n  geom_abline(intercept = coef(m10.7)[1],\n              slope = coef(m10.7)[2],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-54-1.png){width=672}\n:::\n:::\n\n\n\n\n`m10.8`\n\nSteigung: 0.7\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_age, y = kid_score)) +\n  geom_point() +\n  geom_abline(intercept = coef(m10.8)[1],\n              slope = coef(m10.8)[2],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-55-1.png){width=672}\n:::\n:::\n\n\n\n### Multiples Modell (beide Pr√§diktoren), m10.9\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.9 <- stan_glm(kid_score ~ mom_iq + mom_age, \n                  data = kidiq, \n                  refresh = 0)\ncoef(m10.9)\n## (Intercept)      mom_iq     mom_age \n##  17.6886001   0.6031288   0.3932556\n```\n:::\n\n\n\n:::callout-important\nDie Regressionsgewichte unterscheiden sich zu den von den jeweiligen univariaten Regressionen.\n:::\n\n\n- Bei einer multiplen Regression ist ein Regressionsgewicht jeweils \"bereinigt\" vom Zusammenhang mit dem (oder den) anderen Regressionsgewicht.\n- Das bedeutet, man betrachtet den den Zusammenhang eines Pr√§diktors mit der AV, wobei man gleichzeitig den anderen Pr√§diktor konstant h√§lt.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.9)\n## (Intercept)      mom_iq     mom_age \n##  17.6886001   0.6031288   0.3932556\n```\n:::\n\n\n\n\n\n### 3D-Visualisierung eines Modells mit zwei Pr√§diktoren 1\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-17fadb0ee26888332145\" style=\"width:100%;height:406px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-17fadb0ee26888332145\">{\"x\":{\"visdat\":{\"16a97231cc8e3\":[\"function () \",\"plotlyVisDat\"],\"16a9736c8c117\":[\"function () \",\"data\"]},\"cur_data\":\"16a9736c8c117\",\"attrs\":{\"16a97231cc8e3\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\"},\"16a9736c8c117\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"#00998a\",\"opacity\":0.7,\"size\":1,\"symbol\":105},\"inherit\":true}},\"layout\":{\"width\":800,\"height\":500,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"aspectmode\":\"manual\",\"aspectratio\":{\"x\":1,\"y\":1,\"z\":1},\"xaxis\":{\"title\":\"mom_iq\"},\"yaxis\":{\"title\":\"mom_age\"},\"zaxis\":{\"title\":\"kid_score\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"z<br />kid_score\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666666\",\"rgba(70,19,97,1)\"],[\"0.0833333333333334\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":true,\"x\":[71.037405135663,73.8647260079754,76.6920468802879,79.5193677526004,82.3466886249128,85.1740094972253,88.0013303695378,90.8286512418502,93.6559721141627,96.4832929864751,99.3106138587876,102.1379347311,104.965255603413,107.792576475725,110.619897348037,113.44721822035,116.274539092662,119.101859964975,121.929180837287,124.7565017096,127.583822581912,130.411143454225,133.238464326537,136.06578519885,138.893106071162],\"y\":[17,17.5,18,18.5,19,19.5,20,20.5,21,21.5,22,22.5,23,23.5,24,24.5,25,25.5,26,26.5,27,27.5,28,28.5,29],\"z\":[[67.2186473192266,68.9238858332725,70.6291243473184,72.3343628613642,74.0396013754101,75.744839889456,77.4500784035018,79.1553169175477,80.8605554315936,82.5657939456395,84.2710324596853,85.9762709737312,87.6815094877771,89.386748001823,91.0919865158689,92.7972250299147,94.5024635439606,96.2077020580065,97.9129405720524,99.6181790860982,101.323417600144,103.02865611419,104.733894628236,106.439133142282,108.144371656328],[67.4152751294651,69.120513643511,70.8257521575568,72.5309906716027,74.2362291856486,75.9414676996945,77.6467062137404,79.3519447277862,81.0571832418321,82.762421755878,84.4676602699239,86.1728987839697,87.8781372980156,89.5833758120615,91.2886143261074,92.9938528401533,94.6990913541991,96.404329868245,98.1095683822909,99.8148068963367,101.520045410383,103.225283924428,104.930522438474,106.63576095252,108.340999466566],[67.6119029397036,69.3171414537495,71.0223799677954,72.7276184818412,74.4328569958871,76.138095509933,77.8433340239789,79.5485725380247,81.2538110520706,82.9590495661165,84.6642880801624,86.3695265942082,88.0747651082541,89.7800036223,91.4852421363459,93.1904806503917,94.8957191644376,96.6009576784835,98.3061961925294,100.011434706575,101.716673220621,103.421911734667,105.127150248713,106.832388762759,108.537627276805],[67.8085307499421,69.513769263988,71.2190077780339,72.9242462920797,74.6294848061256,76.3347233201715,78.0399618342174,79.7452003482632,81.4504388623091,83.155677376355,84.8609158904008,86.5661544044467,88.2713929184926,89.9766314325385,91.6818699465844,93.3871084606302,95.0923469746761,96.797585488722,98.5028240027679,100.208062516814,101.91330103086,103.618539544905,105.323778058951,107.029016572997,108.734255087043],[68.0051585601806,69.7103970742265,71.4156355882724,73.1208741023182,74.8261126163641,76.53135113041,78.2365896444559,79.9418281585017,81.6470666725476,83.3523051865935,85.0575437006394,86.7627822146852,88.4680207287311,90.173259242777,91.8784977568229,93.5837362708688,95.2889747849146,96.9942132989605,98.6994518130064,100.404690327052,102.109928841098,103.815167355144,105.52040586919,107.225644383236,108.930882897282],[68.2017863704191,69.907024884465,71.6122633985108,73.3175019125567,75.0227404266026,76.7279789406485,78.4332174546944,80.1384559687402,81.8436944827861,83.548932996832,85.2541715108779,86.9594100249237,88.6646485389696,90.3698870530155,92.0751255670614,93.7803640811073,95.4856025951531,97.190841109199,98.8960796232449,100.601318137291,102.306556651337,104.011795165382,105.717033679428,107.422272193474,109.12751070752],[68.3984141806576,70.1036526947035,71.8088912087494,73.5141297227952,75.2193682368411,76.924606750887,78.6298452649329,80.3350837789787,82.0403222930246,83.7455608070705,85.4507993211163,87.1560378351622,88.8612763492081,90.566514863254,92.2717533772999,93.9769918913457,95.6822304053916,97.3874689194375,99.0927074334834,100.797945947529,102.503184461575,104.208422975621,105.913661489667,107.618900003713,109.324138517759],[68.5950419908961,70.300280504942,72.0055190189879,73.7107575330337,75.4159960470796,77.1212345611255,78.8264730751714,80.5317115892172,82.2369501032631,83.942188617309,85.6474271313548,87.3526656454007,89.0579041594466,90.7631426734925,92.4683811875384,94.1736197015842,95.8788582156301,97.584096729676,99.2893352437219,100.994573757768,102.699812271814,104.405050785859,106.110289299905,107.815527813951,109.520766327997],[68.7916698011346,70.4969083151805,72.2021468292264,73.9073853432722,75.6126238573181,77.317862371364,79.0231008854099,80.7283393994557,82.4335779135016,84.1388164275475,85.8440549415934,87.5492934556392,89.2545319696851,90.959770483731,92.6650089977769,94.3702475118228,96.0754860258686,97.7807245399145,99.4859630539604,101.191201568006,102.896440082052,104.601678596098,106.306917110144,108.01215562419,109.717394138236],[68.9882976113731,70.693536125419,72.3987746394648,74.1040131535107,75.8092516675566,77.5144901816025,79.2197286956484,80.9249672096942,82.6302057237401,84.335444237786,86.0406827518319,87.7459212658777,89.4511597799236,91.1563982939695,92.8616368080154,94.5668753220613,96.2721138361071,97.977352350153,99.6825908641989,101.387829378245,103.093067892291,104.798306406336,106.503544920382,108.208783434428,109.914021948474],[69.1849254216116,70.8901639356575,72.5954024497034,74.3006409637492,76.0058794777951,77.711117991841,79.4163565058869,81.1215950199327,82.8268335339786,84.5320720480245,86.2373105620703,87.9425490761162,89.6477875901621,91.353026104208,93.0582646182539,94.7635031322997,96.4687416463456,98.1739801603915,99.8792186744374,101.584457188483,103.289695702529,104.994934216575,106.700172730621,108.405411244667,110.110649758713],[69.3815532318501,71.086791745896,72.7920302599419,74.4972687739877,76.2025072880336,77.9077458020795,79.6129843161254,81.3182228301712,83.0234613442171,84.728699858263,86.4339383723089,88.1391768863547,89.8444154004006,91.5496539144465,93.2548924284924,94.9601309425383,96.6653694565841,98.37060797063,100.075846484676,101.781084998722,103.486323512768,105.191562026814,106.896800540859,108.602039054905,110.307277568951],[69.5781810420886,71.2834195561345,72.9886580701803,74.6938965842262,76.3991350982721,78.104373612318,79.8096121263639,81.5148506404097,83.2200891544556,84.9253276685015,86.6305661825474,88.3358046965932,90.0410432106391,91.746281724685,93.4515202387309,95.1567587527768,96.8619972668226,98.5672357808685,100.272474294914,101.97771280896,103.682951323006,105.388189837052,107.093428351098,108.798666865144,110.50390537919],[69.7748088523271,71.480047366373,73.1852858804189,74.8905243944647,76.5957629085106,78.3010014225565,80.0062399366024,81.7114784506482,83.4167169646941,85.12195547874,86.8271939927859,88.5324325068317,90.2376710208776,91.9429095349235,93.6481480489694,95.3533865630152,97.0586250770611,98.763863591107,100.469102105153,102.174340619199,103.879579133245,105.58481764729,107.290056161336,108.995294675382,110.700533189428],[69.9714366625656,71.6766751766115,73.3819136906574,75.0871522047032,76.7923907187491,78.497629232795,80.2028677468409,81.9081062608867,83.6133447749326,85.3185832889785,87.0238218030243,88.7290603170702,90.4342988311161,92.139537345162,93.8447758592079,95.5500143732537,97.2552528872996,98.9604914013455,100.665729915391,102.370968429437,104.076206943483,105.781445457529,107.486683971575,109.191922485621,110.897160999667],[70.1680644728041,71.87330298685,73.5785415008959,75.2837800149417,76.9890185289876,78.6942570430335,80.3994955570794,82.1047340711252,83.8099725851711,85.515211099217,87.2204496132629,88.9256881273087,90.6309266413546,92.3361651554005,94.0414036694464,95.7466421834923,97.4518806975381,99.157119211584,100.86235772563,102.567596239676,104.272834753722,105.978073267767,107.683311781813,109.388550295859,111.093788809905],[70.3646922830426,72.0699307970885,73.7751693111343,75.4804078251802,77.1856463392261,78.890884853272,80.5961233673179,82.3013618813637,84.0066003954096,85.7118389094555,87.4170774235014,89.1223159375472,90.8275544515931,92.532792965639,94.2380314796849,95.9432699937308,97.6485085077766,99.3537470218225,101.058985535868,102.764224049914,104.46946256396,106.174701078006,107.879939592052,109.585178106098,111.290416620144],[70.5613200932811,72.266558607327,73.9717971213729,75.6770356354187,77.3822741494646,79.0875126635105,80.7927511775564,82.4979896916022,84.2032282056481,85.908466719694,87.6137052337399,89.3189437477857,91.0241822618316,92.7294207758775,94.4346592899234,96.1398978039692,97.8451363180151,99.550374832061,101.255613346107,102.960851860153,104.666090374199,106.371328888244,108.07656740229,109.781805916336,111.487044430382],[70.7579479035196,72.4631864175655,74.1684249316114,75.8736634456572,77.5789019597031,79.284140473749,80.9893789877949,82.6946175018407,84.3998560158866,86.1050945299325,87.8103330439783,89.5155715580242,91.2208100720701,92.926048586116,94.6312871001619,96.3365256142077,98.0417641282536,99.7470026422995,101.452241156345,103.157479670391,104.862718184437,106.567956698483,108.273195212529,109.978433726575,111.683672240621],[70.9545757137581,72.659814227804,74.3650527418499,76.0702912558957,77.7755297699416,79.4807682839875,81.1860067980334,82.8912453120792,84.5964838261251,86.301722340171,88.0069608542169,89.7121993682627,91.4174378823086,93.1226763963545,94.8279149104004,96.5331534244463,98.2383919384921,99.943630452538,101.648868966584,103.35410748063,105.059345994676,106.764584508721,108.469823022767,110.175061536813,111.880300050859],[71.1512035239966,72.8564420380425,74.5616805520883,76.2669190661342,77.9721575801801,79.677396094226,81.3826346082719,83.0878731223177,84.7931116363636,86.4983501504095,88.2035886644554,89.9088271785012,91.6140656925471,93.319304206593,95.0245427206389,96.7297812346848,98.4350197487306,100.140258262776,101.845496776822,103.550735290868,105.255973804914,106.96121231896,108.666450833006,110.371689347052,112.076927861098],[71.3478313342351,73.053069848281,74.7583083623269,76.4635468763727,78.1687853904186,79.8740239044645,81.5792624185104,83.2845009325562,84.9897394466021,86.694977960648,88.4002164746938,90.1054549887397,91.8106935027856,93.5159320168315,95.2211705308774,96.9264090449232,98.6316475589691,100.336886073015,102.042124587061,103.747363101107,105.452601615153,107.157840129198,108.863078643244,110.56831715729,112.273555671336],[71.5444591444736,73.2496976585195,74.9549361725654,76.6601746866112,78.3654132006571,80.070651714703,81.7758902287489,83.4811287427947,85.1863672568406,86.8916057708865,88.5968442849324,90.3020827989782,92.0073213130241,93.71255982707,95.4177983411159,97.1230368551618,98.8282753692076,100.533513883254,102.238752397299,103.943990911345,105.649229425391,107.354467939437,109.059706453483,110.764944967529,112.470183481575],[71.7410869547121,73.446325468758,75.1515639828039,76.8568024968497,78.5620410108956,80.2672795249415,81.9725180389874,83.6777565530332,85.3829950670791,87.088233581125,88.7934720951709,90.4987106092167,92.2039491232626,93.9091876373085,95.6144261513544,97.3196646654003,99.0249031794461,100.730141693492,102.435380207538,104.140618721584,105.84585723563,107.551095749675,109.256334263721,110.961572777767,112.666811291813],[71.9377147649506,73.6429532789965,75.3481917930424,77.0534303070882,78.7586688211341,80.46390733518,82.1691458492259,83.8743843632717,85.5796228773176,87.2848613913635,88.9900999054094,90.6953384194552,92.4005769335011,94.105815447547,95.8110539615929,97.5162924756387,99.2215309896846,100.92676950373,102.632008017776,104.337246531822,106.042485045868,107.747723559914,109.45296207396,111.158200588006,112.863439102052]],\"type\":\"surface\",\"frame\":null},{\"x\":[121.117528602603,89.3618817100663,115.443164881725,99.4496394360723,92.7457099982118,107.901837758501,138.893106071162,125.145119475328,81.6195261789843,95.0730686206496,88.5769977185567,94.8597081943671,88.9628008509596,114.114297012333,100.534071915245,120.419145591086,114.426876891447,111.592357580831,133.849227208159,97.2648010634673,110.09680614075,126.72399416984,97.9115903092628,99.9257251603133,97.5950080521511,121.748013460479,98.7480786989934,97.9152543291671,80.3585564632336,114.307860633927,109.138316302971,101.817179733939,117.965104313227,108.633496913048,96.528619145464,92.8713754661642,95.8981342875886,107.015457730577,87.1970117452858,89.3618817100663,102.530987846246,130.166860235388,83.4141025980336,125.75346623026,85.8103765615827,126.520072628695,79.203048104857,113.165907175696,110.33138786508,99.4092237400546,102.425526488872,124.900437749856,94.8597081943671,92.3685645501674,101.817179733939,79.8335329627323,96.226139267492,82.3554723942338,76.5756473159814,110.013482886319,111.592357580831,113.657407368227,101.164556773121,101.341094009698,101.698163476419,98.8191545781969,93.4981963041352,87.2938898998626,87.316028002806,86.2094574206895,89.8379674343074,121.870014908527,127.544378629405,109.991344783376,90.4463141892395,88.8949026973177,113.046890918176,78.0131542683097,95.3896508777613,83.6164421099846,86.2462806103944,95.3896508777613,111.252314499127,127.014435946011,89.951950871924,99.2731021994947,81.1655785576865,110.52128746677,136.493846917085,123.862011656634,134.602392343459,91.0989371500582,103.269371773029,126.287072933559,127.544378629405,92.4738903034255,84.7940885713045,100.534071915245,108.003012055173,78.8071449713118,121.117528602603,103.056011346747,100.437193760669,88.5548596156134,85.3055571716597,119.448617651507,90.5517755466136,96.3340383364003,127.644920803886,119.856558886853,112.018920897562,92.5143059994432,96.023799755541,91.4168421288192,103.07814944969,100.243630139074,89.8158293313641,115.057361749322,96.650620593512,105.577950778248,97.7216907075729,131.835771186485,101.817179733939,93.4981963041352,104.026539286327,103.708634307566,107.368863177393,92.5511291891481,94.4425837627742,93.1447908573186,83.4141025980336,71.037405135663,127.66705890683,115.687846607198,90.9762568726337,132.865336903467,72.5022963925581,100.710609151823,132.688799666889,98.5457391870425,115.665708504254,117.062799760565,136.493846917085,106.548478717828,134.126306619218,104.657024144202,99.3785635568688,100.437193760669,89.5253875551931,120.92294779354,113.143769072753,126.414746875437,122.737163481443,115.375266728083,91.6067417305091,88.6603209729875,107.178963575703,104.969604023316,103.8630334412,110.09680614075,88.4543174411322,117.032139577379,125.656588075683,122.601041940883,121.049630448962,93.1447908573186,99.3785635568688,123.892807443936,113.043226898272,115.771169861628,114.938345491802,93.6208765815597,121.748013460479,90.3494360346627,83.4104385781293,99.4864626257772,113.910375471188,97.5950080521511,89.8158293313641,119.584739192066,97.3816476258686,84.8774118257353,102.328648334295,99.2731021994947,99.0750497482455,96.9277000045708,108.313250636032,100.534071915245,99.4864626257772,113.987614356911,92.7702011694918,88.0298361151122,106.111557481547,103.232548583324,99.295240302438,106.742042339422,99.1725600250135,102.447664591815,92.8677114462598,116.826136045524,85.4245734291798,115.565166329773,113.174564860055,106.861058596942,95.8302361339468,77.1092540192799,89.2908058308629,112.412742040396,110.643967744195,109.537397162078,107.901837758501,104.969604023316,107.682765778157,109.466321282875,133.532644951047,128.80901236506,101.270018130495,87.316028002806,118.090769781179,120.255639745959,90.3457720147583,79.9046088419358,136.577170171515,102.425526488872,132.688799666889,96.2972151466954,118.209786038699,118.090769781179,101.504599854825,94.3346846938659,84.67140829388,86.7688663993614,129.245933601341,127.781042344446,106.861058596942,105.754488014826,117.032139577379,119.35173949693,102.765569570576,108.205351567124,126.414746875437,101.90050298837,99.1562556370934,91.8127452623644,84.1414656104858,84.3548260367683,79.1197248504261,91.4168421288192,90.4463141892395,79.0007085929061,109.263981770924,76.7521845525589,97.5950080521511,128.80901236506,113.657407368227,114.206686337254,112.513284214877,75.3368157031739,81.5226480244075,102.638886915154,101.186694876064,112.222842438706,123.408064035336,86.5665268874105,100.116947483653,102.328648334295,87.9465128606813,80.2580142887524,80.2580142887524,91.0767990471149,85.5789725628141,113.165907175696,112.05933659358,101.270018130495,81.8328866052668,81.0945026784831,81.3290844028133,120.609045192776,102.447664591815,90.9762568726337,103.708634307566,102.328648334295,121.870014908527,88.6603209729875,90.0291897576466,83.5331188555537,91.9206443312728,87.1933477253815,80.4640178206077,84.3180028470634,77.7397388771553,82.272149139803,77.3826694104343,89.715287156883,79.9046088419358,82.1531328822829,80.2616783086568,77.3826694104343,82.7836177401583,89.2074825764321,89.088466318912,88.9872920222396,118.923594151005,83.8510238343148,84.044587455909,105.052927277747,107.999348035269,97.3816476258686,103.791957561996,97.5950080521511,88.6603209729875,107.246861729345,89.8379674343074,108.906912304203,100.63953327262,118.840270896574,95.5123311551858,84.7719504683612,100.747432341528,87.0034481236916,77.8587551346754,85.3018931517554,92.7702011694918,74.8607299789328,115.248584072661,107.372527197298,102.202982866342,97.9115903092628,96.8566241253673,111.465674925409,109.466321282875,82.2500110368597,92.7702011694918,115.568830349677,84.044587455909,116.199315207553,99.295240302438,87.1933477253815,76.7117688565413,80.6985995449379,82.4633714631422,85.1798917037074,93.0737149781151,88.5769977185567,103.056011346747,86.8767654682698,97.9152543291671,120.92294779354,91.7294220079335,87.5072503261452,90.4463141892395,84.1636037134291,96.6542846134164,95.703553478525,88.7682200418959,92.1397163116164,108.003012055173,80.3893522505354,99.8030448828889,90.0291897576466,93.9387815603207,103.708634307566,77.1092540192799,117.55716307788,79.8335329627323,83.6164421099846,88.731396852191,82.7836177401583,86.8767654682698,88.731396852191,92.2408906082888,90.5517755466136,84.1414656104858,93.0737149781151,85.8348677328627,98.8559777679018,95.5123311551858,101.067678618544,85.9323780096308,82.7836177401583,98.6647554445626,82.1494688623785,85.6157957525191,79.4376298291872,75.3368157031739,80.8921631665322,115.771169861628,97.1591040033394,80.8921631665322,79.505527982829,98.0121324837439,108.866496608185,80.6985995449379,100.747432341528,91.0989371500582,82.9859572521092,89.715287156883,131.010705519546,124.514634617453,91.6104057504134,92.9903917236843,91.8838211415678,88.6909811561733,126.093509311965,84.9853108946437,82.9859572521092,101.795041630996,100.243630139074,110.013482886319,88.5769977185567,106.742042339422,95.2921406009932,108.313250636032,110.33138786508,116.829800065428,86.6855431449306,96.8566241253673,90.2482617379903,89.2908058308629,74.2302451210575,91.8838211415678,96.4607209918222,97.4037857288119,131.533291308512,78.2445582670783,127.675716591188,124.514634617453,80.4640178206077,74.8607299789328,84.8774118257353,92.9903917236843,94.8597081943671,96.8566241253673,91.2533362836924],\"y\":[27,25,27,25,27,18,20,23,24,19,23,24,27,26,24,26,23,26,20,17,21,26,20,23,19,27,21,22,24,22,27,23,27,22,27,22,27,25,22,25,21,24,22,24,27,28,21,23,26,28,24,27,24,29,23,21,21,21,24,23,26,17,24,25,22,25,20,24,23,25,23,20,20,24,24,26,22,25,20,21,19,20,24,24,28,24,25,20,23,24,23,23,19,22,20,28,23,24,22,26,27,24,22,24,22,24,21,19,24,27,28,25,22,26,23,26,24,23,20,24,26,27,23,20,26,23,20,19,19,25,22,28,23,23,20,25,26,25,24,22,24,28,23,26,25,26,21,22,26,19,24,29,28,26,20,21,26,23,25,21,20,21,22,24,26,25,21,29,20,21,22,23,27,22,20,19,28,19,24,28,24,21,22,24,18,25,19,24,19,19,18,21,22,25,23,22,20,23,20,20,23,20,29,23,26,22,21,20,23,25,18,23,19,21,19,22,21,23,22,25,20,25,21,24,24,25,23,22,26,21,20,21,26,28,23,25,21,22,26,21,29,21,17,21,24,19,23,26,24,22,22,25,19,22,17,18,24,23,22,19,23,26,25,22,19,22,23,20,20,24,25,23,25,21,19,21,26,20,23,20,23,22,20,21,19,23,19,20,21,25,22,23,25,20,25,22,22,25,22,23,22,18,21,26,22,21,20,24,21,19,21,27,23,25,21,23,23,24,19,26,23,20,18,25,19,22,27,20,21,19,21,24,18,22,22,22,23,20,28,26,19,27,21,23,24,19,22,19,23,19,24,23,22,19,19,18,22,29,20,19,26,23,22,24,21,21,25,22,19,25,22,21,24,21,18,19,23,22,20,22,23,20,19,26,23,22,21,27,22,27,24,28,26,19,23,21,20,19,23,22,23,25,28,26,19,21,24,26,23,23,22,18,19,26,22,23,21,18,21,25,25,26,23,21,27,29,23,21,25,21,23,24,21,25],\"z\":[65,98,85,83,115,98,69,106,102,95,91,58,84,78,102,110,102,99,105,101,102,115,100,87,99,96,72,78,77,98,69,130,109,106,92,100,107,86,90,110,107,113,65,102,103,111,42,100,67,92,100,110,56,107,97,56,95,78,76,86,79,81,79,79,56,52,63,80,87,88,92,100,94,117,102,107,99,73,56,78,94,110,109,86,92,91,123,102,105,114,96,66,104,108,84,83,83,92,109,95,93,114,106,87,65,95,61,73,112,113,49,105,122,96,97,94,117,136,85,116,106,99,94,89,119,112,104,92,86,69,45,57,94,104,89,144,52,102,106,98,97,94,111,100,105,90,98,121,106,121,102,64,99,81,69,84,104,104,107,88,67,103,94,109,94,98,102,104,114,87,102,77,109,94,93,86,97,97,88,103,87,87,90,65,111,109,87,58,87,113,64,78,97,95,75,91,99,108,95,100,85,97,108,90,100,82,94,95,119,98,100,112,136,122,126,116,98,94,93,90,70,110,104,83,99,81,104,109,113,95,74,81,89,93,102,95,85,97,92,78,104,120,83,105,68,104,80,120,94,81,101,61,68,110,89,98,113,50,57,86,83,106,106,104,78,99,91,40,42,69,84,58,42,72,80,58,52,101,63,73,68,60,69,73,75,20,56,49,71,46,54,54,44,74,58,46,76,43,60,58,89,43,94,88,79,87,46,95,92,42,62,52,101,97,85,98,94,90,72,92,75,83,64,101,82,77,101,50,90,103,96,50,47,73,62,77,64,52,61,86,41,83,64,83,116,100,42,74,76,92,98,96,67,84,111,41,68,107,82,89,83,73,74,94,58,76,61,38,100,84,99,86,94,90,50,112,58,87,76,68,110,88,87,54,49,56,79,82,80,60,102,87,42,119,84,86,113,72,104,94,78,80,67,104,96,65,64,95,56,75,91,106,76,90,108,86,85,104,87,41,106,76,100,89,42,102,104,59,93,94,76,50,88,70],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"#00998a\",\"opacity\":0.7,\"size\":1,\"symbol\":105,\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"error_y\":{\"color\":\"rgba(255,127,14,1)\"},\"error_x\":{\"color\":\"rgba(255,127,14,1)\"},\"line\":{\"color\":\"rgba(255,127,14,1)\"},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n\n\n\n### Visualisierung mit Farbe statt 3. Dimension\n\n\n::: {.cell fig.asp='0.5'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-59-1.png){width=672}\n:::\n:::\n\n\n\nAuf der Achse von mom_iq erkennt man deutlich (anhand der Farb√§nderung) die Ver√§nderung f√ºr die AV (kid_score). Auf der Achse f√ºr `mom_age` sieht man, dass sich die AV kaum √§ndert, wenn sich `mom_age` √§ndert.\n\n\n\n\n### Visualisierung in 10 Dimensionen\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(data.frame(x=NA, y=NA)) +\n  theme(panel.background = element_rect(fill = 'lightblue'))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-60-1.png){fig-align='center' width=50%}\n:::\n:::\n\n\nLeider macht mein Hirn hier nicht mit. Unsere Schw√§chen, eine gro√üe Zahl an Dimensionen zu visualisieren, ist der Grund, warum wir mathematische Modelle brauchen.\n\nDaher kann man ein Modell verstehen als eine einfache Zusammenfassung eines (ggf. hochdimensionalen) Variablenraumes.\n\n\n\n\n\n\n\n### Relevanz der Pr√§diktoren\n\n- Welcher Pr√§diktor ist nun \"wichtiger\" oder \"st√§rker\" in Bezug auf den Zusammenhang mit der AV, `mom_iq` oder `mom_age`?\n\n- `mom_iq` hat den gr√∂√üeren Koeffizienten.\n- `mom_age` hat weniger Streuung.\n\n\n- Um die Relevanz der Pr√§diktoren vergleichen zu k√∂nnen, m√ºsste man vielleicht die Ver√§nderung von `kid_score` betrachten, wenn man von kleinsten zum gr√∂√üten Pr√§diktorwert geht.\n- Allerdings sind Extremwerte meist instabil (da sie von einer einzigen Beobachtung bestimmt werden).\n- Sinnvoller ist es daher, die Ver√§nderung in der AV zu betrachten, wenn man den Pr√§diktor von \"unterdurchschittlich\" auf \"√ºberdurchschnittlich\" √§ndert.\n- Das kann man mit *z-Standardisierung* erreichen.\n\n\n\n\n\n\n\n### z-Standardisierung\n\n\n\n\n- *z-Standardisierung* bedeutet, eine Variable so zu transformieren, dass sie √ºber einen Mittelwert von 0 und eine SD von 1 verf√ºgt:\n\n$$z = \\frac{x - \\bar{x}}{sd(x)}$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")\nkidiq2 <- \n  kidiq %>% \n  mutate(mom_iq_z = ((mom_iq - mean(mom_iq)) / sd(mom_iq)))  %>% \n  select(mom_iq, mom_iq_z) %>% \n  head()\n```\n:::\n\n\n\n\n\n\n### Statistiken zu den z-transformierten Variablen\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"xociitbfzy\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xociitbfzy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xociitbfzy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xociitbfzy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xociitbfzy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xociitbfzy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xociitbfzy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xociitbfzy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xociitbfzy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xociitbfzy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xociitbfzy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xociitbfzy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xociitbfzy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xociitbfzy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xociitbfzy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xociitbfzy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xociitbfzy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xociitbfzy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xociitbfzy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xociitbfzy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xociitbfzy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xociitbfzy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xociitbfzy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xociitbfzy .gt_left {\n  text-align: left;\n}\n\n#xociitbfzy .gt_center {\n  text-align: center;\n}\n\n#xociitbfzy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xociitbfzy .gt_font_normal {\n  font-weight: normal;\n}\n\n#xociitbfzy .gt_font_bold {\n  font-weight: bold;\n}\n\n#xociitbfzy .gt_font_italic {\n  font-style: italic;\n}\n\n#xociitbfzy .gt_super {\n  font-size: 65%;\n}\n\n#xociitbfzy .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xociitbfzy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xociitbfzy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xociitbfzy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xociitbfzy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xociitbfzy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xociitbfzy .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">n</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">sd</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">kid_score</td>\n<td class=\"gt_row gt_right\">434</td>\n<td class=\"gt_row gt_right\">86.797</td>\n<td class=\"gt_row gt_right\">20.411</td></tr>\n    <tr><td class=\"gt_row gt_left\">mom_age</td>\n<td class=\"gt_row gt_right\">434</td>\n<td class=\"gt_row gt_right\">22.786</td>\n<td class=\"gt_row gt_right\">2.701</td></tr>\n    <tr><td class=\"gt_row gt_left\">mom_hs</td>\n<td class=\"gt_row gt_right\">434</td>\n<td class=\"gt_row gt_right\">0.786</td>\n<td class=\"gt_row gt_right\">0.411</td></tr>\n    <tr><td class=\"gt_row gt_left\">mom_iq</td>\n<td class=\"gt_row gt_right\">434</td>\n<td class=\"gt_row gt_right\">100.000</td>\n<td class=\"gt_row gt_right\">15.000</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\nSo kann man auch die z-Transformation (\"Skalierung\") durchf√ºhren:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <- \n  standardize(kidiq, append = TRUE)\n\nhead(kidiq)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| kid_score| mom_hs|    mom_iq| mom_age| kid_score_z|  mom_hs_z|   mom_iq_z|  mom_age_z|\n|---------:|------:|---------:|-------:|-----------:|---------:|----------:|----------:|\n|        65|      1| 121.11753|      27|  -1.0679324|  0.521631|  1.4078352|  1.5602285|\n|        98|      1|  89.36188|      25|   0.5488676|  0.521631| -0.7092079|  0.8197811|\n|        85|      1| 115.44316|      27|  -0.0880536|  0.521631|  1.0295443|  1.5602285|\n|        83|      1|  99.44964|      25|  -0.1860415|  0.521631| -0.0366907|  0.8197811|\n|       115|      1|  92.74571|      27|   1.3817645|  0.521631| -0.4836193|  1.5602285|\n|        98|      0| 107.90184|      18|   0.5488676| -1.912647|  0.5267892| -1.7717849|\n\n</div>\n:::\n:::\n\n\n\nDer Schalter `append = TRUE` sorgt daf√ºr, dass die urspr√ºnglichen Variablen beim Z-Standardisieren nicht √ºberschrieben werden, sondern angeh√§ngt werden (mit einem Suffix `_z`).\n\n\nMan kann auch nur einzelne Variablen standardisieren\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  standardize(select = c(\"mom_iq\", \"mom_age\", \"kid_score\"))\n```\n:::\n\n\n\n\nMan kann das Standardisieren auch von Hand machen, ohne ein Extra-Paket:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#data(kidiq)\nkidiq %>% \n  mutate(mom_iq_z2 = scale(mom_iq),\n         mom_age_z2 = scale(mom_age),\n         kid_score_z2 = scale(kid_score)) %>% \n  head()\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| kid_score| mom_hs|    mom_iq| mom_age| kid_score_z|  mom_hs_z|   mom_iq_z|  mom_age_z|  mom_iq_z2| mom_age_z2| kid_score_z2|\n|---------:|------:|---------:|-------:|-----------:|---------:|----------:|----------:|----------:|----------:|------------:|\n|        65|      1| 121.11753|      27|  -1.0679324|  0.521631|  1.4078352|  1.5602285|  1.4078352|  1.5602285|  -1.06793237|\n|        98|      1|  89.36188|      25|   0.5488676|  0.521631| -0.7092079|  0.8197811| -0.7092079|  0.8197811|   0.54886757|\n|        85|      1| 115.44316|      27|  -0.0880536|  0.521631|  1.0295443|  1.5602285|  1.0295443|  1.5602285|  -0.08805362|\n|        83|      1|  99.44964|      25|  -0.1860415|  0.521631| -0.0366907|  0.8197811| -0.0366907|  0.8197811|  -0.18604150|\n|       115|      1|  92.74571|      27|   1.3817645|  0.521631| -0.4836193|  1.5602285| -0.4836193|  1.5602285|   1.38176451|\n|        98|      0| 107.90184|      18|   0.5488676| -1.912647|  0.5267892| -1.7717849|  0.5267892| -1.7717849|   0.54886757|\n\n</div>\n:::\n:::\n\n\n\n\n### Modell mit standardisierten Pr√§diktoren, `m10.10`\n\nDas Standardisieren der AV, `kid_score` ist nicht n√∂tig, um den Effekt der Pr√§diktoren (UV) auf die AV zu untersuchen.\nStandardisiert man die AV, so liefern die Regressionskoeffizienten (Betas) Aussage dar√ºber,\num wie viele *SD-*Einheiten sich die AV ver√§ndert, wenn sich ein Pr√§diktor um eine *SD-*Einheit ver√§ndert.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.10 <- stan_glm(kid_score_z ~ mom_iq_z + mom_age_z, data = kidiq, refresh = 0)\ncoef(m10.10)\n##  (Intercept)     mom_iq_z    mom_age_z \n## 0.0004107225 0.4430261801 0.0516987335\n```\n:::\n\n\n\n- Der *Achsenabschnitt* gibt den Mittelwert der AV (`kid_score`) an, da `kid_score_z = 0` identisch ist zum Mittelwert von  `kid_score`.\n- Der Koeffizient f√ºr `mom_iq_z` gibt an, um wie viele SD-Einheiten sich `kid_score` (die AV) √§ndert, wenn sich `mom_iq` um eine SD-Einheit √§ndert. \n- Der Koeffizient f√ºr `mom_age_z` gibt an, um wie viele SD-Einheiten sich `kid_score` (die AV) √§ndert, wenn sich `mom_age` um eine SD-Einheit √§ndert.\n\n\n\nJetzt sind die Pr√§diktoren in ihrer Relevanz (Zusammenhang mit der AV) vergleichbar: \n\n- Man sieht, dass die Intelligenz der Mutter *deutlich wichtiger* ist das Alter der Mutter (im Hinblick auf die Vorhersage bzw. den Zusammenhang mit mit der AV).\n\n\n\n\n### 95%-PI\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m10.10) \n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   |   Median |        95% CI |     pd |  Rhat |     ESS |                      Prior |\n|:-----------|:--------:|:-------------:|:------:|:-----:|:-------:|:--------------------------:|\n|(Intercept) | 4.11e-04 | (-0.08, 0.08) | 50.40% | 1.000 | 4998.00 | Normal (-2.81e-16 +- 2.50) |\n|mom_iq_z    |     0.44 |  (0.36, 0.53) |   100% | 1.000 | 5035.00 |      Normal (0.00 +- 2.50) |\n|mom_age_z   |     0.05 | (-0.03, 0.14) | 88.55% | 1.001 | 5165.00 |      Normal (0.00 +- 2.50) |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(hdi(m10.10))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-69-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### Was ist ein kleiner, was ein gro√üer Effekt?\n\n- @cohen_statistical_1988 definiert Effektst√§rken in Bezug auf Mittelwertsvergleiche anhand von $d=(\\mu_1 - \\mu_o) / \\sigma$.\n- F√ºr kleine, mittlere und gro√üe Werte gab er folgende Richtwerte:\n    - klein: $d \\approx 0.2$\n    - mittel: $d \\approx 0.5$\n    - gro√ü: $d \\approx 0.8$\n- Auf dieser Basis schl√§gt @kruschke_rejecting_2018 einen Rope von $\\pm0.1$ vor.\n- F√§llt ein Intervall (mit vorab definierter Sicherheit, z.B. 95%) komplett in das Rope, so gilt der Effekt als \"praktisch null\".\n- Richtlinien f√ºr Effektst√§rken sind nur Notl√∂sungen, die durch  Sachverstand ersetzt werden sollen, wo immer m√∂glich.\n- Man kann Effektst√§rken ineinander √ºberf√ºhren, s. [hier](https://www.escal.site/), z.B. von Korrelation (*r*) zu Cohens *d* oder $R^2$.\n\n\n\n\n### Vernachl√§ssigbarer Regressionseffekt\n\n@kruschke_rejecting_2018 schl√§gt vor, einen Regressionskoeffizienten unter folgenden Umst√§nden als \"praktisch Null\" zu bezeichnen:\n\n- Wenn eine Ver√§nderung √ºber \"praktisch den ganzen Wertebereich\" von $x$ nur einen vernachl√§ssigbaren Effekt auf $y$ hat.\n- Ein vernachl√§ssigbarer Effekt ist dabei $\\hat{y}= \\pm 0.1 sd_y$.\n- Der \"praktisch ganze Wertebereich\" von $x$ sei $\\bar{x} \\pm 2 sd_x$.\n- Resultiert der Vergleich von $\\bar{x} -2 sd$ mit $\\bar{x}+2sd$ nur eine Ver√§nderung in $\\hat{y}$ von $\\bar{y} - 0.1sd_y$ auf $\\bar{y} + 0.1 sd_y$, so ist der Regressionskoeffizient praktisch Null, der Effekt also vernachl√§ssigbar.\n- Das impliziert Rope-Grenzen von $\\beta_x = \\pm 0.05$ f√ºr z-standardisierte Variablen.\n\n\n\n\n\n\n\n\n\n\n\n### Verwandtheit von Korrelation und Regression\n\n\n- Sind X und Y *z-standardisiert*, so sind Korrelation und Regression identisch.\n\n\n$$b = r \\frac{sd_x}{sd_y}$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.11 <- \n  stan_glm(kid_score_z ~ mom_iq_z , data = kidiq, refresh = 0)\ncoef(m10.11)\n##  (Intercept)     mom_iq_z \n## -0.000102025  0.449942456\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  select(kid_score, mom_iq, kid_score_z, mom_iq_z) %>% \n  correlation()\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter1  |Parameter2  |         r|   CI|   CI_low|  CI_high|        t| df_error|  p|Method              | n_Obs|\n|:-----------|:-----------|---------:|----:|--------:|--------:|--------:|--------:|--:|:-------------------|-----:|\n|kid_score   |mom_iq      | 0.4482758| 0.95| 0.369749| 0.520444| 10.42319|      432|  0|Pearson correlation |   434|\n|kid_score   |kid_score_z | 1.0000000| 0.95| 1.000000| 1.000000|      Inf|      432|  0|Pearson correlation |   434|\n|kid_score   |mom_iq_z    | 0.4482758| 0.95| 0.369749| 0.520444| 10.42319|      432|  0|Pearson correlation |   434|\n|mom_iq      |kid_score_z | 0.4482758| 0.95| 0.369749| 0.520444| 10.42319|      432|  0|Pearson correlation |   434|\n|mom_iq      |mom_iq_z    | 1.0000000| 0.95| 1.000000| 1.000000|      Inf|      432|  0|Pearson correlation |   434|\n|kid_score_z |mom_iq_z    | 0.4482758| 0.95| 0.369749| 0.520444| 10.42319|      432|  0|Pearson correlation |   434|\n\n</div>\n:::\n:::\n\n\n\n\n### Modellg√ºte\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2(m10.10)\n## # Bayesian R2 with Compatibility Interval\n## \n##   Conditional R2: 0.204 (95% CI [0.142, 0.268])\n```\n:::\n\n\n\nIst dieser Wert von $R2$ \"gut\"?\nDiese Frage ist √§hnlich zur Frage \"Ist das viel Geld?\"; \nman kann die Frage nur im Kontext beantworten.\n\nEine einfache L√∂sung ist immer, Modelle zu vergleichen.\nDann kann man angeben, welches Modell die Daten am besten erkl√§rt,\nz.B. auf Basis von $R^2$.\n\nZu beachten ist, dass das Modell theoretisch fundiert sein sollte.\nVergleicht man viele Modelle aufs Geratewohl, so muss man von zuf√§llig hohen Werten der Modellg√ºte im Einzelfall ausgehen.\n\n\nWenn Sie aber unbedingt eine \"objektive\" Antwort auf die Frage \"wie viel ist viel?\" haben wollen,\nziehen wir Herrn Cohen zu Rate:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninterpret_r2(0.2)  # aus `easystats`\n## [1] \"moderate\"\n## (Rules: cohen1988)\n```\n:::\n\n\nDanke, Herr Cohen!\n\n\n### Priori-Verteilung f√ºr `m10.10` und Modelldefinition\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprior_summary(m10.10)  # aus rstanarm\n## Priors for model 'm10.10' \n## ------\n## Intercept (after predictors centered)\n##  ~ normal(location = -2.8e-16, scale = 2.5)\n## \n## Coefficients\n##  ~ normal(location = [0,0], scale = [2.5,2.5])\n## \n## Auxiliary (sigma)\n##  ~ exponential(rate = 1)\n## ------\n## See help('prior_summary.stanreg') for more details\n```\n:::\n\n\n\n\n<!-- $$\\begin{align} -->\n<!-- \\text{kid_score} &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\mu_i &= \\alpha + \\beta_1\\text{mom_iq}_i + \\beta_2\\text{mom_age}_i \\\\ -->\n<!-- \\alpha &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\beta_1 &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\beta_2 &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\sigma &\\sim \\mathcal{E}(1) -->\n<!-- \\end{align}$$ -->\n\n\n\n$$\n\\text{kid_score} \\sim \\mathcal{N}(0,2.5)\\\\\n\\mu_i = \\alpha + \\beta_1\\text{mom_iq}_i + \\beta_2\\text{mom_age}_i \\\\\n\\alpha \\sim \\mathcal{N}(0,2.5)\\\\\n\\beta_1 \\sim \\mathcal{N}(0,2.5)\\\\\n\\beta_2 \\sim \\mathcal{N}(0,2.5)\\\\\n\\sigma \\sim \\mathcal{E}(1)\n$$\n\nSchreibt man einen Bericht, so bietet es sich an, die Modelldefinition zumindest im Anhang aufzuf√ºhren.\n\n\n### Beantwortung der Forschungsfrage\n\n\n\n>   Das Modell spricht sich klar f√ºr einen statistischen, linearen Effekt von Intelligenz der Mutter auf die Intelligenz des Kindes aus, wenn das Alter der Mutter statistisch kontrolliert wird (95%PI: [0.38, 0.51]). Hingegen zeigt das Modell, dass das Alter der Mutter statistisch eher keine Rolle spielt (95%PI: [-0.02, 0.12]). Alle Variablen wurden z-transformiert. Insgesamt erk√§rt das Modell im Median einen Anteil von ca. 0.2 an der Varianz der Kinderintelligenz. Das Modell griff auf die Standard-Priori-Werte aus dem R-Paket rstanarm [@goodrich_rstanarm_2020] zur√ºck (s. Anhang f√ºr Details).\n\n\nHier wird von einem \"statistischen Effekt\" gesprochen, um klar zu machen, dass es sich lediglich um assoziative Zusammenh√§nge, und nicht um kausale Zusammenh√§nge, handelt.\nKausale Zusammenh√§nge d√ºrfen wir nur verk√ºnden, \nwenn wir sie a) explizit untersuchen, b) sich in der Literatur Belege daf√ºr finden oder c) wir ein  Experiment fachgerecht durchgef√ºhrt haben.\n\n\n\n\n\n\n\n## Vertiefung\n\n\nüèéÔ∏èVERTIEFUNGüèéÔ∏è\n\n\n\n### Pr√ºfen der Linearit√§tsannahme\n\n\nZentrale Annahme: Die AV ist eine *lineare* Funktion der einzelnen Pr√§diktoren: \n\n$$y= \\alpha + \\beta_1x_1 + \\beta_2 x_2 + \\cdots .$$ \n\nHingegen ist es weniger, dass die AV (y) normalverteilt ist.\nZwar nimmt die Regression h√§ufig normalverteilte Residuen an, aber diese Annahme ist nicht wichtig, wenn es nur darum geht, die Regressionskoeffizienten zu sch√§tzen [@gelman_regression_2021].\n\n\n\n\n\nIst die Linearit√§tsannahme erf√ºllt, so sollte der Residualplot nur *zuf√§llige* Streuung um $y=0$ herum zeigen.\n\n\nEin Residuum $e$ ist der Vorhersagefehler, also die Differenz zwischen vorhergesagtem und tats√§chlichem Wert:\n\n\n$e_i = y_i - \\hat{y}_i$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <-\n  kidiq %>% \n  mutate(m10.10_pred = predict(m10.10),  # vorhergesagten Werte\n         m10.10_resid = resid(m10.10))  # Residuen\n```\n:::\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = m10.10_pred, y = m10.10_resid)) +\n  geom_hline(color=\"white\", yintercept = 0, size = 2) +\n  geom_hline(color = \"grey40\", \n             yintercept = c(-1,1), \n             size = 1, \n             linetype = \"dashed\") +\n  geom_point(alpha = .7) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-76-1.png){width=672}\n:::\n:::\n\n\nHier erkennt man keine gr√∂√üeren Auff√§lligkeiten.\n\n\n\n\n\n\n\n### Modellpr√ºfung mit der PPV\n\n\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\npp_check(m10.10)\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-77-1.png){width=672}\n:::\n:::\n\n\nUnser Modell - bzw. die Stichproben unserer Posteriori-Verteilung, $y_{rep}$ verfehlt den Mittelwert von $y$ leider recht h√§ufig.\n\n\n\n\n\n### Visualisierung der bereinigten Regressionskoeffizienten\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\ndata(kidiq)\nkidiq3 <- \n  kidiq %>% \n  standardize(append = TRUE) %>% \n  sample_n(size = 300)\n\n#| results: \"hide\"\nm10.10a <- stan_glm(mom_age_z ~ mom_iq_z, data = kidiq3, refresh = 0, chains = 1)\nm10.10b <- stan_glm(mom_iq_z ~ mom_age_z, data = kidiq3, refresh = 0, chains = 1)\n\nkidiq3 <-\n  kidiq3 %>% \n  mutate(mom_age_resid = resid(m10.10a)) %>% \n  mutate(mom_iq_resid = resid(m10.10b))\n\n\nm10.10c <- stan_glm(kid_score_z ~ mom_age_resid, data = kidiq3, refresh = 0, chains = 1)\nm10.10d <- stan_glm(kid_score_z ~ mom_iq_resid, data = kidiq3, refresh = 0, chains = 1)\n\n\nkidiq3 <-\n  kidiq3 %>% \n  mutate(m10.10c_resid = resid(m10.10c)) %>% \n  mutate(m10.10d_resid = resid(m10.10d))\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell fig.asp='0.619'}\n\n```{.r .cell-code}\n#(m10.10a_plot + m10.10b_plot) / (m10.10c_plot + m10.10d_plot)\nplots(m10.10a_plot, m10.10b_plot, m10.10c_plot, m10.10d_plot, \n      n_rows = 2, tags = \"A\",\n      guides = \"collect\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/resid-lm-plot-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\nDie vertikalen Balken zeigen die Residuen.\n\n\n\n\n\n\n- Obere Reihe: Regression eines Pr√§diktors auf den anderen Pr√§diktor.\n- Untere Reihe: Regression der Residuen der oberen Reihe auf die AV, `kid-score_z`. \n- Unten links (C): Die Residuen von `mom_iq_c` sind kaum mit der AV assoziiert. Das hei√üt, nutzt man den Teil von `mom_age_z`, der nicht mit `mom_iq_z` zusammenh√§ngt, um `kid_score` vorher zusagen, findet man keinen (*kaum*) Zusammenhang.\n- Unten rechts (D): Die Residuen von `mom_age_c` sind *stark* mit der AV assoziiert. Das hei√üt, nutzt man den Teil von `mom_iq_z`, der nicht mit `mom_age_z` zusammenh√§ngt, um `kid_score` vorher zusagen, findet man einen starken Zusammenhang.\n\n\n\nEine multiple Regression liefert die gleichen Regressionskoeffizienten wie die Modelle aus Teildiagrammen (C) und (D).\n\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   |   Median |        95% CI |     pd |  Rhat |     ESS |                      Prior |\n|:-----------|:--------:|:-------------:|:------:|:-----:|:-------:|:--------------------------:|\n|(Intercept) | 4.11e-04 | (-0.08, 0.08) | 50.40% | 1.000 | 4998.00 | Normal (-2.81e-16 +- 2.50) |\n|mom_iq_z    |     0.44 |  (0.36, 0.53) |   100% | 1.000 | 5035.00 |      Normal (0.00 +- 2.50) |\n|mom_age_z   |     0.05 | (-0.03, 0.14) | 88.55% | 1.001 | 5165.00 |      Normal (0.00 +- 2.50) |\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n### Bereinigte Regressionskoeffizienten f√ºr mtcars\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars2 <-\n  mtcars %>% \n  standardize()\n\nm12a <- stan_glm(disp ~ wt, data = mtcars2, refresh = 0, chains = 1)\nm12b <- stan_glm(wt ~ disp, data = mtcars2, refresh = 0, chains = 1)\n\nmtcars2 <-\n  mtcars %>% \n  mutate(m12a_resid = resid(m12a)) %>% \n  mutate(m12b_resid = resid(m12b))\n\n\nm12c <- stan_glm(mpg ~ m12a_resid, data = mtcars2, refresh = 0, chains = 1)\nm12d <- stan_glm(mpg ~ m12b_resid, data = mtcars2, refresh = 0, chains = 1)\n\n\nmtcars2 <-\n  mtcars2 %>% \n  mutate(m12c_resid = resid(m12c)) %>% \n  mutate(m12d_resid = resid(m12d))\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell fig.asp='0.619'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/resid-lm-plot-mtcars-1.png){width=672}\n:::\n:::\n\n\n\n√úbrigens liefern `stan_glm()` und `lm` oft √§hnliche Parameterwerte (bei schwach informativen Prioriwerten):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstan_glm(mpg ~ hp + cyl, data = mtcars, refresh = 0) %>% coef()\n## (Intercept)          hp         cyl \n## 36.84877039 -0.01934222 -2.26124451\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(mpg ~ hp + cyl, data = mtcars) %>% coef()\n## (Intercept)          hp         cyl \n##  36.9083305  -0.0191217  -2.2646936\n```\n:::\n\n\n\n:::callout-important\nWenn auch die  Parameterwerte eines Frequentistischen und Bayes-Modell numerisch √§hnlich sein k√∂nnen, so ist doch die Interpretation grundverschieden. \nBayesmodelle erlauben Wahrscheinlichkeitsaussagen zu den Parametern, Frequentistische Modelle nicht.\n:::\n\n\n\n\n\n### Post: Bayes in f√ºnf Minuten\n\n\nEine Kurzdarstellung des Bayes-Inferenz findet sich [in diesem Post](https://data-se.netlify.app/2022/01/27/bayes-in-f%C3%BCnf-minuten/) und in [diesem](https://data-se.netlify.app/2022/01/28/bayes-in-f%C3%BCnf-minuten-f%C3%BCr-fortgeschrittene/).\n\n\n\n\n## Ausblick: Bin√§re AV\n\n\n>    *Forschungsfrage:* Kann man anhand des Spritverbrauchs vorhersagen, ob ein Auto eine Automatik- bzw. ein manuelle Schaltung hat? Anders gesagt: H√§ngen Spritverbrauch und Getriebeart? (Datensatz `mtcars`)\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(mtcars)\nmtcars2 <-\n  mtcars %>% \n  standardize(append = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm13 <-\n  stan_glm(am ~ mpg_z, \n           data = mtcars2, \n           refresh = 0)\ncoef(m13)\n## (Intercept)       mpg_z \n##   0.4060587   0.2975638\n```\n:::\n\n\nAb  `mpg_z = 0.41, 0.3` sagt das Modell `am=1` (manuell) vorher. Ganz ok.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars2 %>% \n  ggplot(aes(x = mpg_z, y = am)) +\n  geom_hline(yintercept = 0.5, color = \"white\", size = 2) +\n  geom_point() +\n  geom_abline(intercept = coef(m13)[1],\n              slope = coef(m13)[2],\n              color = \"blue\") \n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-html/unnamed-chunk-85-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nneg_am <- predict(m13, newdata = tibble(mpg_z = -1.3))\n```\n:::\n\n\n\nF√ºr kleine Werte von `mpg_z` (<1.3) sagt unser Modell *negative* Werte f√ºr `am` voraus. Das macht keinen Sinn. M√ºssen wir mal bei Gelegenheit besser machen.\n\n\n\n\n\n\n\n## Wir waren flei√üig\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://media.giphy.com/media/XIqCQx02E1U9W/giphy.gif)\n:::\n:::\n\n\n[Quelle](https://giphy.com/gifs/XIqCQx02E1U9W)\n\n\nGenug f√ºr heute üëç \n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.0/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}