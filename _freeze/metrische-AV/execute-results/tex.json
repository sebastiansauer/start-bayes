{
  "hash": "0f18b74259094e7ec2f3e5321184d7df",
  "result": {
    "markdown": "\n# Forschungsfragen mit metrischer AV\n\n\n\n## Lernsteuerung\n\n\n### R-Pakete\n\nBenötigte R-Pakete für dieses Thema:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(\"rstanarm\")\n## [1] \"rstanarm\"\n#| message: false\n#| results: \"hide\"\n#| warnings: false\nlibrary(rstanarm)\nlibrary(tidyverse)\nlibrary(easystats)\n```\n:::\n\n\n\n\n\n\n### Lernziele\n\nNach Absolvieren des jeweiligen Kapitel sollen folgende Lernziele erreicht sein.\n\nSie können... \n\n- typische, deskriptive Forschungsfragen spezifizieren als Regression\n- Forschungsfragen in Regressionsterme übersetzen\n- typische Forschungsfragen auswerten\n\n\n\n## Wissenschaft als Gerechtigkeitsprojekt\n\n### Meinungen als Grundlage der Konfliktlösung ?\n\n\nContra:\n\n- \"Ich find Masken doof!\"\n- \"Impfen ist schädlich!\"\n- \"Corona gibt's gar nicht!\"\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nPro:\n\n- \"Ich find Masken gut!\"\n- \"Impfen ist nützlich!\"\n- \"Corona ist gefährlich!\"\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\nMeinungen kennen kein richtig und kein falsch: Meinungen sind keine Fakten. Konflikte können auf Basis von Meinungen nur schwer gelöst werden.\n\n\n\n\n\n### Fakten als Grundlage der Konfliktlösung\n\nWissenschaft produziert Fakten.\nDa Fakten universell sind (sein können), ist Wissenschaft potenziell ein Weg zur Konfliktlösung.\nWarum helfen Fakten bei Konflikten?\n\n\nFakten sind neutral gegenüber Personen.\nFakten bieten daher eine Chance zur fairen Einigung.\n\n\nWann ist ein Fakt ein Fakt?\n\n\n Fakten müssen vor allem nachprüfbar sein (Daten, Analyse und Bericht müssen offen zugänglich sein).\n\n\n\n### Beispiel Corona: Datenlage spricht zugunsten der Covid19-Impfung\n\n\n\n\n>    The effectiveness of full messenger RNA (mRNA) vaccination (≥14 days after the second dose) was 89% (95% confidence interval [CI], 87 to 91) against laboratory-confirmed SARS-CoV-2 infection leading to hospitalization, 90% (95% CI, 86 to 93) against infection leading to an ICU admission, and 91% (95% CI, 89 to 93) against infection leading to an emergency department or urgent care clinic visit.\n\n@thompson_effectiveness_2021; vgl. auch @nasreen_effectiveness_2021; @pormohammad_efficacy_2021\n\n\n\nDrei Anforderungen an die Qualität von Studien:\n\n1. *handwerklich gut*:  z.B. vergleichbare Gruppen, genaue Messinstrumente\n2. *bescheiden*: die Forschungsfrage wird nur dann selbstbewusst beantwortet, wenn es die handwerkliche Qualität der Studie zulässt. Gibt es eine Vielzahl weiterer Studien mit abweichenden Ergebnissen, wird dies bei der Beantwortung der Forschungsfrage berücksichtigt. \n3. *transparent*: Das Vorgehen, die Hintergründe und Ziele werden offengelegt. Das betrifft auch möglich Befangenheit oder Interessenskonflikte der Autoren und Autorinnen\n\n\n\n### Psychologische Intervention zur Erhöhung der Impfquote\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](img/41586_2021_3843_Fig2_HTML.png){width=100%}\n:::\n:::\n\n\n\n[Quelle/Volltext](https://www.nature.com/articles/s41586-021-03843-2)\n\n@dai_behavioural_2021\n\n\n\n\n### Was heißt \"ist effektiv\"?\n\n@nasreen_effectiveness_2021  definieren *effectivity*, $e$, so:\n\n\n\n$$e = 1 - C; C= \\frac{n_{vacc|pos}}{n_{vacc|neg}}$$\n\n\n- $C$ nennt man das *Chancenverhältnis* (*odds ratio*), es beschreibt einen Bruchterm: $\\frac{x}{y}$.\n- $n_{vacc|pos}$: Anzahl der geimpften Personen unter allen Personen mit positiver Corona-Diagnose\n- $n_{vacc|neg}$: Anzahl der geimpften Personen unter allen Personen mit negativer Corona-Diagnose\n\n\n*Beispiel*: Von den 100 Personen mit *positiver* Corona-Diagnose sind 10 geimpft, $n_{vacc|pos}=10$. Von den 100 Personen mit *negativer* Corona-Diagnose sind 90 geimpft, $n_{vacc|neg}=90$\n\n$$C= \\frac{10}{90} = \\frac{1}{9}; e = 1 - \\frac{1}{9} = \\frac{8}{9} \\approx 0.88$$\n\n\nIn diesem Beispiel liegt die Effektvitität $e$ bei knapp 90%.\n\n\n## Arten von Forschungsfragen\n\n\n### Nach dem Erkenntnisziel\n\n*Deskriptiv* (beschreibend)\n\n- Wie stark ist der (lineare) Zusammenhang $r$ von Größe und Gewicht?\n- Wie stark ist der (lineare) Zusammenhang $b$ von Lernzeit und Note?\n- Bevorzugen unsere Kunden Webshop A oder B?\n\n\n\n*Prädiktiv* (prognostisch, vorhersagend)\n\n- Wie schwer ist ein deutscher Mann der Größe 1,80m im Schnitt?\n- Welche Note kann man erwarten, wenn man nichts für die Klausur lernt?\n- Wieviel wird ein Kunde ausgeben, wenn er sich in dieser Variante des Webshops aufhält?\n\n\n\n*Präskriptiv* (erklärend, kausal)\n\n- Ist Größe eine Ursache von Gewicht (bei deutschen Männern)?\n- Wenn ich 100 Stunden lerne, welche Note schreibe ich dann?\n- Hat die Art des Webshops einen Einfluss auf unseren Umsatz?\n\n\n### Nach dem Skalenniveau\n\n\n\n\nWir konzentrieren uns im Folgenden auf Forschungsfragen auf Basis von Regressionsmodellen mit *metrischer* AV. Andere Skalenniveaus bei der AV klammern wir aus.\n\nFür die UV(s) sind nominale und metrische Skalenniveaus erlaubt. \nModelle mit mehreren UV (und mehreren Stufen an UV) sind erlaubt.\n\n\n\n\n## Eine binäre UV\n\n\n\n### Forschungsfrage\n\n*Hintergrund:*\n\nEine Psychologin, die im öffentlichen Dienst arbeitet, versucht herauszufinden, warum einige Kinder intelligenter sind als andere. Dazu wurden in einer aufwändigen Studie die Intelligenz vieler Kinder gemessen. Zusätzliche wurden verschiedene Korrelate der Intelligenz erhoben, in der Hoffnung, \"Risikofaktoren\" für geringere Intelligenz zu entdecken.\n\n\n\n\n*Forschungsfrage:* \n\n\n>    Unterscheidet sich der mittlere IQ-Wert (`kid_score`) von Kindern in Abhängigkeit davon, ob ihre jeweilige Mutter über einen Schlusabschluss (`mom_hs`) verfügt? (ceteris paribus)\n\n\n\n\n### IQ von Kindern, binärer Prädiktor\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")  # Paket rstanarm\nm10.1 <- stan_glm(\n  kid_score ~ mom_hs, \n  data = kidiq)\n```\n:::\n\n\n\nAlternativ können Sie die Daten [hier](https://raw.githubusercontent.com/sebastiansauer/Lehre/main/data/kidiq.csv) herunterladen.\n\nMit `parameters(m10.1)` bekommt man die Parameter des Modells:\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   | Median |         95% CI |   pd |  Rhat |     ESS |                   Prior |\n|:-----------|:------:|:--------------:|:----:|:-----:|:-------:|:-----------------------:|\n|(Intercept) |  77.53 | (73.43, 81.47) | 100% | 1.000 | 3665.00 | Normal (86.80 +- 51.03) |\n|mom_hs      |  11.80 |  (7.27, 16.41) | 100% | 1.000 | 3580.00 | Normal (0.00 +- 124.21) |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(kidiq) +\n  aes(x = mom_hs, y = kid_score) +\n  geom_jitter(width = 0.1, alpha = .5) +\n  geom_abline(slope = coef(m10.1)[2],\n              intercept = coef(m10.1)[1])  +\n  scale_x_continuous(breaks = c(0, 1))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-7-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n### Interpretation von `m10.1`\n\n`m10.1: kid_score = 78 + 12*mom_hs + error`\n\n- Der *Achsensabschnitt* (intercept, $\\beta_0$ oder auch mit $\\alpha$ bezeichnet) ist der mittlere (bzw. vorhergesagte) IQ-Wert von Kindern, deren Mütter über keinen Schulabschluss (`mom_hs = 0`) verfügen:\n\n`kid_score = 78 + 0*12 + error`\n\n- Das *Regressionsgewicht* (slope, $\\beta$) ist der Unterschied im IQ-Wert von Kindern mit Mütter mit Schlulabschluss (im Vergleich zum IQ-Wert von Kindern mit Mütter ohne Schlusabschluss). Dieser Unterschied entspricht der Steigung der Regressionsgeraden.\n\n`kid_score = 78 + 1*12 + error = 90 + error`\n\n- Die Größer der Konfidenzintervalle zeigt, wie genau die Schätzung (Vorhersage) ist bzw. wie stark Prädiktor (UV) und Kriterium (AV) zusammenhängen.\n\n\n\n### `m10.1` als Mittelwertsdifferenz \n\n\n- UV: binär (zweistufig nominal/kategorial)\n- AV: metrisch (quantitativ)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  group_by(mom_hs) %>% \n  summarise(kid_score_avg = \n              mean(kid_score))\n## # A tibble: 2 x 2\n##   mom_hs kid_score_avg\n##    <int>         <dbl>\n## 1      0          77.5\n## 2      1          89.3\n```\n:::\n\n\n\n\n- In der klassischen Statistik untersucht man diese Datensituation mit einem *t-Test*.\n- Der t-Test ist ein inferenzstatistisches Verfahren, dass prüft, ob die Mittelwertsdifferenz (in der Population) $\\mu_d$ Null ist: $\\mu_d = 0$.\n- In der Bayes-Statistik betrachtet man dazu die Posteriori-Verteilung (z.B. mit 95%PI).\n\n\nDer mittlere (average, avg) IQ-Wert unterscheidet sich um ca. 12 Punkte (89.4-77.6), zugunsten der Kinder von Müttern mit Abschluss. Allerdings gibt es viel Streuung um die Mittelwerte herum.\n\n\n### Antwort auf die Forschungsfrage, `m10.1`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.1_post <-\n  m10.1 %>% \n  as_tibble() \n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npi_mom_hs <-\n  m10.1_post %>% \n  summarise(pi_95 = quantile(mom_hs, c(.025, .975)))\n\npi_mom_hs\n## # A tibble: 2 x 1\n##   pi_95\n##   <dbl>\n## 1  7.27\n## 2 16.4\n```\n:::\n\n\n\n\n\n\nMit 95% Wahrscheinlichkeit liegt der Unterschied im mittleren IQ-Wert zwischen \nKindern von Müttern mit bzw. ohne Schulabschluss im Bereich von 7 bis 14 IQ-Punkten, \nlaut unserem Modell: $95\\%PI: [7,16]$.\n\nDie Hypothese, dass es keinen  Unterschied oder einen Unterschied in die andere Richtung geben sollte, \nist vor diesem Hintergrund als unwahrscheinlich abzulehnen.\n\nVisualisieren wir abschließend die Posteriori-Verteilung.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(hdi(m10.1))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-12-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n## Nullhypothesen sind praktisch immer falsch\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](img/5v5531.jpg){width=1.67in}\n:::\n:::\n\n\n\n[Quelle: Imgflip Meme Generator](https://imgflip.com/i/5v5531)\n\n\n\n\n\n\n\n>   We do not generally use null hypothesis significance testing in our own work. In the fields in which we work, we do not generally think null hyptheses can be true: in social science and public health, just about every treatment one might consider will have *some* effect, and no comparison or regression coefficient of interest will be exactly zero. We do not find it particularly helpful to formulate and test null hypothess that we knowe ahead of time cannot be true.\n\n\n@gelman_regression_2021\n\n\n\n\n\n\n### Alternativen zu Nullhypothesen\n\n\n- Nullhypothesen, $H_0$, sind z.B.: $\\rho=0$, $\\rho_1 = rho_2$, $\\mu_1 = \\mu_2$, $\\mu=0$, $\\beta_1=0$.\n\n- Nullhypothesen zu testen, ist sehr verbreitet.\n\n- Ein Grund ist, dass in der Frequentistischen Statistik keine andere Art von Hypothesentest möglich ist^[Mittlerweile gibt es Ansätze für einem Verfahren ähnlich dem ROPE-Ansatz, der weiter unten vorgestellt wird.]\n\n- Ein anderer Grund ist vermutlich, ... wir haben es schon immer so gemacht.\n\n- Alternativen zum Testen von Nullhypothesen:\n    - Posteriori-Intervalle (PI oder HDI)  berichten\n    - Rope-Konzept, @kruschke_rejecting_2018\n    - Wahrscheinlichkeit von inhaltlich bedeutsamen Hypothesen quantifizieren.\n    - Wahrscheinlichkeit quantifizieren, dass der Effekt ein positives bzw. ein negatives Vorzeichen hat.\n\n\n\n\n\n\n## Eine metrische plus eine nominale UV \n\n\n\n\n### Forschungsfrage\n\n\n>    Wie stark ist der Zusammenhang von jeweils Schulabschluss der Mutter (`mom_hs`) und  IQ der Mutter (`mom_iq`)  auf den IQ des Kindes (`kid_score`) ?\n\n\nDeskriptive Statistiken zum Datensatz:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")  # Paket rstanarm, alternativ über CSV einlesen\ndescribe_distribution(kidiq)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|Variable  |   Mean |    SD |   IQR |           Range | Skewness | Kurtosis |   n | n_Missing |\n|:---------|:------:|:-----:|:-----:|:---------------:|:--------:|:--------:|:---:|:---------:|\n|kid_score |  86.80 | 20.41 | 28.00 | (20.00, 144.00) |    -0.46 |    -0.16 | 434 |         0 |\n|mom_hs    |   0.79 |  0.41 |  0.00 |    (0.00, 1.00) |    -1.40 |    -0.05 | 434 |         0 |\n|mom_iq    | 100.00 | 15.00 | 21.67 | (71.04, 138.89) |     0.47 |    -0.57 | 434 |         0 |\n|mom_age   |  22.79 |  2.70 |  4.00 |  (17.00, 29.00) |     0.18 |    -0.63 | 434 |         0 |\n:::\n:::\n\n\n\n\n\n[Datenquelle](https://raw.githubusercontent.com/sebastiansauer/2021-wise/main/Data/kidiq.csv)\n\n\n\n\n### 1 metrischer Prädiktor\n\n\nBerechnen wir folgendens Modell: `kid_score ~ mom_iq`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.2 <-\n  stan_glm(kid_score ~ mom_iq, data = kidiq)\n\nm10.2 %>% \n  parameters()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   | Median |         95% CI |   pd |  Rhat |     ESS |                   Prior |\n|:-----------|:------:|:--------------:|:----:|:-----:|:-------:|:-----------------------:|\n|(Intercept) |  25.80 | (14.31, 37.70) | 100% | 1.002 | 4115.00 | Normal (86.80 +- 51.03) |\n|mom_iq      |   0.61 |   (0.50, 0.72) | 100% | 1.001 | 4096.00 |   Normal (0.00 +- 3.40) |\n:::\n:::\n\n\n\n\n`kid_score = 26 + 0.6 * mom_iq + error`\n\n\nVisualisieren wir uns noch das Modell:\n\n\n\n\n::: {.cell fig.asp='1'}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_iq, y = kid_score)) +\n  geom_point(alpha = .7) +\n  geom_abline(slope = coef(m10.2)[2],\n              intercept = coef(m10.2)[1],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/Thema6-Teil2-4-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nDie Linie zeigt die vorhergesagten IQ-Werte der Kinder für verschiedene IQ-Werte der Mütter.\nVergleicht man Teilpopulationen von Müttern mit mittleren Unterschied von einem IQ-Punkt, so findet man 0.6 IQ-Punkte Unterschied bei ihren Kindern *im Durchschnitt*.\nDer Achsenabschnitt hilft uns nicht weiter, da es keine Menschen mit einem IQ von 0 gibt.\n\n\n\n\n### Beide Prädiktoren, `m10.3`\n\n\nBerechnen wir als nächstes ein Modell mit beiden Prädiktoren: `kid_score ~ mom_hs + mom_iq`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.3 <- \n  stan_glm(\n    kid_score ~ mom_hs + mom_iq, \n    refresh = 0,\n    data = kidiq)\n```\n:::\n\n\n\n\n\n\n\nWill man nur schnell die Punktschätzer (Median) zu den Modellparametern (auch als Koeffizienten bezeichnet), so kann man anstelle von `parameters()` auch schreiben:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.3)\n## (Intercept)      mom_hs      mom_iq \n##  25.8615359   6.0145134   0.5622291\n```\n:::\n\n\n\n\n`m10.3: kid_score = 26 + mom_hs + 0.6*mom_iq + error`\n\nMöchte man nur z.B. den 3. Wert aus diesem Vektor, so kann man schreiben:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.3)[3]\n##    mom_iq \n## 0.5622291\n```\n:::\n\n\n\n\nUnd die Visualisierung des Modells:\n\n\n\n::: {.cell fig.asp='0.62'}\n\n```{.r .cell-code}\nkidiq %>% \n  mutate(mom_hs = factor(mom_hs)) %>%  \n  ggplot(aes(x = mom_iq, y = kid_score, color = mom_hs)) +\n  geom_point(alpha = .7) +\n  geom_abline(slope = coef(m10.3)[3],  # den 3. Wert aus dem Vector, den `coef()` zurückgibt\n              intercept = 26,\n              linewidth = 1,\n              color = \"blue\") +\n  geom_abline(slope = coef(m10.3)[3],\n              intercept = 32,\n              color = \"red\",\n              linewidth = 2) +\n  scale_color_manual(values = c(\"blue\", \"red\")) +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/Thema6-Teil2-5-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n- *Achsenabschnitt*: Hat das Kind eine Mutter mit einem IQ von 0 und ohne Schulabschluss, dann schätzt das Modell den IQ-Wert des Kindes auf 26.\n- *Koeffizient zum mütterlichen Schulabschluss*: Vergleicht man Kinder von Müttern gleicher Intelligenz, aber mit Unterschied im Schulabschluss, so sagt das Modell einen Unterschied von 6 Punkten im IQ voraus.\n- *Koeffizient zur mütterlichen IQ*: Vergleicht man Kinder von Müttern mit gleichem Wert im Schulabschluss, aber mit 1 IQ-Punkt Unterschied, so sagt das Modell einen Unterschied von 0.6 IQ-Punkten bei den Kindern voraus.\n\n\n\n\n\n## Interaktion\n\nIn `m10.3` hat das Modell die Regressionsgeraden gezwungen, parallel zu sein. \nBetrachtet man das Streudiagramm, so sieht man, das nicht-parallele Geraden besser passen.\nSind die Regressionsgeraden nicht parallel, so spricht man von einer Interaktion (synonym: Interaktionseffekt, Moderation).\n\n:::callout-important\nLiegt eine Interaktion vor, so unterscheidet sich die Steigung der Geraden in den Gruppen.\n:::\n\nWir berechnen mit m10.4 folgendes Modell: `kid_score ~ mom_hs + mom_iq + mom_hs:mom_iq`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.4 <- \n  stan_glm(kid_score ~ mom_hs + mom_iq + mom_hs:mom_iq, \n                  data = kidiq, refresh = 0)\n\ncoef(m10.4)\n##   (Intercept)        mom_hs        mom_iq mom_hs:mom_iq \n##    -10.472612     50.083445      0.957049     -0.469968\n```\n:::\n\n::: {.cell fig.asp='0.3'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/Thema6-Teil2-6-1.pdf)\n:::\n:::\n\n\n\n\n\n\n### Interpretation von `m10.4`\n\n- *Achsenabschnitt:* IQ-Schätzwerte für Kinder mit Mütter ohne Abschluss und mit einem IQ von 0. Kaum zu interpretieren.\n- `mom_hs`: Unterschied der IQ-Schätzwerte zwischen Kindern mit Mutter ohne bzw. mit Schulabschluss und jeweils mit einem IQ von 0. Puh.\n- `mom_iq`: Unterschied der IQ-Schätzwerte zwischen Kindern mit Müttern, die sich um einen IQ-Punkt unterscheiden aber jeweils ohne Schulabschluss.\n- *Interaktion*: Der Unterschied in den Steigungen der Regressiongeraden, also der Unterschied des Koeffizienten für `mom_iq` zwischen Mütter mit bzw. ohne Schulabschluss.\n\n```\nmom_hs=0:\nkid_score = -11 + 51*0 + 1.1* mom_iq + 0.5*0*mom_iq\n\n          = -11 + 1.1*mom_iq\n\n\nmom_hs=1: \nkid_score = -11 + 51*1 + 1.1* mom_iq + 0.5*1*mom_iq\n\n          = 40 + 0.6*mom_iq\n```\n\n@gelman_regression_2021, Kap. 10.3\n\n\n\n\n\n### Nach der Interpretation von 20 unzentrierten Koeffizienten\n\n\n<iframe src=\"https://giphy.com/embed/Zaej3GIZTzCI8\" width=\"480\" height=\"306\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe><p><a href=\"https://giphy.com/gifs/muppets-rachel-maddow-kermit-Zaej3GIZTzCI8\">via GIPHY</a></p>\n\n\n\n\n\n\n## Zentrieren von Prädiktoren\n\n- Unter *Zentrieren* (to center) versteht man das Bilden der Differenz eines Messwerts zu seinem Mittelwert.\n- Zentrierte Werte geben also an, wie weit ein Messwert vom mittleren (typischen) Messwert entfernt ist.\n- Mit zentrierten Werten ist eine Regression einfacher zu interpretieren.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <-\n  kidiq %>% \n  mutate(mom_iq_c = mom_iq - mean(mom_iq),\n         mom_hs_c = mom_hs - mean(mom_hs))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.5 <- stan_glm(kid_score ~ mom_hs + mom_iq_c + mom_hs:mom_iq_c, \n                  data = kidiq, \n                  refresh = 0)\ncoef(m10.5)\n##     (Intercept)          mom_hs        mom_iq_c mom_hs:mom_iq_c \n##      85.4705704       2.8035933       0.9700819      -0.4860457\n```\n:::\n\n\n\n\n\n\n### Interpretation von `m10.5`\n\n- Der *Achsenabschnitt* (`Intercept`) gibt den geschätzten IQ des Kindes an, wenn man eine Mutter *mittlerer* Intelligenz und *ohne* Schulabschluss betrachtet.\n- `mom_hs` gibt den Unterschied im geschätzten IQ des Kindes an, wenn man Mütter mittlerer Intelligenz aber mit bzw. ohne Schlusabschluss vergleicht.\n- `mom_iq_c` gibt den Unterschied im geschätzten IQ des Kindes an, wenn man Mütter ohne Schlusabschluss aber mit einem IQ-Punkt Unterschied vergleicht.\n- `mom_hs:mom_iq_c` gibt den Unterschied in den Koeffizienten für `mom_iq_c` an zwischen den beiden Grupen von `mom_hs`.\n\n\n\n\n\n::: {.cell fig.asp='0.4'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/plot-m10-5-1.pdf)\n:::\n:::\n\n\n\n\n\n\n### Zentrieren ändert nichts an den Vorhersagen\n\n`m10.4`: \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew <- tibble(mom_hs = 0, mom_iq = mean(kidiq$mom_iq))\npred_new <- posterior_predict(m10.4, newdata = new)\nmean(pred_new)\n## [1] 84.90034\n```\n:::\n\n\n\n`m10.5`: \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew <- tibble(mom_hs = 0, mom_iq_c = 0)\npred_new <- posterior_predict(m10.5, newdata = new)\nmean(pred_new)\n## [1] 85.34216\n```\n:::\n\n\n\nAuch die Streuungen der vorhergesagten Werte unterscheiden sich nicht (wirklich): $\\sigma_{m10.4}= 18$; $\\sigma_{m10.5}= 18$.\n\n\nDas Zentrieren ändert auch nicht die Regressionskoeffizienten, da die Streuungen der Prädiktoren nicht verändert wurden.\n\n\n\n\n\n### Perzentilintervalle aus der Posterori-Verteilung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neti(m10.5)\n## Equal-Tailed Interval\n## \n## Parameter       |        95% ETI | Effects |   Component\n## --------------------------------------------------------\n## (Intercept)     | [81.21, 89.97] |   fixed | conditional\n## mom_hs          | [-2.02,  7.57] |   fixed | conditional\n## mom_iq_c        | [ 0.68,  1.26] |   fixed | conditional\n## mom_hs:mom_iq_c | [-0.79, -0.17] |   fixed | conditional\n```\n:::\n\n\n\n\n\nHighest Density (Posterior) Intervalle (HDI oder HDPI) kann man sich  komfortabel ausgeben lassen mit `hdi(m10.5)`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhdi(m10.5)\n## Highest Density Interval\n## \n## Parameter       |        95% HDI\n## --------------------------------\n## (Intercept)     | [81.10, 89.83]\n## mom_hs          | [-1.98,  7.58]\n## mom_iq_c        | [ 0.69,  1.26]\n## mom_hs:mom_iq_c | [-0.79, -0.17]\n```\n:::\n\n\n\nIm Falle symmetrischer Posteriori-Verteilungen (wie hier) kommen beide Arten von Intervallen zu gleichen Ergebnissen.\n\n\n\n### Beantworten der Forschungsfrage\n\n>   Das Model zeigt keine Belege, dass sich die mittlere Intelligenz von Kindern bei Müttern mit bzw. ohne Schlusabluss unterscheidet (95%PI: [-2.0, 7.8]). Hingegen fand sich ein Effekt der mütterlichen Intelligenz; pro Punkt Unterschied in müttlerlichem IQ fand sich ein Unterschied von 0.7 bis 1.3 IQ-Punkte (95%PI). Außerdem fand sich ein Beleg, dass der Zusammenhang des IQ zwischen Mutter und Kind durch den Schulabschluss moderiert wird: Bei Mütter mit Schulabschluss war der Zusammenhang zwischen Mutter-IQ und Kind-IQ geringer (95%PI: [-0.80, -0.17]).\n\n</br>\n</br>\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\nDas Modell macht *keine* kausalen Aussagen. Es werden lediglich Unterschiede bzw. Zusammenhänge beschrieben.\n\n\n\n\n### Relevanz von Prädiktoren\n\n\n\n\n\n![Made at imgflip.com](img/5sps62.jpg){width=50%}\n\n\nBetrachten wir `m10.3` noch einmal.\n\nWelcher Prädiktor, `mom_hs` oder `mom_hs` ist wichtiger, im Sinne von stärker mit AV `kid_score` verbunden?\n\n\n\n\n::: {.cell}\n\n```\n## Highest Density Interval\n## \n## Parameter   |        95% HDI\n## ----------------------------\n## (Intercept) | [14.22, 37.44]\n## mom_hs      | [ 1.71, 10.22]\n## mom_iq      | [ 0.45,  0.68]\n```\n:::\n\n\n\n\n\n\n\nDas Problem ist, dass die Prädiktoren auf verschiedenen Skalen gemessen wurden, so dass sie nicht direkt vergleichbar sind.\nMan könnte \n\n- die Skalierungen der Prädiktoren angleichen\n- Vorhersagegüte verschiedener Modelle vergleichen (Modell mit einem vs. Modell mit beiden Prädiktoren)\n- ...\n- Dazu später mehr 🤓\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Eine nominale UV mit mehreren Stufen\n\n\n\n\n### Forschungsfrage\n\n*Hintergrund*:\n\n\nNach Ihrem Studium wurden Sie reich als Unternehmensberater:in;\nIhre Kompetenz als Wirtschaftspsychologi war heiß begehrt.\nVon Statistik wollte niemand etwas wissen...\nDoch nach einiger Zeit kamen Sie in eine Sinnkrise.\nSie warfen Ihre Job hin und beschlossen, in die Wissenschaft zu gehen.\nKurz entschlossen bewarben Sie sich auf das erste Stellenangebot\nals Nachwuchswissenschaftler:in.\n\nIhr Forschungsprojekt führte Sie in die Antarktis...\nNun, das war zumindest ein Gegenentwurf zu Ihrem bisherigen Jet-Set-Leben.\n\n\nIhre Aufgabe bestand nun darin, Pinguine zu untersuchen.\nGenauer gesagt ging es um Größenunterschiede zwischen drei Pinguinarten.\nJa, stimmt, an so ein Forschungsprojekt hatten Sie vorher nie auch nur nur im Traum gedacht.\n\n\n<!-- Nach Ihrem Studium haben Sie bei einem aufstrebenden Online-Händler angeheuert -->\n<!-- Sie sind für alles zuständig,  -->\n<!-- was nach Wissenschaft oder Analyse aussieht oder sonst den Anschein erweckt, -->\n<!-- kompliziert zu sein.  -->\n<!-- Aus irgendwelchen Gründen liebt Ihre Chefin Diamanten, -->\n<!-- so dass Ihre erste Aufgabe darin besteht, Diamantenpreise zu analysieren.  -->\n<!-- Das Ziel Ihrer Chefin liegt darin,  -->\n<!-- zu erkennen, was ein Preis ist,  -->\n<!-- für den ein Diamant gut verkauft werden kann. Kennt man diesen Preis,  -->\n<!-- kann man sich auf die Suche machen,  -->\n<!-- ob man den Diamant irgendwo günstiger findet.  -->\n<!-- Wenn ja, macht man Gewinn.  -->\n<!-- Gutes Geschäftsmodell, meint Ihre Chefin. -->\n\n</br>\n\n\n> Unterscheiden sich die mittleren Körpergewichte der drei Pinguinarten?\n\n\n\n\n\n\n### Alle Mittelwerte sind gleich (?)\n\n- Formal: $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ mit $k$ verschiedenen Gruppen von Schliffart.\n\n- Hypothesen, die keinen (Null) Unterschied zwischen Gruppen oder keinen Zusammenhang zwischen Variablen postulieren, kann man als *Nullhypothesen* bezeichnen.\n\n- Moment. Dass sich *alle* Mittelwerte um 0,00000000 unterscheiden, ist wohl nicht zu vermuten. Wer glaubt sowas? 🤔 Daher ist die bessere Forschungsfrage:\n\n> *Wie sehr* unterscheiden sich mittlere Körpergewichte in Abhängigkeit von der Pinguinart?\n\nOder wir prüfen die Hypothese, ob die Mittelwerte \"praktisch\" gleich sind, also sich \"kaum\" unterscheiden. Der Grenzwert für \"praktisch gleich\" bzw. \"kaum unterschiedlich\" ist subjektiv.\n\n\n\n### Erster Blick in den Datensatz `penguins`\n\n[Datenquelle](https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv), [Beschreibung des Datensatzes](https://vincentarelbundock.github.io/Rdatasets/doc/palmerpenguins/penguins.html)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_url <- \"https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)  # Zufallszahlen für `sample()` festlegen\npenguins <- \n  read_csv(penguins_url)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  select(body_mass_g, species) %>% \n  group_by(species) %>% \n  describe_distribution(range = FALSE, iqr = FALSE)\n## # species=Adelie\n## \n## Variable    |    Mean |     SD | Skewness | Kurtosis |   n | n_Missing\n## ----------------------------------------------------------------------\n## body_mass_g | 3700.66 | 458.57 |     0.29 |    -0.57 | 151 |         1\n## \n## # species=Chinstrap\n## \n## Variable    |    Mean |     SD | Skewness | Kurtosis |  n | n_Missing\n## ---------------------------------------------------------------------\n## body_mass_g | 3733.09 | 384.34 |     0.25 |     0.59 | 68 |         0\n## \n## # species=Gentoo\n## \n## Variable    |    Mean |     SD | Skewness | Kurtosis |   n | n_Missing\n## ----------------------------------------------------------------------\n## body_mass_g | 5076.02 | 504.12 |     0.07 |    -0.72 | 123 |         1\n```\n:::\n\n\n\n\n\n\n\n\n### Ein Überblick über die metrischen Variablen\n\n\n\n... aufgeteilt in die Stufen von `species`:\n\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: species=Adelie\n\n|Variable    |    Mean |     SD | Skewness | Kurtosis |   n | n_Missing |\n|:-----------|:-------:|:------:|:--------:|:--------:|:---:|:---------:|\n|body_mass_g | 3700.66 | 458.57 |     0.29 |    -0.57 | 151 |         1 |\n\nTable: species=Chinstrap\n\n|Variable    |    Mean |     SD | Skewness | Kurtosis |  n | n_Missing |\n|:-----------|:-------:|:------:|:--------:|:--------:|:--:|:---------:|\n|body_mass_g | 3733.09 | 384.34 |     0.25 |     0.59 | 68 |         0 |\n\nTable: species=Gentoo\n\n|Variable    |    Mean |     SD | Skewness | Kurtosis |   n | n_Missing |\n|:-----------|:-------:|:------:|:--------:|:--------:|:---:|:---------:|\n|body_mass_g | 5076.02 | 504.12 |     0.07 |    -0.72 | 123 |         1 |\n:::\n:::\n\n\n\n\nWas fällt Ihnen auf?\n\n\n\n### Visualisierung (EDA)\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-24-1.pdf)\n:::\n:::\n\n::: {.cell fig.asp='0.3'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-25-1.pdf)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(x = species, y = body_mass_g, fill = species)) +\n  geom_violindot(fill_dots = \"black\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-26-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n\n### Mittlere Preisunterschiede in der Population\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(mc.cores = parallel::detectCores())  # Turbo einschalten\n\nm10.6 <- stan_glm(body_mass_g ~ species, data = penguins, refresh = 0)\n# refresh=0 unterdrückt Ausgabe der Posteriori-Stichproben\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6 %>% \n  parameters()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter        |  Median |             95% CI |     pd |  Rhat |     ESS |                       Prior |\n|:----------------|:-------:|:------------------:|:------:|:-----:|:-------:|:---------------------------:|\n|(Intercept)      | 3702.38 | (3626.92, 3778.38) |   100% | 1.001 | 3362.00 | Normal (4201.75 +- 2004.89) |\n|speciesChinstrap |   32.66 |  (-102.47, 163.66) | 67.92% | 1.001 | 3994.00 |    Normal (0.00 +- 5015.92) |\n|speciesGentoo    | 1373.99 | (1260.23, 1482.76) |   100% | 1.001 | 3757.00 |    Normal (0.00 +- 4171.63) |\n:::\n:::\n\n\n\n\n\n\n### Interpretation von `m10.6`\n\n- Die UV hat drei verschiedene Stufen (Werte, Ausprägungen), aber es werden nur zwei angezeigt (also eine weniger)\n- Die fehlende Stufe (`Adelie`, nicht ausgegeben) ist die *Vergleichs- oder Referenzkategorie* (baseline) und ist im Achsenabschnitt ausgedrückt (Intercept).\n- Die Koeffizienten für `species` geben jeweils den Unterschied zur Vergleichskategorie wieder.\n- Diamanten der Schliffart `Adelie` haben laut Modell ein mittleres Gewicht von ca. 3700$.\n- Pinguine der Spezies Gentoo sind laut Modell im Mittel gut 1000g schwerer als Pinguine der Spezies `Adelie`, etc.\n\n\nDer Unterschied im mittleren Gewicht von den Gruppen Chinstrap und Gentoo zur Referenzgruppe (Adelie) ist in @fig-m106-params verdeutlicht.\n\n\n\n::: {.cell fig.asp='0.33'}\n\n```{.r .cell-code}\nplot(hdi(m10.6))\n```\n\n::: {.cell-output-display}\n![Effekt der UV: Unterschiede zur Referenzgruppe](metrische-AV_files/figure-pdf/fig-m106-params-1.pdf){#fig-m106-params fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n### Schätzbereiche für die Modellparameter\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6 %>% \n  hdi()\n## Highest Density Interval\n## \n## Parameter        |            95% HDI\n## -------------------------------------\n## (Intercept)      | [3630.86, 3781.64]\n## speciesChinstrap | [ -97.65,  168.25]\n## speciesGentoo    | [1261.12, 1483.27]\n```\n:::\n\n\n\n\n\n\n\n### Glauben wir jetzt an Gruppeneffekte?\n\nGlauben wir jetzt, auf Basis der Modellparameter,\nan Unterschiede (hinsichtlich der AV) zwischen den Gruppen (UV)?\n\nEs scheinen sich nicht alle Gruppen voneinander zu unterscheidne. So ist der Mittelwert der Gruppe `Gentoo` deutlich höher als der der beiden anderen Gruppen. Umgekehrt sind sich `Adelie` und `Chinstrap` in ihren Mittelwerten ziemlich ähnlich.\n\nWie in @fig-m106-params ersichtlich,\nüberlappt sich der Schätzbereich für den Parameter von Gentoo *nicht* mit der Null;\nhingegen überlappt sich der Schätzbereich des Parameters für Chinstrap deutlich mit der Nullinie.\n\n\n\nAuf Basis unseres Modells schließen wir also (mit hoher Sicherheit) aus, dass *alle* Mittelwerte   *exakt* identisch sind.\n\nEhrlicherweise hätte sowieso niemand geglaubt, dass die *exakte Nullhypothese* $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ bis in die letzte Dezimale gilt. Anders gesagt: Die Wahrscheinlichkeit eines bestimmten Wertes einer stetigen Zufallsvariable ist praktisch Null.\n\nAber: Viele Forscheris prüfen gerne die Nullhypothese, daher taucht der Begriff hier auf.\n\nDas Verfahren der Frequentistischen Statistik, um die Nullhypothese $\\mu_1 = \\mu_2 = \\ldots = \\mu_k$ zu testen, nennt man *Varianzanalyse* (analysis of variance, kurz *ANOVA*).\n\nIn der Bayes-Statistik nutzt man - wie immer - primär die Post-Verteilung, um Fragen der Inferenz (z.B. Gruppenunterschiede dieser Art) zu inferenzstatistisch zu beurteilen.\n\n\n\n\n\n<!-- ### Modellkoeffizienten von `m10.6` -->\n\n<!-- Die Regressionsoeffizienten pro Stufe der UV entsprechen den Mittelwerten $\\hat{y_i}$ aus der Posteriori-Verteilung. Mit `coef(m10.6)` kann man sie sich bequem ausgeben lassen. -->\n\n<!-- ```{r echo = TRUE} -->\n<!-- coef(m10.6) -->\n<!-- ``` -->\n\n\n<!-- - $\\hat{y}_{Fair} = 3702$ -->\n<!-- - $\\hat{y}_{Good} = 33$ -->\n<!-- - etc. -->\n\n\n\n\n\n\n\n\n\n## Priori-Werte\n\nUnser Modell `m10.6` hat schwach informierte (weakly informative) Priors.\nFür Achsenabschnitt und die Regressionskoeffizienten werden Normalverteilungen angenommen mit Mittelwert entsprechend den Stichprobendaten und Streuung, die der 2.5-fachen der Streuung in der Stichprobe entspricht.\nMehr Infos kann man sich so ausgeben lassen: `prior_summary(m10.6)`.\nWo man man über mehr inhaltliches Wissen verfügt, so wird man die Priors anpassen wollen, z.B.:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6b <- stan_glm(price ~ cut, data = diamonds, refresh = 0,\n                   prior = normal(location = c(100, 100, 100, 100),\n                                  scale = c(100, 100, 100, 100)),\n                   prior_intercept = normal(3000, 500))\ncoef(m10.6b)\n## (Intercept)       cut.L       cut.Q       cut.C       cut^4 \n##   4025.6909   -244.7507   -283.1645   -575.5653   -264.8581\n```\n:::\n\n\n\n\nDie Streuung des Modells, $\\sigma$, kann man sich mit `sigma(modell)` ausgeben lassen:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsigma(m10.6b)\n## [1] 3964.851\n```\n:::\n\n\n\n\nImplizit bekommt man diese Informationen mitgeteilt durch die Größe der Konfidenzintervalle.\n\n\n\n### Wechsel der Referenzkategorie\n\n- `species` ist eine nominale Variable, da passt in R der Typ `factor` (Faktor) am besten. Aktuell ist der Typ noch `character` (Text):\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- penguins %>% \n  mutate(species = factor(species))\n```\n:::\n\n\n\n\nIm Standard sortiert R die Faktorstufen alphabetisch, aber man kann die Reihenfolge ändern. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(penguins$species)\n## [1] \"Adelie\"    \"Chinstrap\" \"Gentoo\"\n```\n:::\n\n\n\nSetzen wir `Gentoo` als Referenzkategorie und lassen die restliche Reihenfolge, wie sie ist:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(forcats)\npenguins <- penguins %>% \n  mutate(species = factor(species),\n    species = fct_relevel(species, \"Gentoo\"))\n```\n:::\n\n\n\nBeachten Sie, dass dazu das Paket `forcats` verfügbar sein muss.\n\nJetzt haben wir die Referenzkategorie geändert:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(penguins$species)\n## [1] \"Gentoo\"    \"Adelie\"    \"Chinstrap\"\n```\n:::\n\n\n\n\n\n\n\n\n\n\n\nDer Wechsel der Referenzkategorie ändert nichts Wesentliches am Modell:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6a <- stan_glm(body_mass_g ~ species, data = penguins, refresh = 0)\nhdi(m10.6a)\n## Highest Density Interval\n## \n## Parameter        |              95% HDI\n## ---------------------------------------\n## (Intercept)      | [ 4990.22,  5150.33]\n## speciesAdelie    | [-1486.36, -1269.02]\n## speciesChinstrap | [-1472.29, -1198.04]\n```\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Modellgüte mit R-Quadrat bestimmen\n\n### Modellgüte mit $R^2$ bestimmen\n\n\n\n$R^2$ gibt den Anteil der Gesamtvarianz (der AV) an, den das Modell erklärt.\n- Höhere Wert von $R^2$ bedeuten, dass das Modell die Daten besser erklärt.\n$R^2$ wird normalerweise auf Basis eines Punktschätzers definiert.\nSolch eine Definition lässt aber viel Information - über die Ungewissheit der Schätzung - außen vor.\nDaher ist es wünschenswert, diese Information in $R^2$ einfließen zu lassen: *Bayes-R-Quadrat*.\n\n\n\n\n\n<!-- R^2_{Bayes} = \\frac{\\text{erklärte Varianz}}{\\text{erkärte Varianz + Residualvarianz}} = \\frac{var_{fit}}{var_{fit}+var_{res}} -->\n\n<!-- - $var_{fit}$ ist die Varianz der vorhergesagten Schätzwerte $\\hat{y}_i$. -->\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2(m10.6)\n## # Bayesian R2 with Compatibility Interval\n## \n##   Conditional R2: 0.668 (95% CI [0.620, 0.716])\n```\n:::\n\n\n\n\nMöchte man es ausführlicher, und im Komfort einer Bayes-Analyse schwelgen,\nso kann man sich die Posteriori-Verteilung von $R2$ ausgeben lassen:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.6_r2 <-\nm10.6 %>% \n  r2_posterior() %>% \n  as_tibble()\n\nhdi(m10.6_r2) %>% \n  plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-39-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n## Definition vom \"klassischen\" $R^2$\n\n\n\n\nWie genau sind die Vorhersagen des Modells? $\\sigma$ (Vorhersagefehler) quantifiziert die Streuung der Residuen $r_i = y_i - X_i\\hat{\\beta}$, mit $\\hat{y}_i = X_i\\hat{\\beta}$. \nAnders gesagt: $\\hat{y} = \\beta_0 + \\beta_1x_1 + \\beta_2x_2 + \\cdots = X\\hat{\\beta}$.\nAnders gesagt gibt $\\sigma$ die \"typische\" Abweichung einer Beobachtung vom vorhergesagten Wert an.\nEs ist nützlich, $\\sigma$ in Bezug zu setzen zur Streuung der AV, $sd_y=s_y$:\n$R^2 = 1- (\\hat{\\sigma}^2/s^2_y)$.\n$R2$ gibt damit den Anteil der vom Modell erklärten Varianz, $V$, an.\nBerechnet man das Modell mit der Methode der kleinsten Quadrate (nicht mit Bayes), dann ist der obige Ausdruck äquivalent zu:\n$R^2=V_{i=1}^n \\hat{y}_i/s_y^2$\nDie beiden obigen Ausdrücke nehmen $\\hat{y}_i$ als fix (sicher) an und vernachlässigen Ungewissheit; sie sind übergewiss aus Bayes-Sicht.\n\n\n\n\n## Bayes' $R^2$\n\nBesser ist es (aus Bayes-Sicht), die Ungewissheit der Vorhersagen bei der Berechnung der Modellgüte miteinzubeziehen:\n$\\text{Bayes }R^2 = \\frac{\\text{erkärte Varianz}}{\\text{Erklärte Varianz + Residualvarianz}}= \\frac{V_{mod}}{V_{mod} + V_{res}}$\n$V_{mod}$ ist die Varianz in der PPV mit $s = 1, \\ldots, S$ simulierten Stichproben, $V(\\hat{y}_i)$ und $V_{res}$ ist die Residualvarianz im Modell.\nFür jede Stichprobe $s$ berechnet man die vorhergesagten Werte, $\\hat{y}_i^s$, die Residualvarianz $\\sigma^2_s$ und den Anteil der erklärten Varianz:\n$\\text{Bayes }R^2_s = \\frac{V(\\hat{y}_i^s)}{V(\\hat{y}_i^s+\\sigma_s^2)}$\n\n\n@gelman_r_squared_2019, @gelman_regression_2021, Kap. 11.7\n\n\n\n\n\n\n\n\n\n## \"Praktisch\" kein Unterschied\n\n\n\nSagen wir, wenn sich zwei Preismittelwerte um höchstens $d=100$€ unterscheiden, gilt dieser Unterschied für uns als \"praktisch gleich\", \"praktisch kein Unterschied\" bzw. vernachlässigbar.\nNimmt man (praktisch) keinen Unterschied/Zusammenhang/Effekt an, spricht man von einer *Nullhypothese*: $H_0$.\nDie Wahl von $d$ ist *subjektiv* in dem Sinne als sie von inhaltlichen Überlegungen geleitet sein sollte.\nDiesen Bereich bezeichnen wir den *Indifferenzbereich* (Äquivalenzzone, Bereich eines vernachlässigbaren Unterschieds oder *Region of practical equivalence*, Rope). \nJetzt prüfen wir, ob ein \"Großteil\" der Posteriori-Stichproben im Rope liegt.\nUnter \"Großteil\" wird häufig das *95%-HDI* verstanden.\n\n*Entscheidungsregel*:\n\nGroßteil liegt *innerhalb* von Rope  ➡️ *Annahme* der Nullhypothese \"praktisch kein Effekt\", $H_0$\nGroßteil liegt *außerhalb* von Rope  ➡️ *Ablehnung* der Nullhypothese \"praktisch kein Effekt\", $H_0$\nAnsonsten  ➡️  keine Entscheidung \n\n@kruschke_rejecting_2018\n\n\n\n\n### HDI-Rope-Entscheidungsregel visualisiert\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](img/Kruschke-2018-Fig1.png){width=70%}\n:::\n:::\n\n\n\n@kruschke_rejecting_2018, Abbildung 1, S. 272\n\n\n\n### Rope berechnen\n\nDen Rope berechnet man mit `rope(model)`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrope(m10.6)\n## # Proportion of samples inside the ROPE [-80.20, 80.20]:\n## \n## Parameter        | inside ROPE\n## ------------------------------\n## (Intercept)      |      0.00 %\n## speciesChinstrap |     75.08 %\n## speciesGentoo    |      0.00 %\n```\n:::\n\n\n\nDie Faktorstufe `Chinstrap` von `species` hat doch einen beträchtlichen Teil ihrer Wahrscheinlichkeitsmasse der Posteriori-Verteilung im ROPE. \n\nWir können daher für diese Gruppe  das ROPE *nicht* verwerfen.\n\nAber: `Gentoo` liegt zu 0% im Rope. Für Gentoo können wir das Rope verwerfen.\n\nDas hört sich abstrakt an? Dann lassen Sie uns das lieber visualisieren.\n\n:::callout-note\nDie angegebenen Prozentwerte beziehen sich nicht auf die 100% der Post-Verteilung, sondern (in der Voreinstellung) auf das 95%-ETI, s. `help(rope)`.\n:::\n\n\n### Visualisierung unserer Rope-Werte, m10.6\n\n- Ein Großteil der Posteriori-Masse von `m10.6` liegt  *nicht* innerhalb des Rope. \n- Aber können wir umgekehrt sagen, dass ein Großteil außerhalb liegt? Das erkennt man optisch ganz gut.\n\n\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\nrope(m10.6) %>% plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-42-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\nDas ROPE druchkreuzt die \"Berge\" der Posteriori-Verteilung für Chinstrap deutlich.\nWir knönen das Rope für Chinstrap nicht verwerfen.\nGentoo hingegen wird vom vom Rope nicht durchkreuzt, es ist weit entfernt vom \"blauen Fluss\" des Rope.\n\n\n\n\n### Finetuning des Rope\n\nWir können festlegen, was wir unter \"praktischer Äquivalenz\" verstehen,\nalso die Grenzen des Ropes verändern.\nSagen wir, 100 Gramm sind unsere Grenze für einen vernachlässigbaren Effekt, s. @fig-rope-range.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrope(m10.6, range = c(-100, 100))\n```\n:::\n\n\n\n\n\n\n\n\nIm Standard werden 95%-HDI berichtet, das kann man so ändern, wenn man möchte:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrope(m10.6, range = c(-100,100), ci = .89, ci_method = \"ETI\")\n```\n:::\n\n\n\n`ETI` (equal tails interval) steht für ein PI.\nJetzt wird berichtet, welcher Teil eines 89%-CI sich im Rope befindet.\n\n\n\n\n\n\n### Beantwortung der Forschungsfrage\n\n\nFür die Spezeis *Gentoo* wurde ein substanzieller Gewichtsunterschied zur Referenzgruppe, Adelie, vom Modell entdeckt. Für *Chinstrap* hingegen  ist keine klare inferenzstatistische Aussage hinsichtlich eines Indifferenzbereichs möglich: Es ist plauibel, laut dem Modell, dass es einen praktisch bedeutsamen Unterschied gibt, aber es ist auch plausibel, dass es keinen praktisch bedeutsamen Unterschied gibt.\n\n\n\n\n\n\n\n\n\n\n\n\n## Mehrere metrische UV\n\n\n\n\n### Forschungsfrage\n\n>   Stehen sowohl der IQ der Mutter als auch, unabhängig davon, das Alter der Mutter im Zusammenhang mit dem IQ des Kindes?\n\n\n- Das ist wieder eine *deskriptive* Forschungsfrage. *Keine* Kausalwirkung (etwa \"IQ der Mutter ist die Ursache zum IQ des Kindes\") wird impliziert. \n- Es geht rein darum, Zusammenhänge in den Daten - bzw. in der Population - aufzuzeigen.\n- Viele Forschungsfagen gehen allerdings weiter und haben explizit Kausalwirkungen im Fokus. Für solche Fragen ist eine deskriptive Untersuchung nicht geeignet, sondern eine Kausalanalyse ist nötig.\n\n\n[Datenquelle](https://raw.githubusercontent.com/sebastiansauer/Lehre/data/main/Data/kidiq.csv) als CSV-Datei oder alternativ:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rstanarm)\ndata(\"kidiq\")\n```\n:::\n\n\n\n\n\n### Was heißt, X hängt mit Y zusammen?\n\n\n- Der Begriff \"Zusammenhang\" ist nicht exakt.\n- Häufig wird er (für metrische Variablen) verstanden als\n    - lineare Korrelation $\\rho$ bzw. $r$ \n    - lineare Regression $\\beta$, bzw. $b$ \n\n\n- Der Regressionskoeffizient \n    - misst die *Steigung* der Regressionsgerade\n    - zeigt, wie groß der vorhergesagte Unterschied in Y, wenn man zwei Personen (Beobachtungseinheiten) vergleicht, die sich um eine Einheit in X unterscheiden\n    - wird manchmal mit dem \"Effekt von X auf Y\" übersetzt. Vorsicht: \"Effekt\" klingt nach Kausalzusammenhang. Eine Regression ist keine hinreichende Begründung für einen Kausalzusammenhang. \n    \n- Der Korrelationskoeffizient\n    - misst eine Art der Stärke des linearen Zusammenhangs\n    - zeigt, wie klein die Vorhersagefehler der zugehörigen Regrssion im Schnitt sind.\n    - [Korrelation ist nicht (automatisch) Kausation.](https://xkcd.com/552/)\n    \n\n\n\n\n### Korrelationen zur Forschungsfrage\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Correlation Matrix (pearson-method)\n\n|Parameter1 | Parameter2 |    r |            95% CI | t(432) |         p |\n|:----------|:----------:|:----:|:-----------------:|:------:|:---------:|\n|kid_score  |     mom_hs | 0.24 |      (0.15, 0.32) |   5.07 | < .001*** |\n|kid_score  |     mom_iq | 0.45 |      (0.37, 0.52) |  10.42 | < .001*** |\n|kid_score  |    mom_age | 0.09 | (-2.15e-03, 0.18) |   1.92 | 0.111     |\n|mom_hs     |     mom_iq | 0.28 |      (0.19, 0.37) |   6.13 | < .001*** |\n|mom_hs     |    mom_age | 0.21 |      (0.12, 0.30) |   4.57 | < .001*** |\n|mom_iq     |    mom_age | 0.09 | (-2.54e-03, 0.18) |   1.91 | 0.111     |\np-value adjustment method: Holm (1979)\nObservations: 434\n:::\n:::\n\n\n\n\nOder als Korrelationsmatrix:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation() %>% \n  summary()\n## # Correlation Matrix (pearson-method)\n## \n## Parameter | mom_age |  mom_iq |  mom_hs\n## ---------------------------------------\n## kid_score |    0.09 | 0.45*** | 0.24***\n## mom_hs    | 0.21*** | 0.28*** |        \n## mom_iq    |    0.09 |         |        \n## \n## p-value adjustment method: Holm (1979)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  correlation() %>% \n  summary() %>% \n  plot()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-49-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n### Univariate Regressionen\n\nWir berechnen jeweils eine univariate Regression, pro Prädiktor,\nalso eine für `mom_iq` und eine für `mom_age`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.7 <- stan_glm(kid_score ~ mom_iq, data = kidiq, refresh = 0)\nm10.8 <- stan_glm(kid_score ~ mom_age, data = kidiq, refresh = 0)\n```\n:::\n\n\n\nHier die Ergebnisse für `mom_iq`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.7)\n## (Intercept)      mom_iq \n##  25.8153709   0.6098634\n```\n:::\n\n\n\nHier die Ergebnisse für `mom_age`:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.8)\n## (Intercept)     mom_age \n##  71.0768929   0.6920222\n```\n:::\n\n\n\n\n\n\n### Visualisierung der univariaten Regressionen\n\n\n\n`m10.7`\n\nSteigung: 0.6\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_iq, y = kid_score)) +\n  geom_point() +\n  geom_abline(intercept = coef(m10.7)[1],\n              slope = coef(m10.7)[2],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-53-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n`m10.8`\n\nSteigung: 0.7\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = mom_age, y = kid_score)) +\n  geom_point() +\n  geom_abline(intercept = coef(m10.8)[1],\n              slope = coef(m10.8)[2],\n              color = \"blue\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-54-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n### Multiples Modell (beide Prädiktoren), m10.9\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.9 <- stan_glm(kid_score ~ mom_iq + mom_age, \n                  data = kidiq, \n                  refresh = 0)\ncoef(m10.9)\n## (Intercept)      mom_iq     mom_age \n##  17.5091004   0.6036698   0.3965563\n```\n:::\n\n\n\n\n:::callout-important\nDie Regressionsgewichte unterscheiden sich zu den von den jeweiligen univariaten Regressionen.\n:::\n\n\n- Bei einer multiplen Regression ist ein Regressionsgewicht jeweils \"bereinigt\" vom Zusammenhang mit dem (oder den) anderen Regressionsgewicht.\n- Das bedeutet, man betrachtet den den Zusammenhang eines Prädiktors mit der AV, wobei man gleichzeitig den anderen Prädiktor konstant hält.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(m10.9)\n## (Intercept)      mom_iq     mom_age \n##  17.5091004   0.6036698   0.3965563\n```\n:::\n\n\n\n\n\n\n### 3D-Visualisierung eines Modells mit zwei Prädiktoren 1\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-58a46d1399716e822858\" style=\"width:800px;height:500px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-58a46d1399716e822858\">{\"x\":{\"visdat\":{\"4e2c40ae7b81\":[\"function () \",\"plotlyVisDat\"],\"4e2c7f2e7353\":[\"function () \",\"data\"]},\"cur_data\":\"4e2c7f2e7353\",\"attrs\":{\"4e2c40ae7b81\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\"},\"4e2c7f2e7353\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"#00998a\",\"opacity\":0.7,\"size\":1,\"symbol\":105},\"inherit\":true}},\"layout\":{\"width\":800,\"height\":500,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"aspectmode\":\"manual\",\"aspectratio\":{\"x\":1,\"y\":1,\"z\":1},\"xaxis\":{\"title\":\"mom_iq\"},\"yaxis\":{\"title\":\"mom_age\"},\"zaxis\":{\"title\":\"kid_score\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"z<br />kid_score\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666668\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":true,\"x\":[71.037405135663,73.8647260079754,76.6920468802879,79.5193677526004,82.3466886249128,85.1740094972253,88.0013303695378,90.8286512418502,93.6559721141627,96.4832929864751,99.3106138587876,102.1379347311,104.965255603413,107.792576475725,110.619897348037,113.44721822035,116.274539092662,119.101859964975,121.929180837287,124.7565017096,127.583822581912,130.411143454225,133.238464326537,136.06578519885,138.893106071162],\"y\":[17,17.5,18,18.5,19,19.5,20,20.5,21,21.5,22,22.5,23,23.5,24,24.5,25,25.5,26,26.5,27,27.5,28,28.5,29],\"z\":[[67.1336931654457,68.8404613969961,70.5472296285465,72.2539978600968,73.9607660916472,75.6675343231975,77.3743025547479,79.0810707862983,80.7878390178486,82.494607249399,84.2013754809494,85.9081437124997,87.6149119440501,89.3216801756004,91.0284484071508,92.7352166387012,94.4419848702515,96.1487531018019,97.8555213333523,99.5622895649026,101.269057796453,102.975826028003,104.682594259554,106.389362491104,108.096130722654],[67.3319712980519,69.0387395296023,70.7455077611526,72.452275992703,74.1590442242533,75.8658124558037,77.5725806873541,79.2793489189044,80.9861171504548,82.6928853820051,84.3996536135555,86.1064218451059,87.8131900766562,89.5199583082066,91.226726539757,92.9334947713073,94.6402630028577,96.347031234408,98.0537994659584,99.7605676975088,101.467335929059,103.174104160609,104.88087239216,106.58764062371,108.294408855261],[67.5302494306581,69.2370176622084,70.9437858937588,72.6505541253091,74.3573223568595,76.0640905884099,77.7708588199602,79.4776270515106,81.184395283061,82.8911635146113,84.5979317461617,86.304699977712,88.0114682092624,89.7182364408128,91.4250046723631,93.1317729039135,94.8385411354638,96.5453093670142,98.2520775985646,99.9588458301149,101.665614061665,103.372382293216,105.079150524766,106.785918756316,108.492686987867],[67.7285275632642,69.4352957948146,71.1420640263649,72.8488322579153,74.5556004894657,76.262368721016,77.9691369525664,79.6759051841167,81.3826734156671,83.0894416472175,84.7962098787678,86.5029781103182,88.2097463418685,89.9165145734189,91.6232828049693,93.3300510365196,95.03681926807,96.7435874996203,98.4503557311707,100.157123962721,101.863892194271,103.570660425822,105.277428657372,106.984196888923,108.690965120473],[67.9268056958704,69.6335739274207,71.3403421589711,73.0471103905214,74.7538786220718,76.4606468536222,78.1674150851725,79.8741833167229,81.5809515482732,83.2877197798236,84.994488011374,86.7012562429243,88.4080244744747,90.1147927060251,91.8215609375754,93.5283291691258,95.2350974006761,96.9418656322265,98.6486338637769,100.355402095327,102.062170326878,103.768938558428,105.475706789978,107.182475021529,108.889243253079],[68.1250838284765,69.8318520600269,71.5386202915772,73.2453885231276,74.952156754678,76.6589249862283,78.3656932177787,80.072461449329,81.7792296808794,83.4859979124298,85.1927661439801,86.8995343755305,88.6063026070808,90.3130708386312,92.0198390701816,93.7266073017319,95.4333755332823,97.1401437648326,98.846911996383,100.553680227933,102.260448459484,103.967216691034,105.673984922584,107.380753154135,109.087521385685],[68.3233619610827,70.030130192633,71.7368984241834,73.4436666557338,75.1504348872841,76.8572031188345,78.5639713503848,80.2707395819352,81.9775078134855,83.6842760450359,85.3910442765863,87.0978125081367,88.804580739687,90.5113489712374,92.2181172027877,93.9248854343381,95.6316536658885,97.3384218974388,99.0451901289892,100.75195836054,102.45872659209,104.16549482364,105.872263055191,107.579031286741,109.285799518291],[68.5216400936888,70.2284083252392,71.9351765567895,73.6419447883399,75.3487130198903,77.0554812514406,78.762249482991,80.4690177145414,82.1757859460917,83.8825541776421,85.5893224091924,87.2960906407428,89.0028588722931,90.7096271038435,92.4163953353939,94.1231635669442,95.8299317984946,97.536700030045,99.2434682615953,100.950236493146,102.657004724696,104.363772956246,106.070541187797,107.777309419347,109.484077650897],[68.719918226295,70.4266864578453,72.1334546893957,73.840222920946,75.5469911524964,77.2537593840468,78.9605276155971,80.6672958471475,82.3740640786979,84.0808323102482,85.7876005417986,87.494368773349,89.2011370048993,90.9079052364497,92.614673468,94.3214416995504,96.0282099311007,97.7349781626511,99.4417463942015,101.148514625752,102.855282857302,104.562051088853,106.268819320403,107.975587551953,109.682355783504],[68.9181963589011,70.6249645904515,72.3317328220018,74.0385010535522,75.7452692851026,77.4520375166529,79.1588057482033,80.8655739797536,82.572342211304,84.2791104428544,85.9858786744047,87.6926469059551,89.3994151375054,91.1061833690558,92.8129516006062,94.5197198321565,96.2264880637069,97.9332562952573,99.6400245268076,101.346792758358,103.053560989908,104.760329221459,106.467097453009,108.173865684559,109.88063391611],[69.1164744915073,70.8232427230576,72.530010954608,74.2367791861583,75.9435474177087,77.6503156492591,79.3570838808094,81.0638521123598,82.7706203439102,84.4773885754605,86.1841568070109,87.8909250385612,89.5976932701116,91.304461501662,93.0112297332123,94.7179979647627,96.424766196313,98.1315344278634,99.8383026594138,101.545070890964,103.251839122514,104.958607354065,106.665375585615,108.372143817166,110.078912048716],[69.3147526241134,71.0215208556638,72.7282890872141,74.4350573187645,76.1418255503149,77.8485937818652,79.5553620134156,81.262130244966,82.9688984765163,84.6756667080667,86.382434939617,88.0892031711674,89.7959714027178,91.5027396342681,93.2095078658185,94.9162760973689,96.6230443289192,98.3298125604696,100.03658079202,101.74334902357,103.450117255121,105.156885486671,106.863653718221,108.570421949772,110.277190181322],[69.5130307567196,71.2197989882699,72.9265672198203,74.6333354513707,76.340103682921,78.0468719144714,79.7536401460217,81.4604083775721,83.1671766091225,84.8739448406728,86.5807130722232,88.2874813037736,89.9942495353239,91.7010177668743,93.4077859984246,95.114554229975,96.8213224615254,98.5280906930757,100.234858924626,101.941627156176,103.648395387727,105.355163619277,107.061931850828,108.768700082378,110.475468313928],[69.7113088893257,71.4180771208761,73.1248453524264,74.8316135839768,76.5383818155272,78.2451500470775,79.9519182786279,81.6586865101783,83.3654547417286,85.072222973279,86.7789912048293,88.4857594363797,90.1925276679301,91.8992958994804,93.6060641310308,95.3128323625811,97.0196005941315,98.7263688256819,100.433137057232,102.139905288783,103.846673520333,105.553441751883,107.260209983434,108.966978214984,110.673746446534],[69.9095870219319,71.6163552534822,73.3231234850326,75.029891716583,76.7366599481333,78.4434281796837,80.150196411234,81.8569646427844,83.5637328743348,85.2705011058851,86.9772693374355,88.6840375689859,90.3908058005362,92.0975740320866,93.804342263637,95.5111104951873,97.2178787267377,98.924646958288,100.631415189838,102.338183421389,104.044951652939,105.751719884489,107.45848811604,109.16525634759,110.872024579141],[70.107865154538,71.8146333860884,73.5214016176387,75.2281698491891,76.9349380807395,78.6417063122898,80.3484745438402,82.0552427753906,83.7620110069409,85.4687792384913,87.1755474700416,88.882315701592,90.5890839331424,92.2958521646927,94.0026203962431,95.7093886277935,97.4161568593438,99.1229250908942,100.829693322445,102.536461553995,104.243229785545,105.949998017096,107.656766248646,109.363534480196,111.070302711747],[70.3061432871442,72.0129115186945,73.7196797502449,75.4264479817953,77.1332162133456,78.839984444896,80.5467526764463,82.2535209079967,83.9602891395471,85.6670573710974,87.3738256026478,89.0805938341982,90.7873620657485,92.4941302972989,94.2008985288493,95.9076667603996,97.61443499195,99.3212032235003,101.027971455051,102.734739686601,104.441507918151,106.148276149702,107.855044381252,109.561812612802,111.268580844353],[70.5044214197503,72.2111896513007,73.9179578828511,75.6247261144014,77.3314943459518,79.0382625775021,80.7450308090525,82.4517990406029,84.1585672721532,85.8653355037036,87.5721037352539,89.2788719668043,90.9856401983547,92.692408429905,94.3991766614554,96.1059448930058,97.8127131245561,99.5194813561065,101.226249587657,102.933017819207,104.639786050758,106.346554282308,108.053322513858,109.760090745409,111.466858976959],[70.7026995523565,72.4094677839068,74.1162360154572,75.8230042470076,77.5297724785579,79.2365407101083,80.9433089416586,82.650077173209,84.3568454047594,86.0636136363097,87.7703818678601,89.4771500994105,91.1839183309608,92.8906865625112,94.5974547940615,96.3042230256119,98.0109912571623,99.7177594887126,101.424527720263,103.131295951813,104.838064183364,106.544832414914,108.251600646464,109.958368878015,111.665137109565],[70.9009776849626,72.607745916513,74.3145141480634,76.0212823796137,77.7280506111641,79.4348188427144,81.1415870742648,82.8483553058152,84.5551235373655,86.2618917689159,87.9686600004663,89.6754282320166,91.382196463567,93.0889646951173,94.7957329266677,96.5025011582181,98.2092693897684,99.9160376213188,101.622805852869,103.32957408442,105.03634231597,106.74311054752,108.449878779071,110.156647010621,111.863415242171],[71.0992558175688,72.8060240491191,74.5127922806695,76.2195605122199,77.9263287437702,79.6330969753206,81.339865206871,83.0466334384213,84.7534016699717,86.460169901522,88.1669381330724,89.8737063646228,91.5804745961731,93.2872428277235,94.9940110592739,96.7007792908242,98.4075475223746,100.114315753925,101.821083985475,103.527852217026,105.234620448576,106.941388680126,108.648156911677,110.354925143227,112.061693374777],[71.2975339501749,73.0043021817253,74.7110704132757,76.417838644826,78.1246068763764,79.8313751079267,81.5381433394771,83.2449115710275,84.9516798025778,86.6584480341282,88.3652162656786,90.0719844972289,91.7787527287793,93.4855209603296,95.19228919188,96.8990574234304,98.6058256549807,100.312593886531,102.019362118081,103.726130349632,105.432898581182,107.139666812733,108.846435044283,110.553203275833,112.259971507384],[71.4958120827811,73.2025803143314,74.9093485458818,76.6161167774322,78.3228850089825,80.0296532405329,81.7364214720833,83.4431897036336,85.149957935184,86.8567261667343,88.5634943982847,90.2702626298351,91.9770308613854,93.6837990929358,95.3905673244862,97.0973355560365,98.8041037875869,100.510872019137,102.217640250688,103.924408482238,105.631176713788,107.337944945339,109.044713176889,110.751481408439,112.45824963999],[71.6940902153872,73.4008584469376,75.107626678488,76.8143949100383,78.5211631415887,80.227931373139,81.9346996046894,83.6414678362398,85.3482360677901,87.0550042993405,88.7617725308909,90.4685407624412,92.1753089939916,93.8820772255419,95.5888454570923,97.2956136886427,99.002381920193,100.709150151743,102.415918383294,104.122686614844,105.829454846394,107.536223077945,109.242991309495,110.949759541046,112.656527772596],[71.8923683479934,73.5991365795438,75.3059048110941,77.0126730426445,78.7194412741948,80.4262095057452,82.1329777372956,83.8397459688459,85.5465142003963,87.2532824319466,88.960050663497,90.6668188950474,92.3735871265977,94.0803553581481,95.7871235896985,97.4938918212488,99.2006600527992,100.90742828435,102.6141965159,104.32096474745,106.027732979001,107.734501210551,109.441269442101,111.148037673652,112.854805905202]],\"type\":\"surface\",\"frame\":null},{\"x\":[121.117528602603,89.3618817100663,115.443164881725,99.4496394360723,92.7457099982118,107.901837758501,138.893106071162,125.145119475328,81.6195261789843,95.0730686206496,88.5769977185567,94.8597081943671,88.9628008509596,114.114297012333,100.534071915245,120.419145591086,114.426876891447,111.592357580831,133.849227208159,97.2648010634673,110.09680614075,126.72399416984,97.9115903092628,99.9257251603133,97.5950080521511,121.748013460479,98.7480786989934,97.9152543291671,80.3585564632336,114.307860633927,109.138316302971,101.817179733939,117.965104313227,108.633496913048,96.528619145464,92.8713754661642,95.8981342875886,107.015457730577,87.1970117452858,89.3618817100663,102.530987846246,130.166860235388,83.4141025980336,125.75346623026,85.8103765615827,126.520072628695,79.203048104857,113.165907175696,110.33138786508,99.4092237400546,102.425526488872,124.900437749856,94.8597081943671,92.3685645501674,101.817179733939,79.8335329627323,96.226139267492,82.3554723942338,76.5756473159814,110.013482886319,111.592357580831,113.657407368227,101.164556773121,101.341094009698,101.698163476419,98.8191545781969,93.4981963041352,87.2938898998626,87.316028002806,86.2094574206895,89.8379674343074,121.870014908527,127.544378629405,109.991344783376,90.4463141892395,88.8949026973177,113.046890918176,78.0131542683097,95.3896508777613,83.6164421099846,86.2462806103944,95.3896508777613,111.252314499127,127.014435946011,89.951950871924,99.2731021994947,81.1655785576865,110.52128746677,136.493846917085,123.862011656634,134.602392343459,91.0989371500582,103.269371773029,126.287072933559,127.544378629405,92.4738903034255,84.7940885713045,100.534071915245,108.003012055173,78.8071449713118,121.117528602603,103.056011346747,100.437193760669,88.5548596156134,85.3055571716597,119.448617651507,90.5517755466136,96.3340383364003,127.644920803886,119.856558886853,112.018920897562,92.5143059994432,96.023799755541,91.4168421288192,103.07814944969,100.243630139074,89.8158293313641,115.057361749322,96.650620593512,105.577950778248,97.7216907075729,131.835771186485,101.817179733939,93.4981963041352,104.026539286327,103.708634307566,107.368863177393,92.5511291891481,94.4425837627742,93.1447908573186,83.4141025980336,71.037405135663,127.66705890683,115.687846607198,90.9762568726337,132.865336903467,72.5022963925581,100.710609151823,132.688799666889,98.5457391870425,115.665708504254,117.062799760565,136.493846917085,106.548478717828,134.126306619218,104.657024144202,99.3785635568688,100.437193760669,89.5253875551931,120.92294779354,113.143769072753,126.414746875437,122.737163481443,115.375266728083,91.6067417305091,88.6603209729875,107.178963575703,104.969604023316,103.8630334412,110.09680614075,88.4543174411322,117.032139577379,125.656588075683,122.601041940883,121.049630448962,93.1447908573186,99.3785635568688,123.892807443936,113.043226898272,115.771169861628,114.938345491802,93.6208765815597,121.748013460479,90.3494360346627,83.4104385781293,99.4864626257772,113.910375471188,97.5950080521511,89.8158293313641,119.584739192066,97.3816476258686,84.8774118257353,102.328648334295,99.2731021994947,99.0750497482455,96.9277000045708,108.313250636032,100.534071915245,99.4864626257772,113.987614356911,92.7702011694918,88.0298361151122,106.111557481547,103.232548583324,99.295240302438,106.742042339422,99.1725600250135,102.447664591815,92.8677114462598,116.826136045524,85.4245734291798,115.565166329773,113.174564860055,106.861058596942,95.8302361339468,77.1092540192799,89.2908058308629,112.412742040396,110.643967744195,109.537397162078,107.901837758501,104.969604023316,107.682765778157,109.466321282875,133.532644951047,128.80901236506,101.270018130495,87.316028002806,118.090769781179,120.255639745959,90.3457720147583,79.9046088419358,136.577170171515,102.425526488872,132.688799666889,96.2972151466954,118.209786038699,118.090769781179,101.504599854825,94.3346846938659,84.67140829388,86.7688663993614,129.245933601341,127.781042344446,106.861058596942,105.754488014826,117.032139577379,119.35173949693,102.765569570576,108.205351567124,126.414746875437,101.90050298837,99.1562556370934,91.8127452623644,84.1414656104858,84.3548260367683,79.1197248504261,91.4168421288192,90.4463141892395,79.0007085929061,109.263981770924,76.7521845525589,97.5950080521511,128.80901236506,113.657407368227,114.206686337254,112.513284214877,75.3368157031739,81.5226480244075,102.638886915154,101.186694876064,112.222842438706,123.408064035336,86.5665268874105,100.116947483653,102.328648334295,87.9465128606813,80.2580142887524,80.2580142887524,91.0767990471149,85.5789725628141,113.165907175696,112.05933659358,101.270018130495,81.8328866052668,81.0945026784831,81.3290844028133,120.609045192776,102.447664591815,90.9762568726337,103.708634307566,102.328648334295,121.870014908527,88.6603209729875,90.0291897576466,83.5331188555537,91.9206443312728,87.1933477253815,80.4640178206077,84.3180028470634,77.7397388771553,82.272149139803,77.3826694104343,89.715287156883,79.9046088419358,82.1531328822829,80.2616783086568,77.3826694104343,82.7836177401583,89.2074825764321,89.088466318912,88.9872920222396,118.923594151005,83.8510238343148,84.044587455909,105.052927277747,107.999348035269,97.3816476258686,103.791957561996,97.5950080521511,88.6603209729875,107.246861729345,89.8379674343074,108.906912304203,100.63953327262,118.840270896574,95.5123311551858,84.7719504683612,100.747432341528,87.0034481236916,77.8587551346754,85.3018931517554,92.7702011694918,74.8607299789328,115.248584072661,107.372527197298,102.202982866342,97.9115903092628,96.8566241253673,111.465674925409,109.466321282875,82.2500110368597,92.7702011694918,115.568830349677,84.044587455909,116.199315207553,99.295240302438,87.1933477253815,76.7117688565413,80.6985995449379,82.4633714631422,85.1798917037074,93.0737149781151,88.5769977185567,103.056011346747,86.8767654682698,97.9152543291671,120.92294779354,91.7294220079335,87.5072503261452,90.4463141892395,84.1636037134291,96.6542846134164,95.703553478525,88.7682200418959,92.1397163116164,108.003012055173,80.3893522505354,99.8030448828889,90.0291897576466,93.9387815603207,103.708634307566,77.1092540192799,117.55716307788,79.8335329627323,83.6164421099846,88.731396852191,82.7836177401583,86.8767654682698,88.731396852191,92.2408906082888,90.5517755466136,84.1414656104858,93.0737149781151,85.8348677328627,98.8559777679018,95.5123311551858,101.067678618544,85.9323780096308,82.7836177401583,98.6647554445626,82.1494688623785,85.6157957525191,79.4376298291872,75.3368157031739,80.8921631665322,115.771169861628,97.1591040033394,80.8921631665322,79.505527982829,98.0121324837439,108.866496608185,80.6985995449379,100.747432341528,91.0989371500582,82.9859572521092,89.715287156883,131.010705519546,124.514634617453,91.6104057504134,92.9903917236843,91.8838211415678,88.6909811561733,126.093509311965,84.9853108946437,82.9859572521092,101.795041630996,100.243630139074,110.013482886319,88.5769977185567,106.742042339422,95.2921406009932,108.313250636032,110.33138786508,116.829800065428,86.6855431449306,96.8566241253673,90.2482617379903,89.2908058308629,74.2302451210575,91.8838211415678,96.4607209918222,97.4037857288119,131.533291308512,78.2445582670783,127.675716591188,124.514634617453,80.4640178206077,74.8607299789328,84.8774118257353,92.9903917236843,94.8597081943671,96.8566241253673,91.2533362836924],\"y\":[27,25,27,25,27,18,20,23,24,19,23,24,27,26,24,26,23,26,20,17,21,26,20,23,19,27,21,22,24,22,27,23,27,22,27,22,27,25,22,25,21,24,22,24,27,28,21,23,26,28,24,27,24,29,23,21,21,21,24,23,26,17,24,25,22,25,20,24,23,25,23,20,20,24,24,26,22,25,20,21,19,20,24,24,28,24,25,20,23,24,23,23,19,22,20,28,23,24,22,26,27,24,22,24,22,24,21,19,24,27,28,25,22,26,23,26,24,23,20,24,26,27,23,20,26,23,20,19,19,25,22,28,23,23,20,25,26,25,24,22,24,28,23,26,25,26,21,22,26,19,24,29,28,26,20,21,26,23,25,21,20,21,22,24,26,25,21,29,20,21,22,23,27,22,20,19,28,19,24,28,24,21,22,24,18,25,19,24,19,19,18,21,22,25,23,22,20,23,20,20,23,20,29,23,26,22,21,20,23,25,18,23,19,21,19,22,21,23,22,25,20,25,21,24,24,25,23,22,26,21,20,21,26,28,23,25,21,22,26,21,29,21,17,21,24,19,23,26,24,22,22,25,19,22,17,18,24,23,22,19,23,26,25,22,19,22,23,20,20,24,25,23,25,21,19,21,26,20,23,20,23,22,20,21,19,23,19,20,21,25,22,23,25,20,25,22,22,25,22,23,22,18,21,26,22,21,20,24,21,19,21,27,23,25,21,23,23,24,19,26,23,20,18,25,19,22,27,20,21,19,21,24,18,22,22,22,23,20,28,26,19,27,21,23,24,19,22,19,23,19,24,23,22,19,19,18,22,29,20,19,26,23,22,24,21,21,25,22,19,25,22,21,24,21,18,19,23,22,20,22,23,20,19,26,23,22,21,27,22,27,24,28,26,19,23,21,20,19,23,22,23,25,28,26,19,21,24,26,23,23,22,18,19,26,22,23,21,18,21,25,25,26,23,21,27,29,23,21,25,21,23,24,21,25],\"z\":[65,98,85,83,115,98,69,106,102,95,91,58,84,78,102,110,102,99,105,101,102,115,100,87,99,96,72,78,77,98,69,130,109,106,92,100,107,86,90,110,107,113,65,102,103,111,42,100,67,92,100,110,56,107,97,56,95,78,76,86,79,81,79,79,56,52,63,80,87,88,92,100,94,117,102,107,99,73,56,78,94,110,109,86,92,91,123,102,105,114,96,66,104,108,84,83,83,92,109,95,93,114,106,87,65,95,61,73,112,113,49,105,122,96,97,94,117,136,85,116,106,99,94,89,119,112,104,92,86,69,45,57,94,104,89,144,52,102,106,98,97,94,111,100,105,90,98,121,106,121,102,64,99,81,69,84,104,104,107,88,67,103,94,109,94,98,102,104,114,87,102,77,109,94,93,86,97,97,88,103,87,87,90,65,111,109,87,58,87,113,64,78,97,95,75,91,99,108,95,100,85,97,108,90,100,82,94,95,119,98,100,112,136,122,126,116,98,94,93,90,70,110,104,83,99,81,104,109,113,95,74,81,89,93,102,95,85,97,92,78,104,120,83,105,68,104,80,120,94,81,101,61,68,110,89,98,113,50,57,86,83,106,106,104,78,99,91,40,42,69,84,58,42,72,80,58,52,101,63,73,68,60,69,73,75,20,56,49,71,46,54,54,44,74,58,46,76,43,60,58,89,43,94,88,79,87,46,95,92,42,62,52,101,97,85,98,94,90,72,92,75,83,64,101,82,77,101,50,90,103,96,50,47,73,62,77,64,52,61,86,41,83,64,83,116,100,42,74,76,92,98,96,67,84,111,41,68,107,82,89,83,73,74,94,58,76,61,38,100,84,99,86,94,90,50,112,58,87,76,68,110,88,87,54,49,56,79,82,80,60,102,87,42,119,84,86,113,72,104,94,78,80,67,104,96,65,64,95,56,75,91,106,76,90,108,86,85,104,87,41,106,76,100,89,42,102,104,59,93,94,76,50,88,70],\"type\":\"scatter3d\",\"mode\":\"markers\",\"marker\":{\"color\":\"#00998a\",\"opacity\":0.7,\"size\":1,\"symbol\":105,\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"error_y\":{\"color\":\"rgba(255,127,14,1)\"},\"error_x\":{\"color\":\"rgba(255,127,14,1)\"},\"line\":{\"color\":\"rgba(255,127,14,1)\"},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n\n\n\n\n### Visualisierung mit Farbe statt 3. Dimension\n\n\n\n::: {.cell fig.asp='0.5'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-58-1.pdf)\n:::\n:::\n\n\n\n\nAuf der Achse von mom_iq erkennt man deutlich (anhand der Farbänderung) die Veränderung für die AV (kid_score). Auf der Achse für `mom_age` sieht man, dass sich die AV kaum ändert, wenn sich `mom_age` ändert.\n\n\n\n\n### Visualisierung in 10 Dimensionen\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(data.frame(x=NA, y=NA)) +\n  theme(panel.background = element_rect(fill = 'lightblue'))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-59-1.pdf){fig-align='center' fig-pos='H' width=50%}\n:::\n:::\n\n\n\nLeider macht mein Hirn hier nicht mit. Unsere Schwächen, eine große Zahl an Dimensionen zu visualisieren, ist der Grund, warum wir mathematische Modelle brauchen.\n\nDaher kann man ein Modell verstehen als eine einfache Zusammenfassung eines (ggf. hochdimensionalen) Variablenraumes.\n\n\n\n\n\n\n\n### Relevanz der Prädiktoren\n\n- Welcher Prädiktor ist nun \"wichtiger\" oder \"stärker\" in Bezug auf den Zusammenhang mit der AV, `mom_iq` oder `mom_age`?\n\n- `mom_iq` hat den größeren Koeffizienten.\n- `mom_age` hat weniger Streuung.\n\n\n- Um die Relevanz der Prädiktoren vergleichen zu können, müsste man vielleicht die Veränderung von `kid_score` betrachten, wenn man von kleinsten zum größten Prädiktorwert geht.\n- Allerdings sind Extremwerte meist instabil (da sie von einer einzigen Beobachtung bestimmt werden).\n- Sinnvoller ist es daher, die Veränderung in der AV zu betrachten, wenn man den Prädiktor von \"unterdurchschittlich\" auf \"überdurchschnittlich\" ändert.\n- Das kann man mit *z-Standardisierung* erreichen.\n\n\n\n\n\n\n\n### z-Standardisierung\n\n\n\n\n- *z-Standardisierung* bedeutet, eine Variable so zu transformieren, dass sie über einen Mittelwert von 0 und eine SD von 1 verfügt:\n\n$$z = \\frac{x - \\bar{x}}{sd(x)}$$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"kidiq\")\nkidiq2 <- \n  kidiq %>% \n  mutate(mom_iq_z = ((mom_iq - mean(mom_iq)) / sd(mom_iq)))  %>% \n  select(mom_iq, mom_iq_z) %>% \n  head()\n```\n:::\n\n\n\n\n\n\n\n### Statistiken zu den z-transformierten Variablen\n\n\n\n::: {.cell}\n\n:::\n\n\n\n</br>\nSo kann man auch die z-Transformation (\"Skalierung\") durchführen:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <- \n  standardize(kidiq, append = TRUE)\n\nhead(kidiq)\n##   kid_score mom_hs    mom_iq mom_age kid_score_z  mom_hs_z   mom_iq_z\n## 1        65      1 121.11753      27 -1.06793237  0.521631  1.4078352\n## 2        98      1  89.36188      25  0.54886757  0.521631 -0.7092079\n## 3        85      1 115.44316      27 -0.08805362  0.521631  1.0295443\n## 4        83      1  99.44964      25 -0.18604150  0.521631 -0.0366907\n## 5       115      1  92.74571      27  1.38176451  0.521631 -0.4836193\n## 6        98      0 107.90184      18  0.54886757 -1.912647  0.5267892\n##    mom_age_z\n## 1  1.5602285\n## 2  0.8197811\n## 3  1.5602285\n## 4  0.8197811\n## 5  1.5602285\n## 6 -1.7717849\n```\n:::\n\n\n\n\nDer Schalter `append = TRUE` sorgt dafür, dass die ursprünglichen Variablen beim Z-Standardisieren nicht überschrieben werden, sondern angehängt werden (mit einem Suffix `_z`).\n\n\nMan kann auch nur einzelne Variablen standardisieren\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  standardize(select = c(\"mom_iq\", \"mom_age\", \"kid_score\"))\n```\n:::\n\n\n\n\n\nMan kann das Standardisieren auch von Hand machen, ohne ein Extra-Paket:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#data(kidiq)\nkidiq %>% \n  mutate(mom_iq_z2 = scale(mom_iq),\n         mom_age_z2 = scale(mom_age),\n         kid_score_z2 = scale(kid_score)) %>% \n  head()\n##   kid_score mom_hs    mom_iq mom_age kid_score_z  mom_hs_z   mom_iq_z\n## 1        65      1 121.11753      27 -1.06793237  0.521631  1.4078352\n## 2        98      1  89.36188      25  0.54886757  0.521631 -0.7092079\n## 3        85      1 115.44316      27 -0.08805362  0.521631  1.0295443\n## 4        83      1  99.44964      25 -0.18604150  0.521631 -0.0366907\n## 5       115      1  92.74571      27  1.38176451  0.521631 -0.4836193\n## 6        98      0 107.90184      18  0.54886757 -1.912647  0.5267892\n##    mom_age_z  mom_iq_z2 mom_age_z2 kid_score_z2\n## 1  1.5602285  1.4078352  1.5602285  -1.06793237\n## 2  0.8197811 -0.7092079  0.8197811   0.54886757\n## 3  1.5602285  1.0295443  1.5602285  -0.08805362\n## 4  0.8197811 -0.0366907  0.8197811  -0.18604150\n## 5  1.5602285 -0.4836193  1.5602285   1.38176451\n## 6 -1.7717849  0.5267892 -1.7717849   0.54886757\n```\n:::\n\n\n\n\n\n### Modell mit standardisierten Prädiktoren, `m10.10`\n\nDas Standardisieren der AV, `kid_score` ist nicht nötig, um den Effekt der Prädiktoren (UV) auf die AV zu untersuchen.\nStandardisiert man die AV, so liefern die Regressionskoeffizienten (Betas) Aussage darüber,\num wie viele *SD-*Einheiten sich die AV verändert, wenn sich ein Prädiktor um eine *SD-*Einheit verändert.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.10 <- stan_glm(kid_score_z ~ mom_iq_z + mom_age_z, data = kidiq, refresh = 0)\ncoef(m10.10)\n##   (Intercept)      mom_iq_z     mom_age_z \n## -0.0005729838  0.4441140164  0.0502720014\n```\n:::\n\n\n\n\n- Der *Achsenabschnitt* gibt den Mittelwert der AV (`kid_score`) an, da `kid_score_z = 0` identisch ist zum Mittelwert von  `kid_score`.\n- Der Koeffizient für `mom_iq_z` gibt an, um wie viele SD-Einheiten sich `kid_score` (die AV) ändert, wenn sich `mom_iq` um eine SD-Einheit ändert. \n- Der Koeffizient für `mom_age_z` gibt an, um wie viele SD-Einheiten sich `kid_score` (die AV) ändert, wenn sich `mom_age` um eine SD-Einheit ändert.\n\n\n\nJetzt sind die Prädiktoren in ihrer Relevanz (Zusammenhang mit der AV) vergleichbar: \n\n- Man sieht, dass die Intelligenz der Mutter *deutlich wichtiger* ist das Alter der Mutter (im Hinblick auf die Vorhersage bzw. den Zusammenhang mit mit der AV).\n\n\n\n\n### 95%-PI\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m10.10) \n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   |    Median |        95% CI |     pd |  Rhat |     ESS |                      Prior |\n|:-----------|:---------:|:-------------:|:------:|:-----:|:-------:|:--------------------------:|\n|(Intercept) | -5.73e-04 | (-0.08, 0.09) | 50.50% | 1.000 | 4134.00 | Normal (-2.81e-16 +- 2.50) |\n|mom_iq_z    |      0.44 |  (0.36, 0.53) |   100% | 1.000 | 4517.00 |      Normal (0.00 +- 2.50) |\n|mom_age_z   |      0.05 | (-0.04, 0.13) | 88.20% | 1.000 | 5066.00 |      Normal (0.00 +- 2.50) |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(hdi(m10.10))\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-68-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n### Was ist ein kleiner, was ein großer Effekt?\n\n- @cohen_statistical_1988 definiert Effektstärken in Bezug auf Mittelwertsvergleiche anhand von $d=(\\mu_1 - \\mu_o) / \\sigma$.\n- Für kleine, mittlere und große Werte gab er folgende Richtwerte:\n    - klein: $d \\approx 0.2$\n    - mittel: $d \\approx 0.5$\n    - groß: $d \\approx 0.8$\n- Auf dieser Basis schlägt @kruschke_rejecting_2018 einen Rope von $\\pm0.1$ vor.\n- Fällt ein Intervall (mit vorab definierter Sicherheit, z.B. 95%) komplett in das Rope, so gilt der Effekt als \"praktisch null\".\n- Richtlinien für Effektstärken sind nur Notlösungen, die durch  Sachverstand ersetzt werden sollen, wo immer möglich.\n- Man kann Effektstärken ineinander überführen, s. [hier](https://www.escal.site/), z.B. von Korrelation (*r*) zu Cohens *d* oder $R^2$.\n\n\n\n\n### Vernachlässigbarer Regressionseffekt\n\n@kruschke_rejecting_2018 schlägt vor, einen Regressionskoeffizienten unter folgenden Umständen als \"praktisch Null\" zu bezeichnen:\n\n- Wenn eine Veränderung über \"praktisch den ganzen Wertebereich\" von $x$ nur einen vernachlässigbaren Effekt auf $y$ hat.\n- Ein vernachlässigbarer Effekt ist dabei $\\hat{y}= \\pm 0.1 sd_y$.\n- Der \"praktisch ganze Wertebereich\" von $x$ sei $\\bar{x} \\pm 2 sd_x$.\n- Resultiert der Vergleich von $\\bar{x} -2 sd$ mit $\\bar{x}+2sd$ nur eine Veränderung in $\\hat{y}$ von $\\bar{y} - 0.1sd_y$ auf $\\bar{y} + 0.1 sd_y$, so ist der Regressionskoeffizient praktisch Null, der Effekt also vernachlässigbar.\n- Das impliziert Rope-Grenzen von $\\beta_x = \\pm 0.05$ für z-standardisierte Variablen.\n\n\n\n\n\n\n\n\n\n\n\n### Verwandtheit von Korrelation und Regression\n\n\n- Sind X und Y *z-standardisiert*, so sind Korrelation und Regression identisch.\n\n\n$$b = r \\frac{sd_x}{sd_y}$$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm10.11 <- \n  stan_glm(kid_score_z ~ mom_iq_z , data = kidiq, refresh = 0)\ncoef(m10.11)\n##  (Intercept)     mom_iq_z \n## -0.001144459  0.448499026\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq %>% \n  select(kid_score, mom_iq, kid_score_z, mom_iq_z) %>% \n  correlation()\n## # Correlation Matrix (pearson-method)\n## \n## Parameter1  |  Parameter2 |    r |       95% CI | t(432) |         p\n## --------------------------------------------------------------------\n## kid_score   |      mom_iq | 0.45 | [0.37, 0.52] |  10.42 | < .001***\n## kid_score   | kid_score_z | 1.00 | [1.00, 1.00] |    Inf | < .001***\n## kid_score   |    mom_iq_z | 0.45 | [0.37, 0.52] |  10.42 | < .001***\n## mom_iq      | kid_score_z | 0.45 | [0.37, 0.52] |  10.42 | < .001***\n## mom_iq      |    mom_iq_z | 1.00 | [1.00, 1.00] |    Inf | < .001***\n## kid_score_z |    mom_iq_z | 0.45 | [0.37, 0.52] |  10.42 | < .001***\n## \n## p-value adjustment method: Holm (1979)\n## Observations: 434\n```\n:::\n\n\n\n\n\n### Modellgüte\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2(m10.10)\n## # Bayesian R2 with Compatibility Interval\n## \n##   Conditional R2: 0.205 (95% CI [0.141, 0.269])\n```\n:::\n\n\n\n\nIst dieser Wert von $R2$ \"gut\"?\nDiese Frage ist ähnlich zur Frage \"Ist das viel Geld?\"; \nman kann die Frage nur im Kontext beantworten.\n\nEine einfache Lösung ist immer, Modelle zu vergleichen.\nDann kann man angeben, welches Modell die Daten am besten erklärt,\nz.B. auf Basis von $R^2$.\n\nZu beachten ist, dass das Modell theoretisch fundiert sein sollte.\nVergleicht man viele Modelle aufs Geratewohl, so muss man von zufällig hohen Werten der Modellgüte im Einzelfall ausgehen.\n\n\nWenn Sie aber unbedingt eine \"objektive\" Antwort auf die Frage \"wie viel ist viel?\" haben wollen,\nziehen wir Herrn Cohen zu Rate:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninterpret_r2(0.2)  # aus `easystats`\n## [1] \"moderate\"\n## (Rules: cohen1988)\n```\n:::\n\n\n\nDanke, Herr Cohen!\n\n\n### Priori-Verteilung für `m10.10` und Modelldefinition\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprior_summary(m10.10)  # aus rstanarm\n## Priors for model 'm10.10' \n## ------\n## Intercept (after predictors centered)\n##  ~ normal(location = -2.8e-16, scale = 2.5)\n## \n## Coefficients\n##  ~ normal(location = [0,0], scale = [2.5,2.5])\n## \n## Auxiliary (sigma)\n##  ~ exponential(rate = 1)\n## ------\n## See help('prior_summary.stanreg') for more details\n```\n:::\n\n\n\n\n\n<!-- $$\\begin{align} -->\n<!-- \\text{kid_score} &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\mu_i &= \\alpha + \\beta_1\\text{mom_iq}_i + \\beta_2\\text{mom_age}_i \\\\ -->\n<!-- \\alpha &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\beta_1 &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\beta_2 &\\sim \\mathcal{N}(0,2.5)\\\\ -->\n<!-- \\sigma &\\sim \\mathcal{E}(1) -->\n<!-- \\end{align}$$ -->\n\n\n\n$$\n\\begin{aligned}\n\\text{kid_score}  &\\sim \\mathcal{N}(0,2.5)\\\\\n\\mu_i &= \\alpha + \\beta_1\\text{mom_iq}_i + \\beta_2\\text{mom_age}_i \\\\\n\\alpha &\\sim \\mathcal{N}(0,2.5)\\\\\n\\beta_1 &\\sim \\mathcal{N}(0,2.5)\\\\\n\\beta_2 &\\sim \\mathcal{N}(0,2.5)\\\\\n\\sigma &\\sim \\mathcal{E}(1)\n\\end{aligned}\n$$\n\n\nSchreibt man einen Bericht, so bietet es sich an, die Modelldefinition zumindest im Anhang aufzuführen.\n\n\n### Beantwortung der Forschungsfrage\n\n\n\n>   Das Modell spricht sich klar für einen statistischen, linearen Effekt von Intelligenz der Mutter auf die Intelligenz des Kindes aus, wenn das Alter der Mutter statistisch kontrolliert wird (95%PI: [0.38, 0.51]). Hingegen zeigt das Modell, dass das Alter der Mutter statistisch eher keine Rolle spielt (95%PI: [-0.02, 0.12]). Alle Variablen wurden z-transformiert. Insgesamt erkärt das Modell im Median einen Anteil von ca. 0.2 an der Varianz der Kinderintelligenz. Das Modell griff auf die Standard-Priori-Werte aus dem R-Paket rstanarm [@goodrich_rstanarm_2020] zurück (s. Anhang für Details).\n\n\nHier wird von einem \"statistischen Effekt\" gesprochen, um klar zu machen, dass es sich lediglich um assoziative Zusammenhänge, und nicht um kausale Zusammenhänge, handelt.\nKausale Zusammenhänge dürfen wir nur verkünden, \nwenn wir sie a) explizit untersuchen, b) sich in der Literatur Belege dafür finden oder c) wir ein  Experiment fachgerecht durchgeführt haben.\n\n\n\n\n\n\n\n## Vertiefung\n\n\n🏎️VERTIEFUNG🏎️\n\n\n\n### Prüfen der Linearitätsannahme\n\n\nZentrale Annahme: Die AV ist eine *lineare* Funktion der einzelnen Prädiktoren: \n\n$$y= \\alpha + \\beta_1x_1 + \\beta_2 x_2 + \\cdots .$$ \n\nHingegen ist es weniger, dass die AV (y) normalverteilt ist.\nZwar nimmt die Regression häufig normalverteilte Residuen an, aber diese Annahme ist nicht wichtig, wenn es nur darum geht, die Regressionskoeffizienten zu schätzen [@gelman_regression_2021].\n\n\n\n\n\nIst die Linearitätsannahme erfüllt, so sollte der Residualplot nur *zufällige* Streuung um $y=0$ herum zeigen.\n\n\nEin Residuum $e$ ist der Vorhersagefehler, also die Differenz zwischen vorhergesagtem und tatsächlichem Wert:\n\n\n$e_i = y_i - \\hat{y}_i$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkidiq <-\n  kidiq %>% \n  mutate(m10.10_pred = predict(m10.10),  # vorhergesagten Werte\n         m10.10_resid = resid(m10.10))  # Residuen\n```\n:::\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\nkidiq %>% \n  ggplot(aes(x = m10.10_pred, y = m10.10_resid)) +\n  geom_hline(color=\"white\", yintercept = 0, size = 2) +\n  geom_hline(color = \"grey40\", \n             yintercept = c(-1,1), \n             size = 1, \n             linetype = \"dashed\") +\n  geom_point(alpha = .7) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-75-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nHier erkennt man keine größeren Auffälligkeiten.\n\n\n\n\n\n\n\n### Modellprüfung mit der PPV\n\n\n\n\n::: {.cell fig.asp='0.5'}\n\n```{.r .cell-code}\npp_check(m10.10)\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-76-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nUnser Modell - bzw. die Stichproben unserer Posteriori-Verteilung, $y_{rep}$ verfehlt den Mittelwert von $y$ leider recht häufig.\n\n\n\n\n\n### Visualisierung der bereinigten Regressionskoeffizienten\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\ndata(kidiq)\nkidiq3 <- \n  kidiq %>% \n  standardize(append = TRUE) %>% \n  sample_n(size = 300)\n\n#| results: \"hide\"\nm10.10a <- stan_glm(mom_age_z ~ mom_iq_z, data = kidiq3, refresh = 0, chains = 1)\nm10.10b <- stan_glm(mom_iq_z ~ mom_age_z, data = kidiq3, refresh = 0, chains = 1)\n\nkidiq3 <-\n  kidiq3 %>% \n  mutate(mom_age_resid = resid(m10.10a)) %>% \n  mutate(mom_iq_resid = resid(m10.10b))\n\n\nm10.10c <- stan_glm(kid_score_z ~ mom_age_resid, data = kidiq3, refresh = 0, chains = 1)\nm10.10d <- stan_glm(kid_score_z ~ mom_iq_resid, data = kidiq3, refresh = 0, chains = 1)\n\n\nkidiq3 <-\n  kidiq3 %>% \n  mutate(m10.10c_resid = resid(m10.10c)) %>% \n  mutate(m10.10d_resid = resid(m10.10d))\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell fig.asp='0.619'}\n\n```{.r .cell-code}\n#(m10.10a_plot + m10.10b_plot) / (m10.10c_plot + m10.10d_plot)\nplots(m10.10a_plot, m10.10b_plot, m10.10c_plot, m10.10d_plot, \n      n_rows = 2, tags = \"A\",\n      guides = \"collect\")\n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/resid-lm-plot-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n\n\n\nDie vertikalen Balken zeigen die Residuen.\n\n\n\n\n\n\n- Obere Reihe: Regression eines Prädiktors auf den anderen Prädiktor.\n- Untere Reihe: Regression der Residuen der oberen Reihe auf die AV, `kid-score_z`. \n- Unten links (C): Die Residuen von `mom_iq_c` sind kaum mit der AV assoziiert. Das heißt, nutzt man den Teil von `mom_age_z`, der nicht mit `mom_iq_z` zusammenhängt, um `kid_score` vorher zusagen, findet man keinen (*kaum*) Zusammenhang.\n- Unten rechts (D): Die Residuen von `mom_age_c` sind *stark* mit der AV assoziiert. Das heißt, nutzt man den Teil von `mom_iq_z`, der nicht mit `mom_age_z` zusammenhängt, um `kid_score` vorher zusagen, findet man einen starken Zusammenhang.\n\n\n\nEine multiple Regression liefert die gleichen Regressionskoeffizienten wie die Modelle aus Teildiagrammen (C) und (D).\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Fixed effects\n\n|Parameter   |    Median |        95% CI |     pd |  Rhat |     ESS |                      Prior |\n|:-----------|:---------:|:-------------:|:------:|:-----:|:-------:|:--------------------------:|\n|(Intercept) | -5.73e-04 | (-0.08, 0.09) | 50.50% | 1.000 | 4134.00 | Normal (-2.81e-16 +- 2.50) |\n|mom_iq_z    |      0.44 |  (0.36, 0.53) |   100% | 1.000 | 4517.00 |      Normal (0.00 +- 2.50) |\n|mom_age_z   |      0.05 | (-0.04, 0.13) | 88.20% | 1.000 | 5066.00 |      Normal (0.00 +- 2.50) |\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n### Bereinigte Regressionskoeffizienten für mtcars\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars2 <-\n  mtcars %>% \n  standardize()\n\nm12a <- stan_glm(disp ~ wt, data = mtcars2, refresh = 0, chains = 1)\nm12b <- stan_glm(wt ~ disp, data = mtcars2, refresh = 0, chains = 1)\n\nmtcars2 <-\n  mtcars %>% \n  mutate(m12a_resid = resid(m12a)) %>% \n  mutate(m12b_resid = resid(m12b))\n\n\nm12c <- stan_glm(mpg ~ m12a_resid, data = mtcars2, refresh = 0, chains = 1)\nm12d <- stan_glm(mpg ~ m12b_resid, data = mtcars2, refresh = 0, chains = 1)\n\n\nmtcars2 <-\n  mtcars2 %>% \n  mutate(m12c_resid = resid(m12c)) %>% \n  mutate(m12d_resid = resid(m12d))\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell fig.asp='0.619'}\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/resid-lm-plot-mtcars-1.pdf)\n:::\n:::\n\n\n\n\nÜbrigens liefern `stan_glm()` und `lm` oft ähnliche Parameterwerte (bei schwach informativen Prioriwerten):\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstan_glm(mpg ~ hp + cyl, data = mtcars, refresh = 0) %>% coef()\n## (Intercept)          hp         cyl \n## 36.84877039 -0.01934222 -2.26124451\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(mpg ~ hp + cyl, data = mtcars) %>% coef()\n## (Intercept)          hp         cyl \n##  36.9083305  -0.0191217  -2.2646936\n```\n:::\n\n\n\n\n:::callout-important\nWenn auch die  Parameterwerte eines Frequentistischen und Bayes-Modell numerisch ähnlich sein können, so ist doch die Interpretation grundverschieden. \nBayesmodelle erlauben Wahrscheinlichkeitsaussagen zu den Parametern, Frequentistische Modelle nicht.\n:::\n\n\n\n\n\n### Post: Bayes in fünf Minuten\n\n\nEine Kurzdarstellung des Bayes-Inferenz findet sich [in diesem Post](https://data-se.netlify.app/2022/01/27/bayes-in-f%C3%BCnf-minuten/) und in [diesem](https://data-se.netlify.app/2022/01/28/bayes-in-f%C3%BCnf-minuten-f%C3%BCr-fortgeschrittene/).\n\n\n\n\n## Ausblick: Binäre AV\n\n\n>    *Forschungsfrage:* Kann man anhand des Spritverbrauchs vorhersagen, ob ein Auto eine Automatik- bzw. ein manuelle Schaltung hat? Anders gesagt: Hängen Spritverbrauch und Getriebeart? (Datensatz `mtcars`)\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(mtcars)\nmtcars2 <-\n  mtcars %>% \n  standardize(append = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nm13 <-\n  stan_glm(am ~ mpg_z, \n           data = mtcars2, \n           refresh = 0)\ncoef(m13)\n## (Intercept)       mpg_z \n##   0.4060587   0.2975638\n```\n:::\n\n\n\nAb  `mpg_z = 0.41, 0.3` sagt das Modell `am=1` (manuell) vorher. Ganz ok.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars2 %>% \n  ggplot(aes(x = mpg_z, y = am)) +\n  geom_hline(yintercept = 0.5, color = \"white\", size = 2) +\n  geom_point() +\n  geom_abline(intercept = coef(m13)[1],\n              slope = coef(m13)[2],\n              color = \"blue\") \n```\n\n::: {.cell-output-display}\n![](metrische-AV_files/figure-pdf/unnamed-chunk-84-1.pdf){fig-pos='H'}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nneg_am <- predict(m13, newdata = tibble(mpg_z = -1.3))\n```\n:::\n\n\n\n\nFür kleine Werte von `mpg_z` (<1.3) sagt unser Modell *negative* Werte für `am` voraus. Das macht keinen Sinn. Müssen wir mal bei Gelegenheit besser machen.\n\n\n\n\n\n\n\n## Wir waren fleißig\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n[Quelle](https://giphy.com/gifs/XIqCQx02E1U9W)\n\n\nGenug für heute 👍 \n\n\n\n\n\n\n\n\n",
    "supporting": [
      "metrische-AV_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{\"knit_meta_id\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\",\"unnamed-chunk-57\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.5.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-binding\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.0\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"setprototypeof\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets/lib/setprototypeof\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"setprototypeof.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"typedarray\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets/lib/typedarray\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"typedarray.min.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"jquery\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"3.5.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"lib/jquery\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"jquery.min.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.2.0\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"js/crosstalk.min.js\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"css/crosstalk.min.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-htmlwidgets-css\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"2.5.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets/lib/plotlyjs\"]}]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-htmlwidgets.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-main\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"2.5.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets/lib/plotlyjs\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-latest.min.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]}]}]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}