# Abschluss {#sec-abschluss}


## Lernsteuerung

### Lernziele

Nach Absolvieren des jeweiligen Kapitels sollen folgende Lernziele erreicht sein.

Sie k√∂nnen ... 

- erl√§utern, wie Sie eine typische, sozialwissenschaftliche Forschungsfrage (quantitativ) untersuchen
- typische ‚ÄúLieblingsfehler‚Äù benennen und Wege aufzeigen, um die Fehler zu umgehen
- zwischen den Grundkonzepten der Frequentististischen Statistik und der Bayes-Statistik √ºbersetzen
- die Grundideen der Bayes-Statistik in eine Gesamtzusammenhang einordnen


### Ben√∂tigte R-Pakete

In diesem Kapitel ben√∂tigen Sie folgende R-Pakete.

```{r}
#| message: false
library(tidyverse)
library(easystats)
library(rstanarm)
```

```{r libs-hidden}
#| echo: false
library(dagitty)

theme_set(theme_modern())
```



### Begleitvideos

- [Fragestunde QM2](https://youtu.be/5nKy1hueZlIs)
- [Playlist QM2](https://www.youtube.com/playlist?list=PLRR4REmBgpIGVptiSN-qDVEJKfFnUqDyL)
- [Lieblingsfehler](https://youtu.be/imnicKTbStU)


## Probeklausur


### 2024

(Diese Liste ist im Aufbau. Bitte konsultieren Sie f√ºr weitere Aufgaben selbst√§ndig alle relevanten Aufgaben, die in den Kapiteln vorgestellt wurden.)

1. [ttest-als-regr](https://datenwerk.netlify.app/posts/ttest-als-regr/ttest-als-regr/)
1. [Additionssatz1](https://datenwerk.netlify.app/posts/additionssatz1/additionssatz1)
2. [Nerd-gelockert](https://datenwerk.netlify.app/posts/nerd-gelockert/nerd-gelockert) 
3. [Urne1](https://datenwerk.netlify.app/posts/urne1/urne1) 
3. [corona-blutgruppe](https://datenwerk.netlify.app/posts/corona-blutgruppe/corona-blutgruppe.html)
3. [voll-normal](https://datenwerk.netlify.app/posts/voll-normal/voll-normal.html)
4. [alphafehler-inflation3](https://datenwerk.netlify.app/posts/alphafehler-inflation3/alphafehler-inflation3.html)
5. [verteilungen-quiz-05](https://datenwerk.netlify.app/posts/verteilungen-quiz-05/verteilungen-quiz-05)
5. [verteilungen-quiz-03](https://datenwerk.netlify.app/posts/verteilungen-quiz-05/verteilungen-quiz-03)
5. [verteilungen-quiz-04](https://datenwerk.netlify.app/posts/verteilungen-quiz-05/verteilungen-quiz-04)
6. [Kekse03](https://datenwerk.netlify.app/posts/kekse03/index.qmd)
6. [globus-bin2](https://datenwerk.netlify.app/posts/globus-bin2/)
7. [globus2](https://datenwerk.netlify.app/posts/globus2/)
8. [iq01a](https://datenwerk.netlify.app/posts/iq01a/)
9. [gem-wskt4](https://datenwerk.netlify.app/posts/gem-wskt4/)
10. [Rethink2m3](https://datenwerk.netlify.app/posts/rethink2m3/rethink2m3)
3. [mtcars-post2a](https://datenwerk.netlify.app/posts/mtcars-post2a/)
4. [groesse03](https://datenwerk.netlify.app/posts/groesse03/)
5. [bath42](https://datenwerk.netlify.app/posts/bath42/bath42.html)
6. [klausur-raten](https://datenwerk.netlify.app/posts/klausur-raten/klausur-raten)
11. [bed-post-wskt1](https://datenwerk.netlify.app/posts/bed-post-wskt1/bed-post-wskt1)
12. [mtcars-post3a](https://datenwerk.netlify.app/posts/mtcars-post3a/)
13. [exp-tab](https://datenwerk.netlify.app/posts/exp-tab/)
14. [norms-sd](https://datenwerk.netlify.app/posts/norms-sd/)
15. [mtcars-post_paper](https://datenwerk.netlify.app/posts/mtcars-post_paper/)
16. [bfi10](https://datenwerk.netlify.app/posts/bfi10/)
17. [rope-luecke](https://datenwerk.netlify.app/posts/rope-luecke/)
18. [wskt-schluckspecht2a](https://datenwerk.netlify.app/posts/wskt-schluckspecht2a/)
19. [penguins-stan-06](https://datenwerk.netlify.app/posts/penguins-stan-06/index.html)




### 2023


[Dieser Tag auf dem Datenwerk](https://datenwerk.netlify.app/#category=qm2-pruefung)  stellt Fragen einer Probepr√ºfung (Version 2023) zusammen.



### 2022

[Dieser Tag auf dem Datenwerk](https://datenwerk.netlify.app/#category=exam-22)  stellt Fragen einer Probepr√ºfung (Version 2022) zusammen.



## Lieblinglingsfehler



Lieblingsfehler im √úberblick ü§∑:


1. Quantile und Verteilungsfunktion verwechseln
2. Pr√§diktoren nicht zentrieren, wenn es einen Interaktionsterm gibt
4. Interaktion falsch interpretieren
5. Regressionskoeffizienten kausal interpretieren, wenn es keine kausale Fundierung gibt




### Post-Pr√§d-Verteilung (PPV) und Post-Verteilung verwechseln ü§∑

üèé üèé Vertiefung: Dieser Abschnitt ist nicht pr√ºfungsrelevant. üèéÔ∏è üèé

Berechnen wir unser Standard-mtcars-Modell: `mpg ~ hp`. 

```{r m1, results = "hide", echo = TRUE}
m1 <- stan_glm(mpg ~ hp, data = mtcars, refresh = 0)
```


Die *Post-Verteilung* zeigt Stichproben zu den Parameterwerten, s. @tbl-post-m1.

```{r echo = TRUE}
#| tbl-cap: "Postverteilung in Stichprobenform (m1)"
#| label: tbl-post-m1
post_verteilung <- m1 %>% 
  as_tibble()
head(post_verteilung)
```

Diese Tabelle kann man hernehmen,
um Fragen zu Post-Verteilung zu beantworten.
H√§ufig ist es aber bequemer, z.B. mit `parameters(m1)` Post-Intervalle und Punktsch√§tzer auszulesen.



Die *Posterior-Pr√§diktiv-Verteilung (PPV)* zeigt die Vorhersagen, also keine Parameterwerte, sondern Beobachtungen.
```{r echo=FALSE}
ppv <- posterior_predict(m1) %>% as_tibble()

ppv %>% 
  pivot_longer(everything()) %>% 
  slice_head(n=5)
```






### Quantile und Verteilungsfuntion verwechseln ü§∑



#### Quantil f√ºr $p$

Ein $p$-Quantil teilt eine Verteilung in zwei Teile, 
und zwar so, dass mind. $p$ kleiner oder gleich dem $p$-Quantil sind. s. @fig-quantil.
```{r quantil-plot}
#| echo: false
#| fig-cap: "50%-Quantil"
#| label: fig-quantil
funcShaded_low <- function(x, lower_bound) {
    y = dnorm(x, mean = 0, sd = 1)
    y[x < lower_bound] <- NA
    return(y)
}
# source: https://stackoverflow.com/questions/48753007/using-stat-function-to-draw-partially-shaded-normal-curve-in-ggplot2

funcShaded_up <- function(x, upper_bound) {
    y = dnorm(x, mean = 0, sd = 1)
    y[x > upper_bound] <- NA
    return(y)
}

ggplot(tibble(x = -3:3)) +
  aes(x) + 
  stat_function(fun = dnorm, n = 100) +
  stat_function(fun = funcShaded_up, args = list(upper_bound = 0),
                geom = "area", fill = "grey", alpha = .5) +
  theme(axis.text.x = element_text(color = "red", size = 20)) +
  scale_x_continuous(breaks = 0)
```

Das 50%-Quantil (.5-Quantil) betr√§gt $x=0$.
Mind ein Anteil $1-p$ ist gr√∂√üer oder gleich dem $p$-Quantil.



#### Verteilungsfunktion $F$

$F(x)$ gibt die Wahrscheinlichkeit an der Stelle $x$ an, 
dass $X$ einen Wert kleiner oder gleich $x$ annimmt, s. @fig-F.

```{r f-plot}
#| echo: false
#| label: fig-F
#| fig-cap: "Verteilungsfunktion F(x=0)=1/2"
ggplot(tibble(x = -3:3)) +
  aes(x) + 
  stat_function(fun = dnorm, n = 100) +
  stat_function(fun = funcShaded_up, args = list(upper_bound = 0),
                geom = "area", fill = "red", alpha = .5) +
  scale_x_continuous(breaks = 0)
```

$F(0)=1/2$, die Wahrscheinlichkeit betr√§gt hier 50%, dass $x$ nicht gr√∂√üer ist als 0.



### Interaktion falsch interpretieren ü§∑


Berechnen wir ein einfaches Interaktionsmodell: `mpg ~ hp*vs`.

:::callout-note
Zur Erinnerung: `mpg ~ hp*vs` ist synonym zu (aber k√ºrzer als) `mpg ~ hp + vs + hp:vs`.
:::



```{r m2, echo = TRUE, results= "hide"}
m2 <- stan_glm(mpg ~ hp*vs, data = mtcars)  # mit Interaktionseffekt
```


Modellkoeffizienten, s. @tbl-m2-params.

```{r}
#| eval: false
parameters(m2)
```

```{r}
#| echo: false
#| label: tbl-m2-params
#| tbl-cap: "Parameter von m2"
parameters(m2) %>% display()
```

@tbl-m2-params zeigt die Visualisierung der Parameter von m2.

```{r}
#| label: fig-m2-params
#| fig-cap: "Parameter von m2 visualisiert"
plot(parameters(m2))
```



**Falsch üòà**
Der Unterschied im Verbrauch zwischen den beiden Gruppen `vs=0` und `vs=1` betr√§gt ca. -0.11.




**Richtig üëº**
Der Unterschied im Verbrauch zwischen den beiden Gruppen `vs=0` und `vs=1` betr√§gt ca. -0.11 -- *wenn* `hp=0`.



Da `hp=0` kein realistischer Wert ist, 
ist das Modell schwer zu interpretieren.
Zentrierte Pr√§diktoren w√§ren hier eine sinnvolle L√∂sung.



@gelman2021,Kap. 10, @mcelreath2020, Kap. 8












## Kochrezepte üç≤








### Kochrezept: Forschungsfrage untersuchen

*Theoretische Phase*
1. Staunen √ºber ein Ph√§nomen, $y$, Kausalfrage finden
2. Literatur w√§lzen, um m√∂gliche Ursachen $x$ von $y$ zu lernen
3. Forschungsfrage, Hypothese pr√§zisieren
4. Modell pr√§zisieren (DAG(s), Prioris)

*Empirische Phase*

5. Versuch planen
6. Daten erheben

*Analytische Phase*

7. Daten aufbereiten
8. Modell berechnen anhand eines oder mehrerer DAGs
9. Modell pr√ºfen/kritisieren
10. Forschungsfrage beantworten



Yeah! Fertig.



### Parameter sch√§tzen vs. Hypothesen pr√ºfen

Quantitative Studien haben oft einen von zwei (formalen) Zielen: Hypothesen testen oder Parameter sch√§tzen.
Beispiel Hypothesenpr√ºfung: "Frauen parken im Durchschnitt schneller ein als M√§nner".
Beispiel Parametersch√§tzung: "Wie gro√ü ist der mittlere Unterschied in der Ausparkzeit zwischen Frauen und M√§nnern?"

Je ausgereifter ein Forschungsfeld, desto *k√ºhnere* Hypothesen lassen sich formulieren:
    - stark ausgereift: 
      - Die n√§chste totale Sonnenfinsternis in Deutschland wird am 27.7.2082 um 14.47h stattfinden, [Quelle](https://www.solar-eclipse.info/de/eclipse/country/DE/)
    - gering ausgereift: 
      - Die n√§chste Sonnenfinsternis wird in den n√§chsten 100 Jahren stattfinden.
      - Lernen bringt mehr als Nicht-Lernen f√ºr den Klausurerfolg.
K√ºhne Hypothesen sind w√ºnschenswert ü¶π 




### Formalisierung von Forschungsfragen

Der Mittelwert in Gruppe A ist h√∂her als in Gruppe B (der Unterschied, $d$, im Mittelwert ist gr√∂√üer als Null):

$$\mu_1 > \mu_2 \Leftrightarrow \mu_1 - \mu_2 > 0 \Leftrightarrow \mu_d > 0$$








## Kerngedanken Bayes


üì∫ [Bayes in f√ºnf Minuten](https://www.youtube.com/watch?v=yfOppH_2uSI)

üì∫ [Bayes in zehn Minuten](https://www.youtube.com/watch?v=8a75ZnyycFc)

### Zentraler Kennwert der Bayes-Statistik: Post-Verteilung

Berechnen wir wieder ein einfaches^[langweiliges] Modell: `mpg ~ hp`.

```{r m3, echo = TRUE, results ='hide'}
m3 <- stan_glm(mpg ~ hp, data = mtcars)
```

Und schauen wir uns die Post-Verteilung an, mit eingezeichnetem HDI, s. @fig-post-m3.

```{r echo = FALSE}
#| label: fig-post-m3
#| fig-cap: "Post-Verteilung (HDI) von m3"
plot(hdi(m3)) + scale_fill_okabeito()
```




Ein Zusammenfassen der Posterior-Verteilung (z.B. zu einem 95%-PI) ist m√∂glich und oft sinnvoll.
Verschiedene Arten des Zusammenfassens der Post-Verteilung sind m√∂glich, z.B. zu Mittelwert oder SD oder einem einem HD-Intervall.
Allerdings √ºbermittelt nur die gesamte Post-Verteilung alle Informationen.
Daher empfiehlt es sich (oft), die Post-Verteilung zu visualisieren.





### Posteriori als Produkt von Priori und Likelihood

$$\text{Posteriori} = \frac{\text{Likelihood} \times \text{Priori}}{\text{Evidenz}}$$














## Beispiele f√ºr Pr√ºfungsaufgaben




### Geben Sie den korrekten Begriff an!


  üå¨üöôüôãÔ∏èüë®‚¨ÖÔ∏èHans üëß‚¨ÖÔ∏èAnna üë©‚¨ÖÔ∏èLise 
  
  
  
Puh, wie erstelle ich f√ºr alle Studis ein anderes R√§tsel^[Fahr-Hier-Hans-Anna-Lise: Varianzanalyse]? 


<!-- :::callout-note -->
<!-- In einer Open-Book-Pr√ºfung bekommen alle Studentis eine eigene, jeweils andere Pr√ºfung. -->
<!-- Teamarbeit bleibt nat√ºrlich trotzdem untersagt. -->
<!-- ::: -->



### DAG mit doppelter Konfundierung


Puh, jetzt kommt ein wilder DAG, s. @fig-dag-wild.


```{r dag2}
#| echo: false
#| fig-cap: "Ein DAG mit doppelter Konfundierung. Ist hier noch zu helfen?"
#| label: fig-dag-wild
dag2_raw <-
  'dag {
A [pos="-2.200,-1.520"]
B [pos="1.400,-1.460"]
D [outcome,pos="1.400,1.621"]
E [exposure,pos="-2.200,1.597"]
Z [pos="-0.300,-0.082"]
A -> E
A -> Z
B -> D
B -> Z
E -> D
Z -> D
Z -> E
}
'

dag2_raw %>% dagitty() %>% plot()
```

:::{#def-minadjust}
### Minimale Adjustierungsmenge 

die Minimale Adjustierungsmenge f√ºr `x` und `y` gibt eine kleinstm√∂gliche Menge an an Knoten eines DAGs an, die zu adjustieren sind, um den kausalen Effekt von `x` auf `y` zu bestimmen (zu "identifizieren"). $\square$
:::

‚ùìGeben Sie die minimale Adjustierungsmenge (minimal adjustment set) an,
um den totalen (gesamten) Effekt von *E* auf *D* zu bestimmen!

‚ùó Entweder ist die Menge {A,Z} zu adjustieren oder die Menge {B,Z}.

Ja, dem DAG ist zu helfen.


### DAG mit vielen Variablen

Je nach dem wie komplex Ihre Theorie ist, ist
Ihr DAG auch komplex, s. @fig-dag-komplex.


```{r dag3, fig.asp = .5}
#| echo: false
#| label: fig-dag-komplex
#| fig-cap: "Ein DAG mit vielen Variablen"
dag3_raw <-
  'dag {
1 [pos="-5.600,2.115"]
10 [pos="4.955,-4.447"]
11 [pos="7.152,-1.901"]
12 [pos="7.424,1.256"]
13 [pos="5.971,3.498"]
14 [pos="4.225,5.936"]
15 [pos="1.634,7.468"]
2 [pos="-7.120,-0.603"]
3 [pos="-7.138,-3.731"]
4 [pos="-5.395,-6.348"]
5 [pos="-2.468,-6.074"]
6 [pos="-2.179,-2.682"]
7 [pos="-1.049,-0.238"]
8 [pos="1.043,0.916"]
9 [pos="2.654,-2.614"]
D [outcome,pos="-1.510,6.789"]
E [exposure,pos="-3.728,5.092"]
1 -> E
10 -> 9
11 -> 10
12 -> 11
13 -> 12
14 -> 13
15 -> 14
15 -> D
2 -> 1
3 -> 2
4 -> 3
5 -> 4
6 -> 5
7 -> 6
7 -> E
8 -> 7
8 -> D
9 -> 8
E -> D
}
'

dag3_raw %>% dagitty() %>% plot()
```

Minimale Adjustierungsmenge, um den Effekt von E auf D zu identifizieren: {7}, {8}.

Trotz der vielen Variablen,
ist der kausale Effekt von E auf D recht gut zu identifizieren.


### Ein Kausalmodell der Schizophrenie, van Kampen (2014)

*The SSQ model of schizophrenic prodromal unfolding revised:* 

*An analysis of its causal chains based on the language of directed graphs*

D. van Kampen

Lesen Sie [hier den Abstract](https://www.cambridge.org/core/journals/european-psychiatry/article/abs/ssq-model-of-schizophrenic-prodromal-unfolding-revised-an-analysis-of-its-causal-chains-based-on-the-language-of-directed-graphs/F2E7BBFC1B392616DB894AFBFABE7818).

Folgende Symptome der Schizophrenie wurden gemessen:

Social Anxiety (*SAN*), Active Isolation (*AIS*), Affective Flattening (*AFF*), Suspiciousness (*SUS*), Egocentrism (*EGC*), Living in a Fantasy World (*FTW*), Alienation (*ALN*), Apathy (*APA*), Hostility (*HOS*), Cognitive Derailment (*CDR*), Perceptual Aberrations (*PER*), and Delusional Thinking (*DET*)

@vankampen2014

UV: *SUS*, AV: *EGC*


Berechnen Sie die minimale Adjustierungsmenge, 
um den kausalen Effekt der UV auf die AV zu identifizieren!



@fig-van-kampen zeigt den DAG von van Kampen (2014) zu den Symptomen der Schizophrenie.




```{r dag-van-kampen, fig.asp=.5}
#| echo: false
#| label: fig-van-kampen
#| fig-cap: "Ein DAG zu den Symptomen der Schizophrenie"
dad_van_kampen_raw <-
  'dag {
AFF [pos="0.262,0.477"]
AIS [pos="0.123,0.736"]
ALN [pos="0.438,0.506"]
APA [pos="0.376,0.147"]
CDR [pos="0.628,0.332"]
DET [pos="0.920,0.561"]
EGC [outcome,pos="0.916,1.016"]
FTW [pos="0.667,0.639"]
HOS [pos="0.886,0.727"]
PER [pos="0.920,0.382"]
SAN [pos="0.031,0.371"]
SUS [exposure,pos="0.295,1.003"]
AFF -> ALN
AFF -> APA
AFF -> CDR
AIS -> AFF
AIS -> EGC
AIS -> SUS
ALN -> APA
ALN -> DET
ALN -> FTW
ALN -> PER
ALN -> SUS
CDR -> DET
EGC -> HOS
FTW -> DET
FTW -> EGC
PER -> DET
SAN -> AFF
SAN -> AIS
SAN -> ALN
SAN -> APA
SAN -> CDR
SUS -> EGC
SUS -> FTW
SUS -> HOS
}
'

dad_van_kampen_raw %>% dagitty() %>% plot()
```


Minimales Adjustment-Set f√ºr den totalen Kausaleffekt: {AIS, ALN}






### Modelle berechnen


Stellen Sie sich auf Aufgaben ein, in denen Sie Modellparameter berechnen sollen.
Orientieren Sie sich an den Aufgaben und Inhalten des Unterrichts.

Pr√ºfungsfragen zu Modellen k√∂nnten z.B. sein:

- Geben Sie den Punktsch√§tzer (Median) f√ºr den Pr√§diktor X im Modell Y an!
- Geben Sie ein 89%-HDI f√ºr den Parameter X im Modell Y an!
- Geben Sie R-Quadrat an.
- Formulieren Sie ein Interaktionsmodell!
- Welches Modell ist korrekt, um den kausalen Effekt zu modellieren?
- Formulieren Sie ein Modell mit folgenden Prioris ...
- Liegt der Effekt X noch im ROPE ?
- Unterscheidet sich die Breite des CI von der Breite des HDI f√ºr den Pr√§diktor X im Modell Y?
- Was ver√§ndert sich an den Parametern, wenn Sie die Pr√§diktoren zentrieren/z-standardisieren?
- ...




## Aufgabensammlungen 

Folgende Tags auf dem [Datenwerk](https://datenwerk.netlify.app/) beinhalten relevante Aufgaben^[das ist keine vollst√§ndige Liste, sondern eine Anregung. Andere Tags k√∂nnten auch relevant sein]:


- [bayes](https://datenwerk.netlify.app/#category=bayes)
- [bayes-grid](https://datenwerk.netlify.app/#category=bayes-grid)
- [dag](https://datenwerk.netlify.app/#category=dag)
- [qm2](https://datenwerk.netlify.app/#category=dag)
- [probability](https://datenwerk.netlify.app/#category=probability)
- [post](https://datenwerk.netlify.app/#category=post)
- [rope](https://datenwerk.netlify.app/#category=rope)



Besondere "Pr√ºfungsn√§he" k√∂nnten diese Sammlungen haben:

- [qm2-pruefung](https://datenwerk.netlify.app/#category=qm2-pruefung)
- [exam-22](https://datenwerk.netlify.app/#category=exam-22)
- [quiz1-qm2-ws23](https://datenwerk.netlify.app/#category=quiz1-qm2-ws23)
- [Verteilungen-Quiz](https://datenwerk.netlify.app/#category=Verteilungen-Quiz)








## FAQ 



### Probeklausur?

FRAGE: Wo finde ich eine Probeklausur? 

ANTWORT: [Dieser Tag](https://datenwerk.netlify.app/#category=qm2-pruefung)  stellt Fragen einer Probepr√ºfung zusammen.


### Wie bereite ich mich gut auf die Pr√ºfung vor? 
FRAGE: Wie bereite ich mich gut auf die Pr√ºfung vor? 

ANTWORT:
[Hier](https://hinweisbuch.netlify.app/hinweise-pruefungsvorbereitung-frame) finden Sie Tipps zur Pr√ºfungsvorbereitung.


### Intercept?

FRAGE: Wenn man '(Intercept)' benutzt, welche Anf√ºhrungszeichen sind die richtigen? Bei verschiedenen Anf√ºhrungszeichen, also ' oder \` oder ¬¥ kommen entweder keine oder sogar verschiedene Ergebnisse raus. 

ANTWORT: Normalerweise ist innerhalb von R-Befehlen aus dem Tidyverse keine Anf√ºhrungsstriche f√ºr Spaltennamen n√∂tig. Wenn es allerdings ein "verbotener" Name ist, muss man aufpassen. `(Intercept)` ist so ein verbotener Variablenname. Warum verboten? Ein "braver" Variablenname (in R) muss mit einem Buchstaben beginnen und darf keine Sonderzeichen (`(, {, #,` etc.) enthalten. Hat man aber einen an sich unerlaubten Variablennamen, so kann man den trotzdem verwenden, *wenn* man ihn mit Backticks (\`) umgibt, also wie in `\(Intercept)\`). Doppelte und einfache Anf√ºhrungsstriche sind in R √ºbrigens beide okay, wenn man etwa einen String (Text) auszeichnen will, aber im Rahmen von Tidyverse nicht n√∂tig f√ºr Variablennamen.



### Pr√§diktoren vorher zentrieren?

FRAGE: Woher wei√ü ich, dass ich die Pr√§diktoren vorher zentrieren muss? Kann man das aus der Aufgabenstellung irgendwie herauslesen? Z.B. wie bei Tutorium Aufgabe 10.1 d). 

ANTWORT: Es gibt mehrere Gr√ºnde, Variablen zu zentrieren, dazu z√§hlen 1) bessere Interpretation des Intercepts, 2) bessere Interpretation von Interaktionseffekten, 3) Verringerung von Kollinearit√§t. Die Steigung (beta 1) ver√§ndert sich (fast immer) aber nicht durch das Zentrieren, ebenso wie R-Quadrat.


### Dichotomisierung

FRAGE: Bei der Bearbeitung der Pr√ºfung heute ist ein Fehler aufgekommen, den ich bis jetzt nicht verstehe. Deshalb war es auch f√ºr mich nicht m√∂glich die Aufgabe zu bearbeiten. Die AV high Aufteilung in die Werte 0 und 1 (0 = AV <= median (AV)) (1 =AV > median(AV) hat geklappt.
Die UV high Aufteilung in die Werte 0 und 1 (0 = UV <= median (UV)) (1 =UV > median(UV) hat dabei aber nicht geklappt.
Anstatt die Werte 0 und 1 bei der neuen UV_high Spalte zu bekommen, kommen nur Nas raus. Auch mit dem Befehl drop_na hat es nicht geklappt. Dies habe ich nicht nur mit dem RStudio auf meinem Computer versucht sondern auch √ºber die Cloud √ºber mein IPad. (Bei beiden Ger√§ten kam es zuvor noch nie zu Problemen) Hier mein R-Code:


```{r}
#| message: false
library(tidyverse)
#library(easystats)
#library(rstanarm)

data("msleep", package = "ggplot2")

msleep1 <-
  msleep |> 
    mutate(av_high = case_when(awake > median(awake) ~ 1,
                               awake <= median(awake) ~ 0))

msleep2 <-
  msleep1 |> 
    mutate(uv_high = case_when(sleep_rem > median(sleep_rem) ~ 1,
                               sleep_rem <= median(sleep_rem) ~ 0))
  
msleep2 |> 
count(uv_high)
```

ANTWORT: Sie haben nicht die fehlenden Werte ausgeschlossen. Wenn Sie die fehlenden Wert ausschlie√üen, dann klappt die Dichotomisierung (die Aufteilung einer metrischen Variablen in eine bin√§re):


```{r}
msleep2 <-
  msleep1 |> 
  drop_na(sleep_rem) |>  # fehlende Werte aus `sleep_rem` entfernen
    mutate(uv_high = case_when(sleep_rem > median(sleep_rem) ~ 1,
                               sleep_rem <= median(sleep_rem) ~ 0))
  
msleep2 |> 
count(uv_high)
```


### Bin ich im Toleranzbereich?

FRAGE: Ich habe meine L√∂sungswege mit Ihren abgeglichen und finde keinen bedeutenden Unterschied. Dennoch erhalte ich andere Ergebnisse, welche nicht im Toleranzbereich liegen. Um das nochmals zu √ºberpr√ºfen, habe ich Ihre L√∂sungswege 1:1 in mein RStudio √ºbertragen, aber auch dann erhalte ich nicht die angegebene L√∂sung. 

ANTWORT: Es sollte ein Modell berechnet werden mit z-transformierten Variablen. F√ºr die UV war der ROPE anzugeben. Leider haben Sie vergessen, die Daten zu z-transformieren.

Hier ist das Modell *ohne* z-Transformation:

```{r}
library(rstanarm)
library(easystats)
library(dplyr)

penguins <- read.csv("https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv")

m1 <- stan_glm(bill_length_mm ~ year, data = penguins, refresh = 0)

rope(m1)
```

Hier ist das Modell *mit* z-Transformation:

```{r}
p2 <- 
  penguins |> 
  select(bill_length_mm, year) |> 
  standardise()

m2 <- stan_glm(bill_length_mm ~ year, data = p2, refresh = 0)

rope(m2)
```


Der Wert von `m2` findet sich in der Musterl√∂sung. Man beachte, dass sich die Rope-Werte von `m1` und `m2` deutlich unterscheiden.


### Andere Ergebnisse trotz gleichen Befehls und `set.seed`?

FRAGE: ich habe bei fast allen Aufgaben, die ich l√∂se, dass Problem, dass mein Ergebnis stark von der L√∂sung abweicht, selbst bei exakt gleichem Code wie in der Musterl√∂sung.
Leider ist die Abweichung so stark, dass ich nicht mal mehr im Toleranzbereich bin.
Teilweise kommen extrem andere Ergebnisse raus. Wie ist dieses Problem zu l√∂sen?
Ich bearbeite die Aufgaben in der R Cloud und habe die Pakete tidyverse, easystats und rstanarm geladen.
Zudem habe ich die Pakete geupdated, sodass ich hier nicht weiter wei√ü.

Meine L√∂sung:


```{r}
#| results: hide
penguins <- read_csv("https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv")

m10.1 <- stan_glm(body_mass_g ~  flipper_length_mm,  # Regressionsgleichung
               data = penguins, #  Daten
               seed = 42,  # Repro.
               refresh = 0)  # nicht so viel Output

parameters(m10.1)
```


![](img/toleranzbereich.png)


ANTWORT: Tats√§chlich ist es so, dass es trotz gleichem Wert bei `set.seed()` Abweichungen nicht ausgeschlossen werden k√∂nnen. 
Hintergrund ist, dass verschiedene Betriebssysteme oder weitere, im Hintergrund involvierte Software in unterschiedlichen Versionen zu Abweichungen f√ºhren k√∂nnen.
In Ihrem Fall ist der Wert aber innerhalb des Toleranzbereichs.
Im Zweifel werden Sie mit einigem Probieren Ihren Wert nach der Pr√ºfung wiederholen k√∂nnen und so ggf. dem Pr√ºfer nachweisen k√∂nnen, das Ihr Ergebnis statthaft, sogar, wenn es nicht im Toleranzbereich w√§re.

Hier ist die von der Studentin angesprochene Musterl√∂sung:

![](img/toleranz2.png)


Und hier ist der Toleranzbereich (vgl. @sec-toleranz) f√ºr den Intercept (Achsenabschnitt):


```{r}
library(prada)
is_in_tolerance(asis = 5774.83,  # Ihr Wert
                tobe = 5787.34917,   # Referenzwert
                tol_rel = .05,   # relative Toleranz
                tol_abs = .05 * sd(penguins$body_mass_g))
```

Wie man sieht, ist `is_in_tolerance` gleich `TRUE`. 

Auch der Punktsch√§tzer f√ºr die UV ist im Toleranzbereich:

```{r}
is_in_tolerance(asis = 49.66,  # Ihr Wert
                tobe = 49.71739,   # Referenzwert
                tol_rel = .05,   # relative Toleranz
                tol_abs = .05 * sd(penguins$body_mass_g))
```


Also alles in Ordnung. Sie brauchen sich keine Sorgen zu machen, die Abweichung ist im Toleranzbereich.



### RStudio Cloud st√ºrzt ab, was tun?

FRAGE: Zudem wollte ich sie gerne noch fragen, wie ich in der Klausur verhindern kann, dass mein R Cloud mir diese Fehlermeldung anzeigt. Diese tritt vermehrt auf, wenn ich einige Minuten nichts in der R Cloud bearbeite. Danach erscheint das Fenster sehr oft nacheinander und es ist teilweise nicht mehr m√∂glich weiterzuarbeiten weil die Meldung immer wieder auftritt.

![](img/rstudio-cloud-crash.png)


ANTWORT: Probieren Sie folgende Ma√ünahmen:

1. Ist der Speicher in RStudio Cloud aufgebraucht? Das kann zu Abst√ºrzen f√ºhren. L√∂schen Sie Objekte und ent-laden Sie R-Pakete, um Speicher freizugeben.

2. Wenn Sie mehr Speicher ben√∂tigen, k√∂nnten Sie (ggf. nur f√ºr einen Monat) ein kostenpflichtiges Abo abschlie√üen, welches mehr Speicher enth√§lt.

3. Verringern Sie die Zeit, in der Sie RStudio Cloud nicht nutzen (die Idle-Time).

4. Versuchen Sie, weniger speicherintensive Berechnungen durchzuf√ºhren.

5. Weichen Sie auf RStudio Desktop aus.


### Welche Themengebiete werden in der Pr√ºfung besonders behandelt?


FRAGE: Welche Themengebiete werden in der Pr√ºfung besonders behandelt?


ANTWORT: In den Pr√ºfungen werden alle Themengebiete abgefragt, die in der Vorlesungbehandelt wurden. Es gibt keine speziellen Schwerpunkte, die besonders behandelt werden. Es ist ratsam, sich auf alle Themengebiete vorzubereiten. Tipp: Schwerpunkte im Unterricht spiegeln sich oft in den Pr√ºfungen wider.


### RStudio in der Pr√ºfung?


FRAGE: Wird R Studio noch eine Rolle spielen, z. B. indem wir Code oder Pseudocode schreiben m√ºssen, oder liegt der Fokus komplett auf Theorie? 

ANTWORT: Bei einer "Papier-und-Kugelschreiber-Klausur" spielt RStudio keine Rolle. Es wird also kein Code geschrieben. Es wird aber durchaus vorkommen, dass Sie in der Klausur R-Code lesen und interpretieren m√ºssen.



### Welche Art von Fragen?

FRAGE: Welche Art von Fragen k√∂nnen wir erwarten? (z. B. Multiple Choice, offene Fragen oder mathematische Herleitungen)


ANTWORT: Die Pr√ºfung wird zu einem gro√üen Teil aus Multiple-Choice-Fragen bestehen. Es wird aber auch offene Fragen geben. Mathematische Herleitungen sind nicht zu erwarten.
Hingegen sind einfache Berechnungen (die mit einem kaufm√§nnischen Taschenrechner durchgef√ºhrt werden k√∂nnen) durchaus m√∂glich.


### Vorbereitung?


FRAGE: Gibt es bestimmte √úbungsaufgaben oder Materialien, die Sie empfehlen, um sich gezielt auf die Theorie-Klausur vorzubereiten?

ATNWORT: [Hier](https://datenwerk.netlify.app/#category=qm2-pruefung) finden Sie eine Sammlung von Fragen, die in einer Probepr√ºfung gestellt wurden. Diese Fragen k√∂nnen Ihnen helfen, sich gezielt auf die Pr√ºfung vorzubereiten.

Dar√ºber hinaus sollten Sie die theoretischen Inhalte des Skripts kennen sowie alle Themen, die im Unterricht behandelt wurden.

Zwar ist es formal kein Bestandteil der Pr√ºfung, die Begleitliteratur zu lesen, aber es kann hilfreich sein, um den Stoff besser zu verstehen.






### L√ºckenlose Vorbereitung?


FRAGE: Ich befinde mich gerade mitten in der Vorbereitung f√ºr meinen Drittversuch des Moduls Quantitative Methoden II neben dem Besuchen der Vorlesungen und √úbungen √ºber das Semester arbeite ich bisher haupts√§chlich mit ihrem Skript und den dort gegebenen Pen and Paper Aufgaben. Wenn ich das Skript durchgearbeitet habe m√∂chte ich mich des weiteren den √úbungsaufgaben und Inhalten von Bourier widmen. Da es sich zeitgleich zum Drittversuch um meine letzte Pr√ºfung vor der Bachelorarbeit handelt m√∂chte ich mich m√∂glichst l√ºckenlos auf die Pr√ºfung vorbereiten, damit keine M√∂glichkeit besteht die Pr√ºfung nicht zu bestehen. Nat√ºrlich k√∂nnen sie keine genauen Inhalte der kommenden Pr√ºfung geben, ich wollte mich trotzdem versichern, dass ich keine Aspekte des Kurses auslasse, die ebenfalls pr√ºfungsrelevant sind. 


ANTWORT: Die Aufgaben im Skript sind am wichtigsten. Dazu sollten die Inhalte, auf die sich die Aufgaben beziehen, gut erarbeitet sein. Dar√ºber hinaus empfiehlt es es sich, sich Varianten zu den eingestellten Aufgaben zu √ºberlegen, z.B. mit anderen Zahlen oder leichten inhaltlichen Variationen. Wichtig ist, die Aufgabe selber zu l√∂sen und sich dann erst die Musterl√∂sung anzuschauen. Viel Erfolg!







<!-- ## Whiteboard -->


<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://applications.zoom.us/integration/wb/embedwhiteboard/home?docId=gqztui_gQRCZ5ky-UJgP6Q&pageId=211862677487616&embedId=1731053440541" allowfullscreen></iframe> -->










## Viel Erfolg bei der Pr√ºfung!


ü•≥üèÜüçÄüçÄüçÄ 






## ---



![](img/outro-05.jpg){width=100%}

