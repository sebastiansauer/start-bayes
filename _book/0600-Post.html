<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Start:Bayes! - 6&nbsp; Die Post befragen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./0800-gauss.html" rel="next">
<link href="./0500-Globusversuch.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0500-Globusversuch.html">Bayes</a></li><li class="breadcrumb-item"><a href="./0600-Post.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Die Post befragen</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Start:Bayes!</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Organisatorisches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Hinweise</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Wahrscheinlichkeit</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0200-Inferenz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0300-Wskt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Wahrscheinlichkeit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400-Verteilungen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Verteilungen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500-Globusversuch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Globusversuch</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0600-Post.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Die Post befragen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Lineare Modelle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0800-gauss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Gauss-Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0900-lineare-modelle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lineare Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1000-metrische-AV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Forschungsfragen mit metrischer AV</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Kausalität</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1100-kausal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Kausalinferenz</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Abschluss</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1200-abschluss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Abschluss</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#lernsteuerung" id="toc-lernsteuerung" class="nav-link active" data-scroll-target="#lernsteuerung"><span class="header-section-number">6.1</span> Lernsteuerung</a>
  <ul class="collapse">
  <li><a href="#position-im-modulverlauf" id="toc-position-im-modulverlauf" class="nav-link" data-scroll-target="#position-im-modulverlauf"><span class="header-section-number">6.1.1</span> Position im Modulverlauf</a></li>
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">6.1.2</span> Lernziele</a></li>
  <li><a href="#vorbereitung-im-eigenstudium" id="toc-vorbereitung-im-eigenstudium" class="nav-link" data-scroll-target="#vorbereitung-im-eigenstudium"><span class="header-section-number">6.1.3</span> Vorbereitung im Eigenstudium</a></li>
  <li><a href="#benötigte-r-pakete" id="toc-benötigte-r-pakete" class="nav-link" data-scroll-target="#benötigte-r-pakete"><span class="header-section-number">6.1.4</span> Benötigte R-Pakete</a></li>
  </ul></li>
  <li><a href="#mit-stichproben-die-post-verteilung-zusammenfassen" id="toc-mit-stichproben-die-post-verteilung-zusammenfassen" class="nav-link" data-scroll-target="#mit-stichproben-die-post-verteilung-zusammenfassen"><span class="header-section-number">6.2</span> Mit Stichproben die Post-Verteilung zusammenfassen</a>
  <ul class="collapse">
  <li><a href="#zur-erinnerung-gitterwerte-in-r-berechnen" id="toc-zur-erinnerung-gitterwerte-in-r-berechnen" class="nav-link" data-scroll-target="#zur-erinnerung-gitterwerte-in-r-berechnen"><span class="header-section-number">6.2.1</span> Zur Erinnerung: Gitterwerte in R berechnen</a></li>
  <li><a href="#bayes-box-automatisiert" id="toc-bayes-box-automatisiert" class="nav-link" data-scroll-target="#bayes-box-automatisiert"><span class="header-section-number">6.2.2</span> Bayes-Box automatisiert</a></li>
  <li><a href="#bayes-box-für-komplexe-modelle" id="toc-bayes-box-für-komplexe-modelle" class="nav-link" data-scroll-target="#bayes-box-für-komplexe-modelle"><span class="header-section-number">6.2.3</span> Bayes-Box für komplexe Modelle</a></li>
  <li><a href="#wir-arbeiten-jetzt-mit-häufigkeit-nicht-mit-wahrscheinlichkeit" id="toc-wir-arbeiten-jetzt-mit-häufigkeit-nicht-mit-wahrscheinlichkeit" class="nav-link" data-scroll-target="#wir-arbeiten-jetzt-mit-häufigkeit-nicht-mit-wahrscheinlichkeit"><span class="header-section-number">6.2.4</span> Wir arbeiten jetzt mit Häufigkeit, nicht mit Wahrscheinlichkeit</a></li>
  <li><a href="#häufigkeiten-sind-einfacher-als-wahrscheinlichkeiten" id="toc-häufigkeiten-sind-einfacher-als-wahrscheinlichkeiten" class="nav-link" data-scroll-target="#häufigkeiten-sind-einfacher-als-wahrscheinlichkeiten"><span class="header-section-number">6.2.5</span> Häufigkeiten sind einfacher als Wahrscheinlichkeiten</a></li>
  <li><a href="#visualisierung-der-stichprobendaten-mit-k100-gitterwerten" id="toc-visualisierung-der-stichprobendaten-mit-k100-gitterwerten" class="nav-link" data-scroll-target="#visualisierung-der-stichprobendaten-mit-k100-gitterwerten"><span class="header-section-number">6.2.6</span> Visualisierung der Stichprobendaten mit <span class="math inline">\(k=100\)</span> Gitterwerten</a></li>
  </ul></li>
  <li><a href="#die-post-verteilung-befragen" id="toc-die-post-verteilung-befragen" class="nav-link" data-scroll-target="#die-post-verteilung-befragen"><span class="header-section-number">6.3</span> Die Post-Verteilung befragen</a>
  <ul class="collapse">
  <li><a href="#fragen-nach-wahrscheinlichkeiten" id="toc-fragen-nach-wahrscheinlichkeiten" class="nav-link" data-scroll-target="#fragen-nach-wahrscheinlichkeiten"><span class="header-section-number">6.3.1</span> Fragen nach Wahrscheinlichkeiten</a></li>
  <li><a href="#fragen-nach-parameterwerten" id="toc-fragen-nach-parameterwerten" class="nav-link" data-scroll-target="#fragen-nach-parameterwerten"><span class="header-section-number">6.3.2</span> Fragen nach Parameterwerten</a></li>
  <li><a href="#zur-erinnerung-quantile" id="toc-zur-erinnerung-quantile" class="nav-link" data-scroll-target="#zur-erinnerung-quantile"><span class="header-section-number">6.3.3</span> Zur Erinnerung: Quantile</a></li>
  <li><a href="#den-quantilen-unter-die-motorhaube-geschaut" id="toc-den-quantilen-unter-die-motorhaube-geschaut" class="nav-link" data-scroll-target="#den-quantilen-unter-die-motorhaube-geschaut"><span class="header-section-number">6.3.4</span> Den Quantilen unter die Motorhaube geschaut</a></li>
  <li><a href="#visualisierung-der-intervalle" id="toc-visualisierung-der-intervalle" class="nav-link" data-scroll-target="#visualisierung-der-intervalle"><span class="header-section-number">6.3.5</span> Visualisierung der Intervalle</a></li>
  </ul></li>
  <li><a href="#schiefe-posteriori-verteilungen-sind-möglich" id="toc-schiefe-posteriori-verteilungen-sind-möglich" class="nav-link" data-scroll-target="#schiefe-posteriori-verteilungen-sind-möglich"><span class="header-section-number">6.4</span> Schiefe Posteriori-Verteilungen sind möglich</a>
  <ul class="collapse">
  <li><a href="#perzentil-intervall" id="toc-perzentil-intervall" class="nav-link" data-scroll-target="#perzentil-intervall"><span class="header-section-number">6.4.1</span> Perzentil-Intervall</a></li>
  <li><a href="#intervalle-höchster-dichte" id="toc-intervalle-höchster-dichte" class="nav-link" data-scroll-target="#intervalle-höchster-dichte"><span class="header-section-number">6.4.2</span> Intervalle höchster Dichte</a></li>
  </ul></li>
  <li><a href="#fazit" id="toc-fazit" class="nav-link" data-scroll-target="#fazit"><span class="header-section-number">6.5</span> Fazit</a>
  <ul class="collapse">
  <li><a href="#intervalle-höchster-dichte-vs.-perzentilintervalle" id="toc-intervalle-höchster-dichte-vs.-perzentilintervalle" class="nav-link" data-scroll-target="#intervalle-höchster-dichte-vs.-perzentilintervalle"><span class="header-section-number">6.5.1</span> Intervalle höchster Dichte vs.&nbsp;Perzentilintervalle</a></li>
  <li><a href="#zusammenfassung" id="toc-zusammenfassung" class="nav-link" data-scroll-target="#zusammenfassung"><span class="header-section-number">6.5.2</span> Zusammenfassung</a></li>
  </ul></li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">6.6</span> Aufgaben</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="header-section-number">6.7</span> —</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Die Post befragen</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/Golem_hex.png" class="img-fluid figure-img" style="width:5.0%"></p>
<figcaption class="figure-caption">Bayes:Start!</figcaption>
</figure>
</div>
<section id="lernsteuerung" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="lernsteuerung"><span class="header-section-number">6.1</span> Lernsteuerung</h2>
<section id="position-im-modulverlauf" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="position-im-modulverlauf"><span class="header-section-number">6.1.1</span> Position im Modulverlauf</h3>
<p><a href="index.html#fig-modulverlauf">Abbildung&nbsp;<span>1.1</span></a> gibt einen Überblick zum aktuellen Standort im Modulverlauf.</p>
</section>
<section id="lernziele" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="lernziele"><span class="header-section-number">6.1.2</span> Lernziele</h3>
<p>Nach Absolvieren des jeweiligen Kapitels sollen folgende Lernziele erreicht sein.</p>
<p>Sie können …</p>
<ul>
<li>die Post-Verteilung anhand einer Stichprobenverteilung auslesen</li>
<li>Fragen nach Wahrscheinlichkeitsanteilen der Post-Verteilung anhand der Stichprobenverteilung beantworten</li>
<li>Fragen nach Quantilen anhand der Stichprobenverteilung beantworten</li>
</ul>
</section>
<section id="vorbereitung-im-eigenstudium" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="vorbereitung-im-eigenstudium"><span class="header-section-number">6.1.3</span> Vorbereitung im Eigenstudium</h3>
<ul>
<li><a href="https://statistik1.netlify.app/030-aufbereiten">Statistik1, Kap. “Daten umformen”</a></li>
<li><a href="https://statistik1.netlify.app/050-zusammenfassen">Statistik1, Kap. “Daten zusammenfassen”</a></li>
</ul>
</section>
<section id="benötigte-r-pakete" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="benötigte-r-pakete"><span class="header-section-number">6.1.4</span> Benötigte R-Pakete</h3>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-2_d79e85c747f93bd60777a8f402632635">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)  <span class="co"># optional</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ### Begleitvideos -->
<!-- - []() -->
</section>
</section>
<section id="mit-stichproben-die-post-verteilung-zusammenfassen" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="mit-stichproben-die-post-verteilung-zusammenfassen"><span class="header-section-number">6.2</span> Mit Stichproben die Post-Verteilung zusammenfassen</h2>
<section id="zur-erinnerung-gitterwerte-in-r-berechnen" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="zur-erinnerung-gitterwerte-in-r-berechnen"><span class="header-section-number">6.2.1</span> Zur Erinnerung: Gitterwerte in R berechnen</h3>
<p>Berechnen wir mit der Gittermethode (“Bayes-Box”) die Postverteilung für den Globusversuch.</p>
<p>Die Gittermethode ist ein Weg, die Posteriori-Verteilung zu berechnen. Die Posteriori-Verteilung birgt viele nützliche Informationen.</p>
<p>Modell: <span class="math inline">\(W=6\)</span> Wasser, <span class="math inline">\(N=9\)</span> Würfen, bei Apriori-Indifferenz gegenüber den Parameterwerten. Und sagen wir <span class="math inline">\(k=11\)</span> Gitterwerten<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, also mit 10 Wasseranteilswerten zwischen 0 und 1.</p>
<div id="exr-globe69" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 6.1 (Welcher Paramterwert hat die höchste Posteriori-Wahrscheinlichkeit?) </strong></span>&nbsp;</p>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Aufgrund der Apriori-Indifferenz entsprechen die Posteriori-Wahrscheinlichkeiten den Likelihoods. Die höchste Wahrscheinlichkeit (d.h. Likelihood) hat derjenige Parameterwert, zu dem die Daten am besten passen, und das ist 6/9 = 2/3. <span class="math inline">\(\square\)</span></p>
</div>
</div>
</div>
</div>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema2-kleineModelle-28_f3595e38f446831d9ef1a827c964915b">
<div class="sourceCode cell-code" id="annotated-cell-2"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-2-1"><a href="#annotated-cell-2-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">11</span></span>
<span id="annotated-cell-2-2"><a href="#annotated-cell-2-2" aria-hidden="true" tabindex="-1"></a>n_success <span class="ot">&lt;-</span> <span class="dv">6</span>          </span>
<span id="annotated-cell-2-3"><a href="#annotated-cell-2-3" aria-hidden="true" tabindex="-1"></a>n_trials  <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1">1</button><span id="annotated-cell-2-4" class="code-annotation-target"><a href="#annotated-cell-2-4" aria-hidden="true" tabindex="-1"></a>p_grid <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">length.out =</span> n)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2">2</button><span id="annotated-cell-2-5" class="code-annotation-target"><a href="#annotated-cell-2-5" aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">dbinom</span>(n_success, <span class="at">size =</span> n_trials, <span class="at">prob =</span> p_grid)</span>
<span id="annotated-cell-2-6"><a href="#annotated-cell-2-6" aria-hidden="true" tabindex="-1"></a></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3">3</button><span id="annotated-cell-2-7" class="code-annotation-target"><a href="#annotated-cell-2-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span></span>
<span id="annotated-cell-2-8"><a href="#annotated-cell-2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">p_grid =</span> p_grid,<span class="at">prior  =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-2-9"><a href="#annotated-cell-2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">likelihood =</span> L) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-2-10"><a href="#annotated-cell-2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unstand_post =</span> (likelihood <span class="sc">*</span> prior),</span>
<span id="annotated-cell-2-11"><a href="#annotated-cell-2-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">post =</span> unstand_post <span class="sc">/</span> <span class="fu">sum</span>(unstand_post))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-annotation="1" data-code-lines="4"><em>Seq</em>uenz von 0 bis 1 mit der Länge n=11 Schritte, das gibt uns die Parameterwerte</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-annotation="2" data-code-lines="5"><em>L</em>ikelihood mit 6 Treffern bei 9 Würfen und das Ganze jeweils für alle 11 Parameterwerte</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-annotation="3" data-code-lines="7">Dann packen wir alles in eine Tabelle.</span>
</dd>
</dl>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Abb. <a href="#fig-post1">Abbildung&nbsp;<span>6.1</span></a> zeigt die resultierende Bayes-Box; vor allem ist die Post-Verteilung wichtig.</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-3_b54f5c2fca29d9d5d2c2afc2e08947f8">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggline</span>(d, <span class="at">x =</span> <span class="st">"p_grid"</span>, <span class="at">y =</span> <span class="st">"post"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="0600-Post_cache/html/fig-post1_3a48aa25e00100fae19f51a5398e9d2a">
<div class="cell-output-display">
<div id="fig-post1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-post1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.1: Die Postverteilung für W=6, N=9, k=10</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Voilà, die Post-Verteilung als Tabelle, auch “Bayes-Box” (oder Bayes-Gitter) genannt: s. <a href="#tbl-post1">Tabelle&nbsp;<span>6.1</span></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/tbl-post1_0a5bf7bc728aab8d9c15e75e990d70b5">
<div class="cell-output-display">
<div id="tbl-post1" class="anchored">

<div id="ikamuphqkq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ikamuphqkq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ikamuphqkq thead, #ikamuphqkq tbody, #ikamuphqkq tfoot, #ikamuphqkq tr, #ikamuphqkq td, #ikamuphqkq th {
  border-style: none;
}

#ikamuphqkq p {
  margin: 0;
  padding: 0;
}

#ikamuphqkq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ikamuphqkq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ikamuphqkq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ikamuphqkq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ikamuphqkq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ikamuphqkq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikamuphqkq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ikamuphqkq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ikamuphqkq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ikamuphqkq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ikamuphqkq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ikamuphqkq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ikamuphqkq .gt_spanner_row {
  border-bottom-style: hidden;
}

#ikamuphqkq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ikamuphqkq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ikamuphqkq .gt_from_md > :first-child {
  margin-top: 0;
}

#ikamuphqkq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ikamuphqkq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ikamuphqkq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ikamuphqkq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ikamuphqkq .gt_row_group_first td {
  border-top-width: 2px;
}

#ikamuphqkq .gt_row_group_first th {
  border-top-width: 2px;
}

#ikamuphqkq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikamuphqkq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ikamuphqkq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ikamuphqkq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikamuphqkq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikamuphqkq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ikamuphqkq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ikamuphqkq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ikamuphqkq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikamuphqkq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ikamuphqkq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikamuphqkq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ikamuphqkq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikamuphqkq .gt_left {
  text-align: left;
}

#ikamuphqkq .gt_center {
  text-align: center;
}

#ikamuphqkq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ikamuphqkq .gt_font_normal {
  font-weight: normal;
}

#ikamuphqkq .gt_font_bold {
  font-weight: bold;
}

#ikamuphqkq .gt_font_italic {
  font-style: italic;
}

#ikamuphqkq .gt_super {
  font-size: 65%;
}

#ikamuphqkq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ikamuphqkq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ikamuphqkq .gt_indent_1 {
  text-indent: 5px;
}

#ikamuphqkq .gt_indent_2 {
  text-indent: 10px;
}

#ikamuphqkq .gt_indent_3 {
  text-indent: 15px;
}

#ikamuphqkq .gt_indent_4 {
  text-indent: 20px;
}

#ikamuphqkq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabelle&nbsp;6.1:  <p>Postverteilung mit der Gittermethode berechnet</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="p_grid">p_grid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="prior">prior</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="likelihood">likelihood</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="unstand_post">unstand_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="post">post</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="p_grid" class="gt_row gt_right">0.00</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.00</td>
<td headers="unstand_post" class="gt_row gt_right">0.00</td>
<td headers="post" class="gt_row gt_right">0.00</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.11</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.00</td>
<td headers="unstand_post" class="gt_row gt_right">0.00</td>
<td headers="post" class="gt_row gt_right">0.00</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.22</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.00</td>
<td headers="unstand_post" class="gt_row gt_right">0.00</td>
<td headers="post" class="gt_row gt_right">0.01</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.33</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.03</td>
<td headers="unstand_post" class="gt_row gt_right">0.03</td>
<td headers="post" class="gt_row gt_right">0.04</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.44</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.11</td>
<td headers="unstand_post" class="gt_row gt_right">0.11</td>
<td headers="post" class="gt_row gt_right">0.12</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.56</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.22</td>
<td headers="unstand_post" class="gt_row gt_right">0.22</td>
<td headers="post" class="gt_row gt_right">0.24</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.67</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.27</td>
<td headers="unstand_post" class="gt_row gt_right">0.27</td>
<td headers="post" class="gt_row gt_right">0.30</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.78</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.20</td>
<td headers="unstand_post" class="gt_row gt_right">0.20</td>
<td headers="post" class="gt_row gt_right">0.23</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.89</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.06</td>
<td headers="unstand_post" class="gt_row gt_right">0.06</td>
<td headers="post" class="gt_row gt_right">0.06</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">1.00</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.00</td>
<td headers="unstand_post" class="gt_row gt_right">0.00</td>
<td headers="post" class="gt_row gt_right">0.00</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="bayes-box-automatisiert" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="bayes-box-automatisiert"><span class="header-section-number">6.2.2</span> Bayes-Box automatisiert</h3>
<p>Übrigens kann man die Berechnung der Bayes-Box auch automatisieren, s. <a href="#tbl-bayes-fun">Tabelle&nbsp;<span>6.2</span></a>, z.B. so:</p>
<div class="cell" data-hash="0600-Post_cache/html/tbl-bayes-fun_ea846b2093a66e85c9b93cb70d6fd0ea">
<div class="sourceCode cell-code" id="annotated-cell-3"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1">1</button><span id="annotated-cell-3-1" class="code-annotation-target"><a href="#annotated-cell-3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"https://raw.githubusercontent.com/sebastiansauer/prada/master/R/NAME_bayesbox.R"</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2">2</button><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bayesbox</span>(<span class="at">hyps =</span> p_grid, <span class="at">priors =</span> <span class="dv">1</span>, <span class="at">liks =</span> L)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-annotation="1" data-code-lines="1">Mit <code>source</code> importiert man eine R-Skriptdatei. In diesem Fall steht dort der Code für die Funktion <code>bayesbox</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-annotation="2" data-code-lines="2">Die Funktion verhält sich wie eine gewöhnliche Bayes-Box: Bei <code>hyps</code> schreibt man die Hypothesen (bzw. Parameterwerte) auf. Bei <code>priors</code> die Priori-Werte und bei <code>liks</code> die Likelihoods der jeweiligen Hypothesn.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="tbl-bayes-fun" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Tabelle&nbsp;6.2:  <p>Eine Bayes-Box ‘automatisiert’ erstellt, mit Hilfe der Fuktion
<code>bayesbox</code></p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["hyps"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["priors"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["liks"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["post_unstand"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["post_std"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.0","2":"1","3":"0.000000000","4":"0.000000000","5":"0.0000000000"},{"1":"0.1","2":"1","3":"0.000061236","4":"0.000061236","5":"0.0000611962"},{"1":"0.2","2":"1","3":"0.002752512","4":"0.002752512","5":"0.0027507229"},{"1":"0.3","2":"1","3":"0.021003948","4":"0.021003948","5":"0.0209902955"},{"1":"0.4","2":"1","3":"0.074317824","4":"0.074317824","5":"0.0742695176"},{"1":"0.5","2":"1","3":"0.164062500","4":"0.164062500","5":"0.1639558598"},{"1":"0.6","2":"1","3":"0.250822656","4":"0.250822656","5":"0.2506596220"},{"1":"0.7","2":"1","3":"0.266827932","4":"0.266827932","5":"0.2666544946"},{"1":"0.8","2":"1","3":"0.176160768","4":"0.176160768","5":"0.1760462640"},{"1":"0.9","2":"1","3":"0.044641044","4":"0.044641044","5":"0.0446120274"},{"1":"1.0","2":"1","3":"0.000000000","4":"0.000000000","5":"0.0000000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<!-- ```{r QM2-Thema3-Post-befragen-2} -->
<!-- #| echo: false -->
<!-- #| eval: false -->
<!-- d %>%  -->
<!--   head() %>%  -->
<!--   gt::gt() %>%  -->
<!--   #fmt_number(columns = 3, decimals = 3) %>%  -->
<!--   gt::fmt_scientific(columns = c(1,3, 4,5), -->
<!--              decimals = 0) %>%  -->
<!--   gt::tab_header(gt::md("Tabelle *d* mit Daten zur Posteriori-Verteilung")) -->
<!-- ``` -->
<p>Viele nützliche Fragen (und Antworten) leiten sich ab aus Abb. <a href="#fig-post1">Abbildung&nbsp;<span>6.1</span></a>.</p>
<div id="exm-post" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 6.1 (Beispiele für Fragen an die Post-Verteilung) </strong></span>&nbsp;</p>
<ul>
<li>Mit welcher Wahrscheinlichkeit liegt der Parameter unter einem bestimmten Wert?</li>
<li>Mit welcher Wahrscheinlichkeit liegt der Parameter zwischen zwei bestimmten Werten?</li>
<li>Mit 5% Wahrscheinlichkeit liegt der Parameterwert nicht unter welchem Wert?</li>
<li>Welcher Parameterwert hat die höchste Wahrscheinlichkeit?</li>
<li>Wie ungewiss ist das Modell über die Parameterwerte?</li>
</ul>
<p>etc. <span class="math inline">\(\square\)</span></p>
</div>
<p>Solche Fragen kann man in zwei Gruppen aufteilen:</p>
<ol type="1">
<li>Fragen zu Parametern</li>
<li>Fragen zu Wahrscheinlichkeiten</li>
</ol>
</section>
<section id="bayes-box-für-komplexe-modelle" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="bayes-box-für-komplexe-modelle"><span class="header-section-number">6.2.3</span> Bayes-Box für komplexe Modelle</h3>
<p>Bisher, für einfache Fragestellungen hat unsere Bayes-Box, das heißt die Gittermethode bestens funktioniert: einfach, robust, formschön<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. Allerdings: Funktioniert sie auch bei komplexeren Modellen? Schließlich wollen wir ja auch irgendwann Regressionsmodelle berechnen. Angenommen, wir haben ein Regressionsmodell mit 1 Prädiktor, dann haben wir folgende drei Größen<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> zu schätzen: <span class="math inline">\(\beta_0, \beta_1, \sigma\)</span>. Hört sich gar nicht so viel an. Aber Moment, wir müssten dann z.B. die Frage beantworten, wie wahrscheinlich die Daten aposteriori sind, wenn z.B. <span class="math inline">\(\beta_0 = -3.14\)</span> und <span class="math inline">\(\beta_1 = 2.71\)</span> und <span class="math inline">\(\sigma = 0.70\)</span>. Demnach müssen wir alle Ausprägungen (“Gitterwerte”) der Variablen multiplizieren. Puh, das wird eine große Zahl. Wenn wir für die drei Größen jeweils 10 Ausprägungen annehmen, was wenig ist, kämen wir <span class="math inline">\(10\cdot10\cdot10= 1000=10^3\)</span> Kombinationen. Bei 100 Ausprägungen wären es schon <span class="math inline">\(100^3=10^6\)</span> Kombinationen. Das wäre doch eine recht lange Tabelle.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>Bei einer multiplen Regression mit sagen wir 10 Prädiktoren mit jeweils 100 Ausprägungen rechnet das arme R bis zum jüngsten Tag: <span class="math inline">\(10^{100}\)</span>.</p>
<blockquote class="blockquote">
<p>🤖 Bitte tue mir das nicht an! 👨‍🏫 Schon gut, das können wir R nicht zumuten. Wir brauchen eine andere Lösung!</p>
</blockquote>
</section>
<section id="wir-arbeiten-jetzt-mit-häufigkeit-nicht-mit-wahrscheinlichkeit" class="level3" data-number="6.2.4">
<h3 data-number="6.2.4" class="anchored" data-anchor-id="wir-arbeiten-jetzt-mit-häufigkeit-nicht-mit-wahrscheinlichkeit"><span class="header-section-number">6.2.4</span> Wir arbeiten jetzt mit Häufigkeit, nicht mit Wahrscheinlichkeit</h3>
<p>Kurz gesagt: Komplexere Bayes-Modelle können nicht mehr “einfach mal eben” ausgerechnet werden; die Mathematik wird zu umfangreich bzw. zu komplex. Glücklicherweiße gibt es einen Trick, der die Sache nicht nur rechnerisch, sondern auch konzeptionell viel einfacher macht. Dieser Trick lautet: Wir arbeiten nicht mehr mit Wahrscheinlichkeiten, sondern mit <em>Häufigkeiten.</em> Praktischerweise werden wir in Kürze einen R-Golem kennenlernen, der das für uns erledigt. Dieser Golem liefert uns Stichproben aus der Post-Verteilung zurück. Lernen wir jetzt also, wie man mit solchen Stichproben umgeht.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die Post-Verteilung mit Häufigkeiten (d.h. in <em>Stichprobenform</em>) ist viel einfach zu handhaben als das direkte Arbeiten mit Wahrscheinlichkeiten. Daher sind viele R-Funktionen für Bayes auf Stichproben eingestellt.</p>
</div>
</div>
<p>Die Bayes-Box-Methode<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> ist bei größeren Datensätzen (oder größeren Modellen) zu unpraktisch. In der Praxis werden daher andere, schnellere Verfahren verwendet, sog. Monte-Carlo-Markov-Ketten (MCMC). Wie diese Verfahren funktionieren sind aber nicht mehr Gegenstand dieses Kurses. Wir wenden Sie einfach an, freuen uns und lassen es damit gut sein<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
</section>
<section id="häufigkeiten-sind-einfacher-als-wahrscheinlichkeiten" class="level3" data-number="6.2.5">
<h3 data-number="6.2.5" class="anchored" data-anchor-id="häufigkeiten-sind-einfacher-als-wahrscheinlichkeiten"><span class="header-section-number">6.2.5</span> Häufigkeiten sind einfacher als Wahrscheinlichkeiten</h3>
<p>Wie gesagt, typische R-Werkzeuge (“R-Golems”) liefern uns die Post-Verteilung in Stichprobenform zurück. Bevor wir uns aber mit diesen R-Werkzeugen beschäftigen, sollten wir uns vertraut machen mit einer Post-Verteilung in Stichprobenform. Erstellen wir uns also einen Tabelle mit Stichprobendaten aus der Posteriori-Verteilung (Tabelle <code>d</code>), s. <a href="#lst-post-sample">Listing&nbsp;<span>6.1</span></a>.</p>
<div id="lst-post-sample" class="listing">
<p>Listing&nbsp;6.1: Wir stellen eine Tabelle mit Stichproben aus der Post-Verteilung</p>
<div class="sourceCode" id="lst-post-sample" data-lst-cap="Wir stellen eine Tabelle mit Stichproben aus der Post-Verteilung"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="lst-post-sample-1"><a href="#lst-post-sample-1" aria-hidden="true" tabindex="-1"></a>samples <span class="ot">&lt;-</span></span>
<span id="lst-post-sample-2"><a href="#lst-post-sample-2" aria-hidden="true" tabindex="-1"></a>  d <span class="sc">%&gt;%</span>  <span class="co"># nimmt die Tabelle mit Posteriori-Daten,</span></span>
<span id="lst-post-sample-3"><a href="#lst-post-sample-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(  <span class="co"># Ziehe daraus eine Stichprobe,</span></span>
<span id="lst-post-sample-4"><a href="#lst-post-sample-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fl">1e4</span>,  <span class="co"># mit insgesamt n=10000 Zeilen,</span></span>
<span id="lst-post-sample-5"><a href="#lst-post-sample-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_by =</span> post,  <span class="co"># Gewichte nach Post-Wskt.,</span></span>
<span id="lst-post-sample-6"><a href="#lst-post-sample-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> T)  <span class="sc">%&gt;%</span>  <span class="co"># Ziehe mit Zurücklegen</span></span>
<span id="lst-post-sample-7"><a href="#lst-post-sample-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(p_grid)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Wahrscheinlichkeit, einen bestimmten Parameterwert (d.h. aus der Spalte <code>p_grid</code>) aus Tabelle <code>d</code> zu ziehen, ist proportional zur Posteriori-Wahrscheinlichkeit (<code>post</code>) dieses Werts. Ziehen mit Zurücklegen hält die Wahrscheinlichkeiten während des Ziehens konstant. Das Argument <code>weight_by</code> legt die Wahrscheinlichkeit fest, mit der eine Zeile gezogen wird. Wir begnügen uns mit der Spalte mit den Wasseranteilswerten (Parameterwerten), <code>p_grid</code>, die anderen Spalten brauchen wir nicht. Das Ergebnis, Tabelle <code>samples</code>, die aus Stichproben aus der Post-Verteilung besteht, ist (in Auszügen) in <a href="#tbl-postsample1">Tabelle&nbsp;<span>6.3</span></a> dargestellt.</p>
<p>Wenn Sie jetzt denken: “Warum machen wir das jetzt? Brauchen wir doch gar nicht!” - Dann haben Sie Recht. Künftig werden wir aber, wenn wir mit komplexeren Modellen zu tun haben, nur noch mit Post-Verteilungen auf Stichprobenbasis arbeiten, weil es damit viel einfacher ist.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><a href="#tbl-postsample1">Tabelle&nbsp;<span>6.3</span></a> zeigt die ersten Zeilen der Stichproben aus der Post-Verteilung.</p>
<div class="cell" data-hash="0600-Post_cache/html/tbl-postsample1_fe86d2f8e4d7350a9a29033589b5060c">
<div class="cell-output-display">
<div id="tbl-postsample1" class="anchored">

<div id="quusapkwuq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#quusapkwuq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#quusapkwuq thead, #quusapkwuq tbody, #quusapkwuq tfoot, #quusapkwuq tr, #quusapkwuq td, #quusapkwuq th {
  border-style: none;
}

#quusapkwuq p {
  margin: 0;
  padding: 0;
}

#quusapkwuq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#quusapkwuq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#quusapkwuq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#quusapkwuq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#quusapkwuq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#quusapkwuq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#quusapkwuq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#quusapkwuq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#quusapkwuq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#quusapkwuq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#quusapkwuq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#quusapkwuq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#quusapkwuq .gt_spanner_row {
  border-bottom-style: hidden;
}

#quusapkwuq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#quusapkwuq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#quusapkwuq .gt_from_md > :first-child {
  margin-top: 0;
}

#quusapkwuq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#quusapkwuq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#quusapkwuq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#quusapkwuq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#quusapkwuq .gt_row_group_first td {
  border-top-width: 2px;
}

#quusapkwuq .gt_row_group_first th {
  border-top-width: 2px;
}

#quusapkwuq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#quusapkwuq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#quusapkwuq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#quusapkwuq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#quusapkwuq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#quusapkwuq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#quusapkwuq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#quusapkwuq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#quusapkwuq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#quusapkwuq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#quusapkwuq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#quusapkwuq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#quusapkwuq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#quusapkwuq .gt_left {
  text-align: left;
}

#quusapkwuq .gt_center {
  text-align: center;
}

#quusapkwuq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#quusapkwuq .gt_font_normal {
  font-weight: normal;
}

#quusapkwuq .gt_font_bold {
  font-weight: bold;
}

#quusapkwuq .gt_font_italic {
  font-style: italic;
}

#quusapkwuq .gt_super {
  font-size: 65%;
}

#quusapkwuq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#quusapkwuq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#quusapkwuq .gt_indent_1 {
  text-indent: 5px;
}

#quusapkwuq .gt_indent_2 {
  text-indent: 10px;
}

#quusapkwuq .gt_indent_3 {
  text-indent: 15px;
}

#quusapkwuq .gt_indent_4 {
  text-indent: 20px;
}

#quusapkwuq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabelle&nbsp;6.3:  <p>Post-Verteilung</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="p_grid">p_grid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="p_grid" class="gt_row gt_right">0.667</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.778</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.556</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.556</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.556</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Hier erstmal die ersten 100 gesampelten Gitterwerte (<code>p_grid</code>):</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Teil1-2_fcf93c2c880a31f1ed4cd357188ab119">
<pre><code>##   [1] 0.67 0.78 0.56 0.56 0.56 0.67 0.44 0.56 0.78 0.67 0.78 0.67 0.67 0.56 0.78
##  [16] 0.67 0.78 0.67 0.67 0.67 0.56 0.56 0.44 0.67 0.56 0.44 0.67 0.78 0.67 0.67
##  [31] 0.56 0.44 0.89 0.56 0.67 0.67 0.67 0.56 0.56 0.67 0.67 0.67 0.67 0.44 0.78
##  [46] 0.44 0.56 0.56 0.67 0.44 0.67 0.67 0.89 0.78 0.44 0.56 0.67 0.56 0.89 0.67
##  [61] 0.56 0.78 0.44 0.78 0.78 0.78 0.67 0.78 0.56 0.67 0.67 0.78 0.67 0.78 0.78
##  [76] 0.78 0.56 0.67 0.67 0.44 0.56 0.67 0.56 0.67 0.44 0.56 0.78 0.67 0.56 0.56
##  [91] 0.67 0.78 0.78 0.67 0.56 0.44 0.56 0.89 0.78 0.78</code></pre>
</div>
</div>
</div>
<p>Wie sieht diese Tabelle wohl als Histogramm<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> aus?</p>
<p>So sieht die Post-Verteilung auf Basis von Stichproben dann aus, s. <a href="#fig-samples1">Abbildung&nbsp;<span>6.2</span></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/fig-samples1_fc508ca3598195ee75e760cb995f3268">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbarplot</span>(<span class="at">x =</span> <span class="st">"p_grid"</span>, <span class="at">y =</span> <span class="st">"n"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-samples1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-samples1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.2: Stichprobenverteilung auf Basis von Stichproben</figcaption>
</figure>
</div>
</div>
</div>
<p>Aus <a href="#fig-samples1">Abbildung&nbsp;<span>6.2</span></a> können wir einfach auslesen, wie wahrscheinlich gewisse Parameterwerte sind. So sehen wir, dass das Modell Parameterwerte (Wasseranteil, <span class="math inline">\(\pi\)</span>) zwischen ca. 50% und 70% für am wahrscheinlichsten hält. Aber auch kleine Anteile wie 25% sind nicht auszuschließen (auf Basis der Daten und der Modellannahmen).</p>
<p>Vergleichen Sie <a href="#fig-samples1">Abbildung&nbsp;<span>6.2</span></a> mit <a href="0500-Globusversuch.html#fig-gitter">Abbildung&nbsp;<span>5.10</span></a>: beide sind sehr ähnlich! Das Stichprobenziehen (<a href="#fig-samples1">Abbildung&nbsp;<span>6.2</span></a>) nähert sich recht gut an die exakte Berechnung an (<a href="0500-Globusversuch.html#fig-gitter">Abbildung&nbsp;<span>5.10</span></a>).</p>
</section>
<section id="visualisierung-der-stichprobendaten-mit-k100-gitterwerten" class="level3" data-number="6.2.6">
<h3 data-number="6.2.6" class="anchored" data-anchor-id="visualisierung-der-stichprobendaten-mit-k100-gitterwerten"><span class="header-section-number">6.2.6</span> Visualisierung der Stichprobendaten mit <span class="math inline">\(k=100\)</span> Gitterwerten</h3>
<p><span class="math inline">\(k=10\)</span> Gitterwerte ist ein grobes Raster. Drehen wir mal die Auflösung auf <span class="math inline">\(k=100\)</span> Gitterwerte (Ausprägungen) nach oben.</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema2-kleineModelle-28a_b282863664f5cf097a8155fdafc8cb1a">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>n_success <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>n_trials  <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>d_k100 <span class="ot">&lt;-</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">p_grid =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">to =</span> <span class="dv">1</span>, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">length.out =</span> k),  <span class="co"># 100 Gitterwerte</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">prior  =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">likelihood =</span> <span class="fu">dbinom</span>(n_success, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">size =</span> n_trials, </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                             <span class="at">prob =</span> p_grid)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unstand_post =</span> (likelihood <span class="sc">*</span> prior),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">post =</span> unstand_post <span class="sc">/</span> <span class="fu">sum</span>(unstand_post))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(d_k100\)</span> ist eine Bayes-Box mit <span class="math inline">\(W=6, N=9, k=100\)</span>.</p>
<p>Und daraus ziehen wir uns <span class="math inline">\(n=1000\)</span> Stichproben:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Teil1-4_c6c67cd4556815d0cd4db5164eeafaf1">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>samples_k100 <span class="ot">&lt;-</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  d_k100 <span class="sc">%&gt;%</span>  <span class="co"># nimmt die Tabelle mit Posteriori-Daten,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(  <span class="co"># Ziehe daraus eine Stichprobe,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="dv">1000</span>,  <span class="co"># mit insgesamt n=1000 Elementen,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_by =</span> post,  <span class="co"># Gewichte nach Spalte mit Post-Wskt.,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> T)  <span class="co"># Ziehe mit Zurücklegen</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="#fig-post100">Abbildung&nbsp;<span>6.3</span></a> zeigt sowohl die exakte Post-Verteilung als auch die Post-Verteilung auf Basis von Stichproben. Im mittleren Teildiagramm sind die Stichproben einzeln als Kreis dargestellt. Im rechten Teildiagramm sind die gleichen Daten als Dichtediagramm dargestellt. In allen Fällen erkennt man gut die zentrale Tendenz: ein Wasseranteil von 70% scheint der “typische” Wert des Modells zu sein. Außerdem erkennt man, dass das Modell durchaus einige Streuung in der Schätzung des Wasseranteils bereithält. Das Modell ist sich nicht sehr sicher, könnte man sagen.</p>
<div class="cell" data-hash="0600-Post_cache/html/fig-post100_b750ad88b3c3a33e96d4c6d5c17623b6">
<div class="cell-output-display">
<div id="fig-post100" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-post100-1.png" class="img-fluid figure-img" width="9"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.3: Post-Verteilung mit 100 Gitterwerten, exakt vs.&nbsp;auf Basis von Stichproben</figcaption>
</figure>
</div>
</div>
</div>
<p>Die Stichprobendaten nähern sich der “echten” Posteriori-Verteilung an: Die Stichproben-Post-Verteilung hat jetzt “glattere” Ränder.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Mehr Stichproben und mehr Gitterwerte glätten die Verteilung.</p>
</div>
</div>
<p>Jetzt noch mal mit mehr Stichproben: <span class="math inline">\(n=10^6\)</span> Stichproben bei <span class="math inline">\(k=100\)</span> Gitterwerten aus der Posteriori-Verteilung, s. <a href="#fig-post-dk100">Abbildung&nbsp;<span>6.4</span></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/fig-post-dk100_0086d0b4504c40631a78089804c6e7b3">
<div class="cell-output-display">
<div id="fig-post-dk100" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-post-dk100-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.4: Post-Verteilung mit vielen Stichproben und vielen Parameterwerten (Gitterwerten): schön ‘glatt’. Mittelwert (MW), Modus und Median (Md) liegen eng nebeneinander, da die Verteilung recht symmetrisch ist.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="die-post-verteilung-befragen" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="die-post-verteilung-befragen"><span class="header-section-number">6.3</span> Die Post-Verteilung befragen</h2>
<p>So, jetzt befragen wir die Post-Verteilung.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die Post-Verteilung ist das zentrale Ergebnis einer Bayes-Analyse. Wir können viele nützliche Fragen an sie stellen.</p>
</div>
</div>
<p>Es gibt zwei Arten von Fragen:</p>
<ol type="1">
<li>nach Wahrscheinlichkeiten (p)</li>
<li>nach Parameterwerten (Quantilen, q)</li>
</ol>
<p>Der Unterschied zwischen beiden Arten von Fragen ist in <a href="#fig-p-vs-q">Abbildung&nbsp;<span>6.5</span></a> illustriert.</p>
<div id="fig-p-vs-q" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/p-vs-q.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.5: Fragen nach p vs.&nbsp;Fragen nach q</figcaption>
</figure>
</div>
<p>Im linken Teildiagramm von <a href="#fig-p-vs-q">Abbildung&nbsp;<span>6.5</span></a> fragen wir: “Wie wahrscheinlich ist ein Wasseranteil von höchstens 80%?”. Im rechten Teildiagramm fragen wir: “Welcher Wasseranteil wird mit einer Wahrscheinlichkeit von 78% nicht überschritten?”.</p>
<section id="fragen-nach-wahrscheinlichkeiten" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="fragen-nach-wahrscheinlichkeiten"><span class="header-section-number">6.3.1</span> Fragen nach Wahrscheinlichkeiten</h3>
<p>Sagen wir, dass sei unsere Forschungsfrage: <em>Wie groß ist die Wahrscheinlichkeit, dass der Wasseranteil unter 50% liegt?</em> Um diese Frage zu beantworten, zählen wir einfach, wie viele Stichproben die Bedingung erfüllen, und summieren die Wahrscheinlichkeiten dieser Stichproben. Wir zählen (<code>count</code>) also die Stichproben, die sich für einen Wasseranteil (<code>p_grid</code>) von weniger als 50% aussprechen:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-7_4d7e5f2d1cee036705c9045f5fb87af9">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid <span class="sc">&lt;</span> .<span class="dv">5</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Da wir insgesamt 10000 (1e4) Stichproben gezogen haben, können wir noch durch diese Zahl teilen, um einen Anteil zu bekommen. Dieser Anteil ist die Antwort auf die Forschungsfrage: Wie Wahrscheinlichkeit (laut Modell) für einen Wasseranteil kleiner als 50%.</p>
<div id="exm-count" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 6.2 (Was macht die Funktion <code>count</code>?) </strong></span>Der Befehl <code>count</code> macht Folgendes: Er gruppiert die Stichprobe nach dem Prüfkriterium, Wasseranteil höchstens 50%. Dann zählt er in jeder der beiden Teiltabelle die Zeilen und liefert diese zwei Zahlen dann zurück. <span class="math inline">\(\square\)</span></p>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-5_6d522354436b826981b01f5e28cf35ee">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid <span class="sc">&lt;</span> .<span class="dv">5</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["p_grid < 0.5"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"8329"},{"1":"TRUE","2":"1671"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Man könnte also alternativ auch schreiben:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-6_25e51c6fd98f850211a9ce6ba77b2e72">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(p_grid <span class="sc">&lt;</span> .<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum =</span> <span class="fu">sum</span>(post))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.16653</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="exm-param2" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 6.3 (Wasseranteil zwischen 50 und 75%?) </strong></span>Noch eine Forschungsfrage: <em>Mit welcher Wahrscheinlichkeit liegt der Parameter (Wasseranteil) zwischen 0.5 und 0.75?</em></p>
<p>Wir zählen die Stichrpoben, die diesen Kriterien entsprechen:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-8_909ccef1f9d6d301aceecad9145cfcf5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid <span class="sc">&gt;</span> .<span class="dv">5</span> <span class="sc">&amp;</span> p_grid <span class="sc">&lt;</span> .<span class="dv">75</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">p_grid &gt; 0.5 &amp; p_grid &lt; 0.75</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4607</td>
</tr>
<tr class="even">
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">5393</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>🤖 Ich würde empfehlen, die Anzahl noch in Anteile umzurechnen. Die kann man dann als Wahrscheinlichkeiten auffassen. 👨‍🏫 Das wollte ich auch gerade sagen…</p>
</blockquote>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-8a_78ac1f231dd8cf6709da33157036a129">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid <span class="sc">&gt;</span> .<span class="dv">5</span> <span class="sc">&amp;</span> p_grid <span class="sc">&lt;</span> .<span class="dv">75</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Anteil =</span> n <span class="sc">/</span> <span class="fl">1e4</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Prozent =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fl">1e4</span>)  <span class="co"># In Prozent</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Anteil</th>
<th style="text-align: right;">Prozent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.4607</td>
<td style="text-align: right;">46.07</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.5393</td>
<td style="text-align: right;">53.93</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Anteile von <code>count()</code> könnte man, wenn man möchte, auch <code>filter()</code> verwenden:</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-6_ca64644b9c522bc837b3dc7f3613b07c">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(p_grid <span class="sc">&gt;</span> .<span class="dv">5</span> <span class="sc">&amp;</span> p_grid <span class="sc">&lt;</span> .<span class="dv">75</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum     =</span>       <span class="fu">n</span>() <span class="sc">/</span> <span class="fl">1e4</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">anteil =</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">n</span>() <span class="sc">/</span> <span class="fl">1e4</span>)  <span class="co"># In Prozent</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["sum"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["anteil"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.5393","2":"53.93"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Fertig 😄 <span class="math inline">\(\square\)</span></p>
</div>
<div id="exm-param3" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 6.4 (Wasseranteil zwischen 90 und 100%?) </strong></span>Noch ein Beispiel für eine Forschungsfrage: <em>Mit welcher Wahrscheinlichkeit liegt der Parameter zwischen 0.9 und 1</em>?</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-9_009a50ad4e6f875f0faab449d54f86cb">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(p_grid <span class="sc">&gt;=</span> .<span class="dv">9</span> <span class="sc">&amp;</span> p_grid <span class="sc">&lt;=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">prop =</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">n</span>() <span class="sc">/</span> <span class="fl">1e4</span>)  <span class="co"># prop wie "proportion", Anteil</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.01</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Laut unserem Modell ist es also sehr unwahrscheinlich, dass der Wasseranteil der Erde mind. 90% beträgt. <span class="math inline">\(\square\)</span></p>
</div>
<p>Wir können auch fragen, welcher Parameterwert am wahrscheinlichsten ist; dieser Wert entspricht dem “Gipfel” des Berges, s. <a href="#fig-post-dk100">Abbildung&nbsp;<span>6.4</span></a>.</p>
<p>Für unsere Stichproben-Postverteilung, <code>samples</code>, s. <a href="#fig-samples1">Abbildung&nbsp;<span>6.2</span></a>, lässt sich der Modus so berechnen:</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-7_de6fcda8696c4ef985952f422fe4467e">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_estimate</span>(samples<span class="sc">$</span>p_grid)  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="do">## MAP Estimate: 0.67</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dabei steht <code>map</code> für <a href="https://easystats.github.io/bayestestR/reference/map_estimate.html">Maximum Aposteriori</a>, also das Maximum der Post-Verteilung.</p>
<p>Bei der Gelegenheit könnten wir folgende, ähnliche Fragen stellen:</p>
<ul>
<li>Was ist der mittlere Schätzwert (Mittelwert) zum Wasseranteil laut Post-Verteilung?</li>
<li>Was ist der mediane Schätzwert (Median)?</li>
</ul>
<p>Auf Errisch:</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-8_743c14343efeb39842439cfa63b24b6b">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">mean</span>(p_grid),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">median</span>(p_grid))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mean(p_grid)"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["median(p_grid)"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.6375444","2":"0.6666667"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="fragen-nach-parameterwerten" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="fragen-nach-parameterwerten"><span class="header-section-number">6.3.2</span> Fragen nach Parameterwerten</h3>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Schätzbereiche von Parameterwerten nennt man auch <em>Konfidenz- oder Vertrauensintervall</em><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>.</p>
</div>
</div>
<p>Welcher Parameterwert wird mit 90% Wahrscheinlichkeit nicht überschritten, laut unserem Modell? (Gesucht sind also die unteren 90% der Posteriori-Wahrscheinlichkeit) Wir möchten also ziemlich sicher, was die Obergrenze an Wasser auf diesem Planeten ist<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-11_f19d573ee0ac9f45938d7bfc8619af30">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">quantil90 =</span> <span class="fu">quantile</span>(p_grid, <span class="at">p =</span> .<span class="dv">9</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">quantil90</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.7777778</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Laut unserem Modell können wir zu 90% sicher sein, dass der Wasseranteil kleiner ist als ca. 78%.</p>
<p>Es hilft vielleicht, sich die Post-Verteilung noch einmal vor Augen zu führen, s. <span class="quarto-unresolved-ref">?fig-post99</span>.</p>
<!-- ```{r} -->
<!-- #| label: fig-post99 -->
<!-- #| fig-cap: Die Post-Verteilung im Globusversuch -->
<!-- #| fig-asp: .5 -->
<!-- #| out-width: "50%" -->
<!-- samples %>%  -->
<!--   ggplot(aes(x = p_grid)) + -->
<!--   geom_bar() -->
<!-- ``` -->
<p>Was ist das <em>mittlere</em> Intervall, das mit 90% Wahrscheinlichkeit den Parameterwert enthält, laut dem Modell?</p>
<p>Dafür “schneiden” wir links und rechts die 5% der Stichproben mit den extremsten Werten ab und schauen, bei welchen Parameterwerten wir als Grenzwerte landen:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-12_afeeda69b6616b088128445a1698c519">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">quant_05 =</span> <span class="fu">quantile</span>(p_grid, <span class="fl">0.05</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">quant_95 =</span> <span class="fu">quantile</span>(p_grid, <span class="fl">0.95</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">quant_05</th>
<th style="text-align: right;">quant_95</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.4444444</td>
<td style="text-align: right;">0.8888889</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Solche Fragen lassen sich also mit Hilfe von <em>Quantilen</em> beantworten.</p>
</section>
<section id="zur-erinnerung-quantile" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="zur-erinnerung-quantile"><span class="header-section-number">6.3.3</span> Zur Erinnerung: Quantile</h3>
<p>Beispiel: Wie groß sind die Studentis (<a href="https://rdrr.io/cran/openintro/man/speed_gender_height.html">Quelle des Datensatzes</a>)?</p>
<p>Das Quantil von z.B. 25% zeigt die Körpergröße der 25% kleinsten Studentis an, analog für 50%, 75%, in Inches<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>:</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Teil1-5_fb18f48a1a63e1675673ad415c5b9849">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>speed_gender_height <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/rpruim/OpenIntro/master/data/speed_gender_height.csv"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>height_summary <span class="ot">&lt;-</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  speed_gender_height <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">height_cm =</span> height<span class="sc">*</span><span class="fl">2.54</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">height_inch =</span> height, height_cm) <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Einheit"</span>, <span class="at">values_to =</span> <span class="st">"Messwert"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Einheit) <span class="sc">%&gt;%</span> </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">q25 =</span> <span class="fu">quantile</span>(Messwert, <span class="at">prob =</span> .<span class="dv">25</span>),</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">q50 =</span> <span class="fu">quantile</span>(Messwert, <span class="at">prob =</span> .<span class="dv">5</span>),</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">q75 =</span> <span class="fu">quantile</span>(Messwert, <span class="at">prob =</span> .<span class="dv">75</span>))</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>height_summary</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Einheit</th>
<th style="text-align: right;">q25</th>
<th style="text-align: right;">q50</th>
<th style="text-align: right;">q75</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">height_cm</td>
<td style="text-align: right;">160.02</td>
<td style="text-align: right;">167.64</td>
<td style="text-align: right;">175.26</td>
</tr>
<tr class="even">
<td style="text-align: left;">height_inch</td>
<td style="text-align: right;">63.00</td>
<td style="text-align: right;">66.00</td>
<td style="text-align: right;">69.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Das 25%-Quantil nennt man auch 1. Quartil; das 50%-Quantil (Median) auch 2. Quartil und das 75%-Quantil auch 3. Quartil.</p>
<p><a href="#fig-stud-height">Abbildung&nbsp;<span>6.6</span></a> visualisiert die Quantile und die Häufigkeitsverteilung.</p>
<div class="cell" data-hash="0600-Post_cache/html/fig-stud-height_97bea6dc35e92ff279314bcaa94e0c61">
<div class="cell-output-display">
<div id="fig-stud-height" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-stud-height-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.6: Größenverteilung von 1325 amerikanischen Studentis</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="den-quantilen-unter-die-motorhaube-geschaut" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="den-quantilen-unter-die-motorhaube-geschaut"><span class="header-section-number">6.3.4</span> Den Quantilen unter die Motorhaube geschaut</h3>
<p>Den R-Befehl <code>quantile()</code> kann man sich, wenn man will, einfach nachbauen und entmystifizieren.</p>
<p>Angenommen, wir wollen wissen, welcher Wasseranteil mit 90% Wahrscheinlichkeit nicht überschritten wird. Das können wir mit im Datensatz <code>samples</code> so erreichen.</p>
<ol type="1">
<li>Sortiere die Stichproben aufsteigend.</li>
<li>Schneide die oberen 10% (von 10000) ab (entferne sie).</li>
<li>Schaue, was der größte verbleibende Wert ist.</li>
</ol>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-9_3c4aba0b368581b5ef5c2b6ec7639836">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(p_grid) <span class="sc">%&gt;%</span>   <span class="co"># sortiere</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">9000</span>) <span class="sc">%&gt;%</span>  <span class="co"># nur die ersten 90000</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">p90 =</span> <span class="fu">max</span>(p_grid))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["p90"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.7777778"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Das (annähernd) gleiche Ergebnis liefert <code>quantile()</code>:</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-10_f587ff9271ca5af1e7ae17fe2b6af083">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">q90 =</span> <span class="fu">quantile</span>(p_grid, .<span class="dv">9</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["q90"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.7777778"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="visualisierung-der-intervalle" class="level3" data-number="6.3.5">
<h3 data-number="6.3.5" class="anchored" data-anchor-id="visualisierung-der-intervalle"><span class="header-section-number">6.3.5</span> Visualisierung der Intervalle</h3>
<div id="def-eti" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 6.1 (Perzentilintervall (PI)) </strong></span>Intervalle (Bereiche), die die “abzuschneidende” Wahrscheinlichkeitsmasse hälftig auf die beiden Ränder aufteilen, nennen wir <em>Perzentilintervalle</em> oder (synonym) <em>Equal-Tails-Intervalle</em> (ETI), s. Abb. <a href="#fig-eti">Abbildung&nbsp;<span>6.7</span></a>, rechtes Teildiagramm. <span class="math inline">\(\square\)</span></p>
</div>
<div class="cell" data-hash="0600-Post_cache/html/fig-eti_f464b25c073f538e1673565c65faee14">
<div class="cell-output-display">
<div id="fig-eti" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-eti-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.7: Perzintilintervalle</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="schiefe-posteriori-verteilungen-sind-möglich" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="schiefe-posteriori-verteilungen-sind-möglich"><span class="header-section-number">6.4</span> Schiefe Posteriori-Verteilungen sind möglich</h2>
<p>Noch einmal zum Globusversuch: Gehen wir von 3 Würfen mit 3 Treffern aus; auf welche Wasseranteile (Parameterwerte) werden wir jetzt schließen?</p>
<p>Vermutlich ziemlich hohe.</p>
<p>Erstellen wir uns dazu mal eine Post-Verteilung (3 Treffer, 3 Würfe):</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-13_80f8fca4d8042f1b0f992210d97a3ac7">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>d_33 <span class="ot">&lt;-</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">p_grid =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>, <span class="at">by =</span>.<span class="dv">01</span>),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">prior =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">likelihood =</span> <span class="fu">dbinom</span>(<span class="dv">3</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">prob =</span> p_grid)) <span class="sc">%&gt;%</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unstand_post =</span> likelihood <span class="sc">*</span> prior) <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">post_33  =</span> unstand_post <span class="sc">/</span> <span class="fu">sum</span>(unstand_post)) </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>samples_33 <span class="ot">&lt;-</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  d_33 <span class="sc">%&gt;%</span> </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="fl">1e4</span>, </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">weight_by =</span> post_33, </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">replace =</span> T)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So sehen die ersten paar Zeilen der Post-Verteilung, <code>samples_33</code>, aus.</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-14_aed9c1d6ac475e4c8e3ff17f5c1233ee">
<div class="cell-output-display">

<div id="ylbvrrmpxs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ylbvrrmpxs table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ylbvrrmpxs thead, #ylbvrrmpxs tbody, #ylbvrrmpxs tfoot, #ylbvrrmpxs tr, #ylbvrrmpxs td, #ylbvrrmpxs th {
  border-style: none;
}

#ylbvrrmpxs p {
  margin: 0;
  padding: 0;
}

#ylbvrrmpxs .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ylbvrrmpxs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ylbvrrmpxs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ylbvrrmpxs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ylbvrrmpxs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ylbvrrmpxs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ylbvrrmpxs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ylbvrrmpxs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ylbvrrmpxs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ylbvrrmpxs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ylbvrrmpxs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ylbvrrmpxs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ylbvrrmpxs .gt_spanner_row {
  border-bottom-style: hidden;
}

#ylbvrrmpxs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ylbvrrmpxs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ylbvrrmpxs .gt_from_md > :first-child {
  margin-top: 0;
}

#ylbvrrmpxs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ylbvrrmpxs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ylbvrrmpxs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ylbvrrmpxs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ylbvrrmpxs .gt_row_group_first td {
  border-top-width: 2px;
}

#ylbvrrmpxs .gt_row_group_first th {
  border-top-width: 2px;
}

#ylbvrrmpxs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylbvrrmpxs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ylbvrrmpxs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ylbvrrmpxs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ylbvrrmpxs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylbvrrmpxs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ylbvrrmpxs .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ylbvrrmpxs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ylbvrrmpxs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ylbvrrmpxs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ylbvrrmpxs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylbvrrmpxs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ylbvrrmpxs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylbvrrmpxs .gt_left {
  text-align: left;
}

#ylbvrrmpxs .gt_center {
  text-align: center;
}

#ylbvrrmpxs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ylbvrrmpxs .gt_font_normal {
  font-weight: normal;
}

#ylbvrrmpxs .gt_font_bold {
  font-weight: bold;
}

#ylbvrrmpxs .gt_font_italic {
  font-style: italic;
}

#ylbvrrmpxs .gt_super {
  font-size: 65%;
}

#ylbvrrmpxs .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ylbvrrmpxs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ylbvrrmpxs .gt_indent_1 {
  text-indent: 5px;
}

#ylbvrrmpxs .gt_indent_2 {
  text-indent: 10px;
}

#ylbvrrmpxs .gt_indent_3 {
  text-indent: 15px;
}

#ylbvrrmpxs .gt_indent_4 {
  text-indent: 20px;
}

#ylbvrrmpxs .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="p_grid">p_grid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="prior">prior</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="likelihood">likelihood</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="unstand_post">unstand_post</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="p_grid" class="gt_row gt_right">0.96</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.88</td>
<td headers="unstand_post" class="gt_row gt_right">0.88</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.56</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.18</td>
<td headers="unstand_post" class="gt_row gt_right">0.18</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.56</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.18</td>
<td headers="unstand_post" class="gt_row gt_right">0.18</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.54</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.16</td>
<td headers="unstand_post" class="gt_row gt_right">0.16</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.96</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.88</td>
<td headers="unstand_post" class="gt_row gt_right">0.88</td></tr>
    <tr><td headers="p_grid" class="gt_row gt_right">0.89</td>
<td headers="prior" class="gt_row gt_right">1</td>
<td headers="likelihood" class="gt_row gt_right">0.70</td>
<td headers="unstand_post" class="gt_row gt_right">0.70</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Mit dieser “schiefen” Post-Verteilung können wir gut die Auswirkungen auf das Perzentil- und das Höchste-Dichte-Intervall anschauen.</p>
<section id="perzentil-intervall" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="perzentil-intervall"><span class="header-section-number">6.4.1</span> Perzentil-Intervall</h3>
<p>Hier z.B. ein 50%-Perzentilintervall, s. Abb. <a href="#fig-schief">Abbildung&nbsp;<span>6.8</span></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/fig-schief_c24e838cc97795690d54bc6814c21211">
<div class="cell-output-display">
<div id="fig-schief" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-schief-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.8: Schiefe Intervalle</figcaption>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Die Grenzwerte dieses ETI (oder jedes beliebig breiten) kann man sich z.B. so ausgeben lassen:</p>
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-11_2920ab869f35eb8fbe2665e06471b900">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>samples_33 <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(p_grid) <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">eti</span>(<span class="at">ci =</span> .<span class="dv">5</span>)  <span class="co"># Paket `easystats`</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="0600-Post_cache/html/unnamed-chunk-12_c58dfa8802e00e89eedf38f2c71096d8">
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Parameter"],"name":[1],"type":["chr"],"align":["left"]},{"label":["CI"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CI_low"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CI_high"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"p_grid","2":"0.5","3":"0.71","4":"0.93"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
<p>Der wahrscheinlichste Parameterwert (1) ist <em>nicht</em> im Intervall enthalten. Das ist ein Nachteil der ETI.</p>
</section>
<section id="intervalle-höchster-dichte" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="intervalle-höchster-dichte"><span class="header-section-number">6.4.2</span> Intervalle höchster Dichte</h3>
<div id="def-hdi" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 6.2 </strong></span>Intervalle höchster Dichte (Highest density Intervals, HDI oder HDPI) sind definiert als das <em>schmälste</em> Intervall, das den gesuchten Parameter enthält (in Bezug auf ein gegebenes Modell).</p>
</div>
<p>Der wahrscheinlichste Parameterwert (<span class="math inline">\(1\)</span>) <em>ist</em> im Intervall enthalten, was Sinn macht. Bei einem HDI sind die abgeschnitten Ränder nicht mehr gleich groß, im Sinne von enthalten nicht (zwangsläufig) die gleiche Wahrscheinlichkeitsmasse. Bei PI ist die Wahrscheinlichkeitsmasse in diesen Rändern hingegen gleich groß.</p>
<p>Je symmetrischer die Verteilung, desto näher liegen die Punktschätzer aneinander (und umgekehrt), s. Abb. <a href="#fig-post-pointestimates">Abbildung&nbsp;<span>6.9</span></a>.</p>
<div class="cell" data-fig.asp="0.5" data-hash="0600-Post_cache/html/fig-post-pointestimates_918ef91344ced9b5024c85e0a3d13553">
<div class="cell-output-display">
<div id="fig-post-pointestimates" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="0600-Post_files/figure-html/fig-post-pointestimates-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6.9: Visualisierung der Punktschätzer bei einer schiefen Post-Verteilung</figcaption>
</figure>
</div>
</div>
</div>
<p>So kann man sich die Grenzwerte eines 50%-HDI ausgeben lassen, s. <a href="#tbl-samples-hdi">Tabelle&nbsp;<span>6.4</span></a>.</p>
<div class="cell" data-hash="0600-Post_cache/html/hdi-samples-50_e2545ab2a73f2e78d95e2997aee1eccc">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(p_grid) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hdi</span>(<span class="at">ci =</span> .<span class="dv">5</span>)  <span class="co"># aus dem Paket `{easystats}`</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="0600-Post_cache/html/tbl-samples-hdi_f7c8e3206f1a0d906c45228cd15151f3">
<div class="cell-output-display">
<div id="tbl-samples-hdi" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Tabelle&nbsp;6.4:  <p>50%-HDI für unser Globusmodell</p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Parameter"],"name":[1],"type":["chr"],"align":["left"]},{"label":["CI"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CI_low"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CI_high"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"p_grid","2":"0.5","3":"0.6666667","4":"0.7777778"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<p>Das Modell ist sich also zu 50% sicher, dass der gesuchte Parameter (der Wasseranteil der Erdoberfläche) sich im von ca. .67 bis .78 befindet (auf Basis eines HDI).</p>
</section>
</section>
<section id="fazit" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="fazit"><span class="header-section-number">6.5</span> Fazit</h2>
<section id="intervalle-höchster-dichte-vs.-perzentilintervalle" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="intervalle-höchster-dichte-vs.-perzentilintervalle"><span class="header-section-number">6.5.1</span> Intervalle höchster Dichte vs.&nbsp;Perzentilintervalle</h3>
<ul>
<li>Bei symmetrischer Posteriori-Verteilung sind beide Intervalle ähnlich</li>
<li>Perzentilintervalle sind verbreiteter</li>
<li><em>Intervalle höchster Dichte</em> (Highest Density Interval, HDI) sind bei schiefen Post-Verteilungen zu bevorzugen</li>
<li>Intervalle höchster Dichte sind die <em>schmalsten</em> Intervalle für eine gegebene Wahrscheinlichkeitsmasse</li>
</ul>
</section>
<section id="zusammenfassung" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="zusammenfassung"><span class="header-section-number">6.5.2</span> Zusammenfassung</h3>
<p>Fassen wir zentrale Punkte an einem Beispiel zusammen.</p>
<p>Im Globusversuch, Datendatz <code>samples</code>, s. <a href="#lst-post-sample">Listing&nbsp;<span>6.1</span></a>. Sagen wir, wir haben 6 Treffer bei 9 Würfen erzielt.</p>
<p>Lageparmameter: Welchen mittleren Wasseranteil muss man annehmen?</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-19_851a0a844789eb3ab8cdf72608402021">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean   =</span> <span class="fu">mean</span>(p_grid),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(p_grid))  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">mean</th>
<th style="text-align: right;">median</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.6375444</td>
<td style="text-align: right;">0.6666667</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Streuungsparameter: Wie unsicher sind wir in der Schätzung des Wasseranteils?</p>
<div class="cell" data-hash="0600-Post_cache/html/QM2-Thema3-Post-befragen-20_bc2ecefe718caed4148c8fb191343e4c">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>samples <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_sd   =</span> <span class="fu">sd</span>(p_grid),</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_iqr =</span> <span class="fu">IQR</span>(p_grid),</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_mad =</span> <span class="fu">mad</span>(p_grid))  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">p_sd</th>
<th style="text-align: right;">p_iqr</th>
<th style="text-align: right;">p_mad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.139477</td>
<td style="text-align: right;">0.2222222</td>
<td style="text-align: right;">0.1647333</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Anstelle der Streuungsparameter ist es aber üblicher, ein HDI oder PI anzugeben.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Alles Wasser oder was? Im Beispiel dieses Kapitels haben wir unser gefragt, was wohl der Wasseranteil auf dem Planeten Erde ist. Halten Sie sich klar vor Augen: Der Wasseranteil ist ein Beispiel für einen <em>Parameter</em>, einer unbekannten Größes eines Modells.</p>
</div>
</div>
</section>
</section>
<section id="aufgaben" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="aufgaben"><span class="header-section-number">6.6</span> Aufgaben</h2>
<ol type="1">
<li><a href="https://datenwerk.netlify.app/posts/iq01/iq01.html">iq01</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq02/iq02.html">iq02</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq03/iq03.html">iq03</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq04/iq04.html">iq04</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq05/iq05.html">iq05</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq06/iq06.html">iq06</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq07/iq07.html">iq07</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq08/iq08.html">iq08</a></li>
<li><a href="https://datenwerk.netlify.app/posts/iq10/iq10.html">iq10</a></li>
<li><a href="https://datenwerk.netlify.app/posts/fattails01/fattails01.html">fattails1</a></li>
<li><a href="https://datenwerk.netlify.app/posts/fattails02/fattails02.html">fattails2</a></li>
<li><a href="https://datenwerk.netlify.app/posts/rethink3e1-7/rethink3e1-7">ReThink3e1-7</a></li>
</ol>
</section>
<section id="section" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="section"><span class="header-section-number">6.7</span> —</h2>
<p><img src="img/outro-06.jpg" class="img-fluid" style="width:100.0%"></p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-mcelreath_statistical_2020" class="csl-entry" role="listitem">
McElreath, Richard. 2020. <em>Statistical Rethinking: A <span>Bayesian</span> Course with Examples in <span>R</span> and <span>Stan</span></em>. 2. Aufl. <span>CRC</span> Texts in Statistical Science. <span>Boca Raton</span>: <span>Taylor and Francis, CRC Press</span>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Die Anzahl der Gitterwerte ist nicht Teil des Modells, streng genommen; die Anzahl der Gitterwerte entscheiden nur über die Genauigkeit der Post-Verteilung.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>naja, nicht unbedingt formschön, aber mir fiel kein dritter Vorzug ein.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Modellparameter genannt<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Vorsicht beim Ausdrucken.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>auch Grid-Methode genannt<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Eine gute Einführung in die Hintergründe findet sich bei <span class="citation" data-cites="mcelreath_statistical_2020">McElreath (<a href="references.html#ref-mcelreath_statistical_2020" role="doc-biblioref">2020</a>)</span>.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>hier als Balkendiagramm, kommt fast aufs Selbe raus, sieht aber etwas schöner aus in diesem Fall, da er nur wenige Balken sind<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Tatsächlich gibt es eine Vielzahl an Begriffen, die in der Literatur nicht immer konsistent verwendet werden, etwa Kompatibilitätsintervall, Ungewissheitsintervall, Passungsbereich.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Vielleicht damit es genug Berge zum Schifahren gibt.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>1 Inch entspricht 2.54cm<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Handle positioning of the toggle
      window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./0500-Globusversuch.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Globusversuch</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./0800-gauss.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Gauss-Modelle</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>