<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>2&nbsp; Inferenz ‚Äì Start:Bayes!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./0300-Wskt.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./img/Golem_hex.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zus√§tzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zur√ºcksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script><link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta name="mermaid-theme" content="neutral">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script><script src="site_libs/quarto-diagram/mermaid-init.js"></script><link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200-Inferenz.html">Wahrscheinlichkeit</a></li><li class="breadcrumb-item"><a href="./0200-Inferenz.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Start:Bayes!</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/sebastiansauer/start-bayes" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Organisatorisches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einf√ºhrung</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Wahrscheinlichkeit</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0200-Inferenz.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0300-Wskt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Wahrscheinlichkeit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400-Verteilungen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Verteilungen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500-Globusversuch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Bayes-Globus</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0600-Post.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Die Post befragen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Lineare Modelle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0800-gauss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Gauss-Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0900-lineare-modelle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Einfache lineare Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1050-Schaetzen-Testen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Sch√§tzen vs.&nbsp;Testen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1000-metrische-AV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Fallbeispiele</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Kausalit√§t</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1150-konfundierung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Konfundierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1180-kausalatome.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Die Atome des Kausalit√§t</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Abschluss</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1200-abschluss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Abschluss</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1300-definitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Definitionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#lernsteuerung" id="toc-lernsteuerung" class="nav-link active" data-scroll-target="#lernsteuerung"><span class="header-section-number">2.1</span> Lernsteuerung</a>
  <ul class="collapse">
<li><a href="#position-im-modulverlauf" id="toc-position-im-modulverlauf" class="nav-link" data-scroll-target="#position-im-modulverlauf"><span class="header-section-number">2.1.1</span> Position im Modulverlauf</a></li>
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">2.1.2</span> Lernziele</a></li>
  <li><a href="#begleitliteratur" id="toc-begleitliteratur" class="nav-link" data-scroll-target="#begleitliteratur"><span class="header-section-number">2.1.3</span> Begleitliteratur</a></li>
  <li><a href="#vorbereitung-im-eigenstudium" id="toc-vorbereitung-im-eigenstudium" class="nav-link" data-scroll-target="#vorbereitung-im-eigenstudium"><span class="header-section-number">2.1.4</span> Vorbereitung im Eigenstudium</a></li>
  <li><a href="#begleitvideos" id="toc-begleitvideos" class="nav-link" data-scroll-target="#begleitvideos"><span class="header-section-number">2.1.5</span> Begleitvideos</a></li>
  <li><a href="#wozu-ist-statistik-%C3%BCberhaupt-da" id="toc-wozu-ist-statistik-√ºberhaupt-da" class="nav-link" data-scroll-target="#wozu-ist-statistik-%C3%BCberhaupt-da"><span class="header-section-number">2.1.6</span> Wozu ist Statistik √ºberhaupt da?</a></li>
  </ul>
</li>
  <li><a href="#was-ist-inferenz" id="toc-was-ist-inferenz" class="nav-link" data-scroll-target="#was-ist-inferenz"><span class="header-section-number">2.2</span> Was ist Inferenz?</a></li>
  <li>
<a href="#stichprobe-vs.-population" id="toc-stichprobe-vs.-population" class="nav-link" data-scroll-target="#stichprobe-vs.-population"><span class="header-section-number">2.3</span> Stichprobe vs.&nbsp;Population</a>
  <ul class="collapse">
<li><a href="#deskriptiv--vs.-inferenzstatistik" id="toc-deskriptiv--vs.-inferenzstatistik" class="nav-link" data-scroll-target="#deskriptiv--vs.-inferenzstatistik"><span class="header-section-number">2.3.1</span> Deskriptiv- vs.&nbsp;Inferenzstatistik</a></li>
  <li><a href="#inferenzstatistik" id="toc-inferenzstatistik" class="nav-link" data-scroll-target="#inferenzstatistik"><span class="header-section-number">2.3.2</span> Inferenzstatistik</a></li>
  <li><a href="#deskriptiv--und-inferenzstatistik-gehen-hand-in-hand" id="toc-deskriptiv--und-inferenzstatistik-gehen-hand-in-hand" class="nav-link" data-scroll-target="#deskriptiv--und-inferenzstatistik-gehen-hand-in-hand"><span class="header-section-number">2.3.3</span> Deskriptiv- und Inferenzstatistik gehen Hand in Hand</a></li>
  <li><a href="#sch%C3%A4tzen-von-parametern-einer-grundgesamtheit" id="toc-sch√§tzen-von-parametern-einer-grundgesamtheit" class="nav-link" data-scroll-target="#sch%C3%A4tzen-von-parametern-einer-grundgesamtheit"><span class="header-section-number">2.3.4</span> Sch√§tzen von Parametern einer Grundgesamtheit</a></li>
  </ul>
</li>
  <li>
<a href="#modellieren" id="toc-modellieren" class="nav-link" data-scroll-target="#modellieren"><span class="header-section-number">2.4</span> Modellieren</a>
  <ul class="collapse">
<li><a href="#modellieren-als-grundraster-des-erkennens" id="toc-modellieren-als-grundraster-des-erkennens" class="nav-link" data-scroll-target="#modellieren-als-grundraster-des-erkennens"><span class="header-section-number">2.4.1</span> Modellieren als Grundraster des Erkennens</a></li>
  <li><a href="#vertiefung" id="toc-vertiefung" class="nav-link" data-scroll-target="#vertiefung"><span class="header-section-number">2.4.2</span> Vertiefung</a></li>
  </ul>
</li>
  <li>
<a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression"><span class="header-section-number">2.5</span> Regression</a>
  <ul class="collapse">
<li><a href="#regression-zum-modellieren" id="toc-regression-zum-modellieren" class="nav-link" data-scroll-target="#regression-zum-modellieren"><span class="header-section-number">2.5.1</span> Regression zum Modellieren</a></li>
  <li><a href="#in-voller-pracht" id="toc-in-voller-pracht" class="nav-link" data-scroll-target="#in-voller-pracht"><span class="header-section-number">2.5.2</span> In voller Pracht</a></li>
  </ul>
</li>
  <li>
<a href="#unsicherheit" id="toc-unsicherheit" class="nav-link" data-scroll-target="#unsicherheit"><span class="header-section-number">2.6</span> Unsicherheit</a>
  <ul class="collapse">
<li><a href="#inferenz-beinhaltet-ungewissheit" id="toc-inferenz-beinhaltet-ungewissheit" class="nav-link" data-scroll-target="#inferenz-beinhaltet-ungewissheit"><span class="header-section-number">2.6.1</span> Inferenz beinhaltet Ungewissheit</a></li>
  <li><a href="#wahrscheinlichkeit" id="toc-wahrscheinlichkeit" class="nav-link" data-scroll-target="#wahrscheinlichkeit"><span class="header-section-number">2.6.2</span> Wahrscheinlichkeit</a></li>
  <li><a href="#zwei-arten-von-ungewissheit" id="toc-zwei-arten-von-ungewissheit" class="nav-link" data-scroll-target="#zwei-arten-von-ungewissheit"><span class="header-section-number">2.6.3</span> Zwei Arten von Ungewissheit</a></li>
  <li><a href="#ich-wei%C3%9F-was-ich-nicht-wei%C3%9F-ungewissheit-angeben" id="toc-ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben" class="nav-link" data-scroll-target="#ich-wei%C3%9F-was-ich-nicht-wei%C3%9F-ungewissheit-angeben"><span class="header-section-number">2.6.4</span> Ich wei√ü, was ich nicht wei√ü: Ungewissheit angeben</a></li>
  <li><a href="#visualisierung-von-ungewissheit" id="toc-visualisierung-von-ungewissheit" class="nav-link" data-scroll-target="#visualisierung-von-ungewissheit"><span class="header-section-number">2.6.5</span> Visualisierung von Ungewissheit</a></li>
  <li><a href="#konfidenzintervall" id="toc-konfidenzintervall" class="nav-link" data-scroll-target="#konfidenzintervall"><span class="header-section-number">2.6.6</span> Konfidenzintervall</a></li>
  </ul>
</li>
  <li>
<a href="#frequentismus-vs.-bayes-inferenz" id="toc-frequentismus-vs.-bayes-inferenz" class="nav-link" data-scroll-target="#frequentismus-vs.-bayes-inferenz"><span class="header-section-number">2.7</span> Frequentismus vs.&nbsp;Bayes-Inferenz</a>
  <ul class="collapse">
<li><a href="#frequentismus" id="toc-frequentismus" class="nav-link" data-scroll-target="#frequentismus"><span class="header-section-number">2.7.3</span> Frequentismus</a></li>
  <li><a href="#frequentist-und-bayesianer" id="toc-frequentist-und-bayesianer" class="nav-link" data-scroll-target="#frequentist-und-bayesianer"><span class="header-section-number">2.7.4</span> Frequentist und Bayesianer</a></li>
  <li><a href="#beispiel-zum-nutzen-von-apriori-wissen-1" id="toc-beispiel-zum-nutzen-von-apriori-wissen-1" class="nav-link" data-scroll-target="#beispiel-zum-nutzen-von-apriori-wissen-1"><span class="header-section-number">2.7.5</span> Beispiel zum Nutzen von Apriori-Wissen 1</a></li>
  <li><a href="#beispiel-zum-nutzen-von-apriori-wissen-2" id="toc-beispiel-zum-nutzen-von-apriori-wissen-2" class="nav-link" data-scroll-target="#beispiel-zum-nutzen-von-apriori-wissen-2"><span class="header-section-number">2.7.6</span> Beispiel zum Nutzen von Apriori-Wissen 2</a></li>
  </ul>
</li>
  <li><a href="#fazit" id="toc-fazit" class="nav-link" data-scroll-target="#fazit"><span class="header-section-number">2.8</span> Fazit</a></li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">2.9</span> Aufgaben</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="header-section-number">2.10</span> ‚Äî</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/sebastiansauer/start-bayes/blob/main/0200-Inferenz.qmd" class="toc-action"><i class="bi bi-github"></i>Quellcode anzeigen</a></li><li><a href="https://github.com/sebastiansauer/start-bayes/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200-Inferenz.html">Wahrscheinlichkeit</a></li><li class="breadcrumb-item"><a href="./0200-Inferenz.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Inferenz</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/Golem_hex.png" class="img-fluid figure-img" style="width:10.0%"></p>
<figcaption>Bayes:Start!</figcaption></figure>
</div>
<section id="lernsteuerung" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="lernsteuerung">
<span class="header-section-number">2.1</span> Lernsteuerung</h2>
<section id="position-im-modulverlauf" class="level3" data-number="2.1.1"><h3 data-number="2.1.1" class="anchored" data-anchor-id="position-im-modulverlauf">
<span class="header-section-number">2.1.1</span> Position im Modulverlauf</h3>
<p><a href="index.html#fig-modulverlauf" class="quarto-xref">Abbildung&nbsp;<span>1.1</span></a> gibt einen √úberblick zum aktuellen Standort im Modulverlauf.</p>
</section><section id="lernziele" class="level3" data-number="2.1.2"><h3 data-number="2.1.2" class="anchored" data-anchor-id="lernziele">
<span class="header-section-number">2.1.2</span> Lernziele</h3>
<p>Nach Absolvieren des jeweiligen Kapitels sollen folgende Lernziele erreicht sein.</p>
<p>Sie k√∂nnen ‚Ä¶</p>
<ul>
<li>die Definition von Inferenzstatistik sowie Beispiele f√ºr inferenzstatistische Fragestellungen nennen</li>
<li>zentrale Begriffe der Inferenzstatistik nennen und in Grundz√ºgen erkl√§ren</li>
<li>den Nutzen von Inferenzstatistik nennen</li>
<li>erl√§utern, in welchem Zusammenhang Ungewissheit zur Inferenzstatistik steht</li>
<li>anhand von Beispielen erkl√§ren, was ein statistisches Modell ist</li>
<li>die Grundkonzepte der Regression angeben</li>
<li>Unterschiede zwischen frequentistischer (‚Äúklassischer‚Äù) und Bayes-Inferenz benennen</li>
<li>Vor- und Nachteile der frequentistischen vs.&nbsp;Bayes-Inferenz diskutieren</li>
<li>Die grundlegende Herangehensweise zur Berechnung des p-Werts informell erkl√§ren</li>
</ul></section><section id="begleitliteratur" class="level3" data-number="2.1.3"><h3 data-number="2.1.3" class="anchored" data-anchor-id="begleitliteratur">
<span class="header-section-number">2.1.3</span> Begleitliteratur</h3>
<p>Bei <span class="citation" data-cites="gelman_regression_2021">Gelman, Hill, und Vehtari (<a href="references.html#ref-gelman_regression_2021" role="doc-biblioref">2021</a>)</span>, Kap. 1 findet sich eine Darstellung √§hnlich zu der in diesem Kapitel.</p>
</section><section id="vorbereitung-im-eigenstudium" class="level3" data-number="2.1.4"><h3 data-number="2.1.4" class="anchored" data-anchor-id="vorbereitung-im-eigenstudium">
<span class="header-section-number">2.1.4</span> Vorbereitung im Eigenstudium</h3>
<ul>
<li><a href="https://statistik1.netlify.app/010-rahmen">Statistik 1, Kap. ‚ÄúRahmen‚Äù</a></li>
<li>
<a href="https://statistik1.netlify.app/">Statistik 1</a>, dort alle Inhalte zum Thema ‚ÄúModellieren‚Äù und ‚ÄúRegression‚Äù</li>
</ul></section><section id="begleitvideos" class="level3" data-number="2.1.5"><h3 data-number="2.1.5" class="anchored" data-anchor-id="begleitvideos">
<span class="header-section-number">2.1.5</span> Begleitvideos</h3>
<ul>
<li><a href="https://youtu.be/gcwWwBy0kPI">Video zur Inferenz, Teil 1</a></li>
<li><a href="https://https://youtu.be/QNMVi6IqQ90">Video zur Inferenz, Teil 2</a></li>
</ul></section><section id="wozu-ist-statistik-√ºberhaupt-da" class="level3" data-number="2.1.6"><h3 data-number="2.1.6" class="anchored" data-anchor-id="wozu-ist-statistik-√ºberhaupt-da">
<span class="header-section-number">2.1.6</span> Wozu ist Statistik √ºberhaupt da?</h3>
<p>üì∫ <a href="https://www.youtube.com/watch?v=gcwWwBy0kPI&amp;list=PLRR4REmBgpIGgz2Oe2Z9FcoLYBDnaWatN&amp;index=2">Ja, wozu ist Statistik eigentlich da?</a></p>
<p>Ja, diese Frage haben Sie sich auch schon mal gestellt? Abb. <a href="#fig-goals" class="quarto-xref">Abbildung&nbsp;<span>2.1</span></a> gibt einen √úberblick √ºber die Ziele der Statistik.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Nach dieser Einteilung lassen sich drei Arten von Zielen unterscheiden: Beschreiben, Vorhersagen und Erkl√§ren.</p>
<div id="exm-ziele-stat" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.1 (Beispiele f√ºr die Zielarten statistischer Analysen)</strong></span> &nbsp;</p>
<ul>
<li>Beschreiben: ‚ÄúWie gro√ü ist der Gender-Paygap in der Branche X im Zeitraum Y?‚Äù</li>
<li>Vorhersagen: Wenn eine Person, Mr.&nbsp;X, 100 Stunden auf die Statistikklausur lernen, welche Note kann diese Person dann erwarten?</li>
<li>Erkl√§ren: Wie viel bringt (mir) das Lernen auf die Statistikklausur?<span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<p>F√ºr die Wissenschaft ist <em>Erkl√§ren</em> das wichtigste Ziel. Bei wenig beackerten Wissenschaftsfeldern ist das <em>Beschreiben</em> ein sinnvoller erster Schritt, der allerdings nicht Stolperfallen ist, wie in <a href="1150-konfundierung.html" class="quarto-xref"><span>Kapitel 11</span></a> erl√§utert. <em>Vorhersagen</em> ist mehr f√ºr die Praxis als f√ºr die Wissenschaft relevant.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-goals" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-goals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-goals">flowchart TD 
  A{Goals} --&gt; B(describe)
  A --&gt; C(predict)
  A --&gt; D(explain)
  B --&gt; E(distribution)
  B --&gt; F(assocation)
  B --&gt; G(extrapolation)
  C --&gt; H(point estimate)
  C --&gt; I(interval)
  D --&gt; J(causal inference)
  D --&gt; K(population)
  D --&gt; L(latent construct)

</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-goals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.1: Eine Einteilung der Ziele von statistischen Analysen
</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="was-ist-inferenz" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="was-ist-inferenz">
<span class="header-section-number">2.2</span> Was ist Inferenz?</h2>
<!-- TODO: -->
<!-- Attentio Grabber zum Einstieg -->
<!-- An Vorwissen ankn√ºpfen -->
<!-- -- gilt auch f√ºr √ºbrige Kapitel und √ºbrige B√ºcher -->
<!-- ### Inferenz als Generalisieren -->
<p>üì∫ <a href="https://www.youtube.com/watch?v=QNMVi6IqQ90&amp;list=PLRR4REmBgpIGgz2Oe2Z9FcoLYBDnaWatN">Was ist Inferenz?</a></p>
<p>Statistische Inferenz hat zum Ziel, vom Teil aufs Ganze zu schlie√üen, bzw. vom Konkreten auf das Abstrakte.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>Typischerweise untersuchen im Rahmen einer statistischen Analyse eine <em>Stichprobe</em>, wie z.‚ÄâB. Ihr Freundeskreis, der leichtsinnig genug war, auf Ihre WhatsApp-Nachricht ‚ÄúTolle Studie zu dem Geheimnis des Gl√ºcks!!!‚Äù zu klicken. Ihr Freundeskreis ist ein <em>Teil</em> der Menschen (z.‚ÄâB. aus Deutschland), also eine Stichprobe. Schauen wir uns den Unterschied zwischen Stichprobe und Population n√§her an.</p>
</section><section id="stichprobe-vs.-population" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="stichprobe-vs.-population">
<span class="header-section-number">2.3</span> Stichprobe vs.&nbsp;Population</h2>
<p>Nehmen wir an, wir m√∂chten herausfinden, wie gro√ü der Anteil der R-Fans in der Population der Studierenden ist. Den Anteil der F-Fans bezeichnen wir der Einfachheit halber hier mit <code>A</code><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<p>Das <em>Grundproblem der Inferenzstatistik</em> ist, dass wir an Aussagen zur Grundgesamtheit interessiert sind, aber nur eine Stichprobe, also einen Ausschnitt oder eine Teilmenge der Grundgesamtheit (synonym: Population) vorliegen haben.</p>
<p>Wir m√ºssen also den Anteil der R-Fans <em>in der Population</em> auf Basis des Anteils <em>in der Stichprobe</em> schlie√üen: Wir verallgemeinern oder generalisieren von der Stichprobe auf die Grundgesamtheit, s. Abb. <a href="#fig-pop" class="quarto-xref">Abbildung&nbsp;<span>2.2</span></a> und <a href="#fig-sample" class="quarto-xref">Abbildung&nbsp;<span>2.3</span></a>.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div id="population" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-pop" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-pop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/pvoll.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.2: Population
</figcaption></figure>
</div>
</div>
<div id="sample" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-sample" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/psti.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.3: Sample
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>Population vs.&nbsp;Sample. Autor: Karsten L√ºbke. OEM</p>
</div>
</div>
</div>
<!-- Quelle: LAYOUT in PDF: https://github.com/quarto-dev/quarto-cli/discussions/7497 -->
<!-- ![Population](img/pvoll.png){#fig-pop width="40%"} -->
<!-- ![Sample](img/psti.png){#fig-sample width="40%"} -->
<!-- Ohne Zwischenzeile funktioniert die REferenz nicht, aber es s√§he besesr im PDF-Druck aus. -->
<p>H√§ufig ist das praktische Vorgehen recht simpel: Ah, in unserer Stichprobe sind 42% R-Fans!<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. Man schreibt gerne: <span class="math inline">\(p = 0.42\)</span> (<code>p</code> wie <code>proportion</code>). Die Stichprobe sei repr√§sentativ f√ºr die Grundgesamtheit aller Studierender. Messerscharf schlie√üen wir: In der Grundgesamtheit ist der Anteil der R-Fans auch 42%, <span class="math inline">\(\pi=0.42\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wir verwenden lateinische Buchstaben (p), um Kennzahlen einer Stichprobe zu benennen, und griechische (<span class="math inline">\(\pi\)</span>) f√ºr Populationen.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<section id="deskriptiv--vs.-inferenzstatistik" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="deskriptiv--vs.-inferenzstatistik">
<span class="header-section-number">2.3.1</span> Deskriptiv- vs.&nbsp;Inferenzstatistik</h3>
<p>Statistik gibt es in zwei Geschmacksrichtungen, k√∂nnte man sagen: Deskriptiv- und Inferenzstatistik, s. Abb. <a href="#fig-inf1" class="quarto-xref">Abbildung&nbsp;<span>2.4</span></a>.</p>
<p>Vereinfacht gesprochen fasst die Deskriptivstatistik Daten (einer Stichprobe) zu einer einzelnen Kennzahl zusammen.</p>
<div id="exm-desk" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.2</strong></span> In einem H√∂rsaal sitzen 100 Studis. Alle schreiben Ihre K√∂rpergr√∂√üe auf einen Zettel. Die Dozentin sammelt die Zettel ein und rechnet dann den Mittelwert der K√∂rpergr√∂√üe der anwesenden Studentis aus. Voil√†: Deskriptive Statistik!<span class="math inline">\(\square\)</span></p>
</div>
<div id="fig-inf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-inf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/desk_vs_inf-crop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-inf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.4: Deskriptiv- vs.&nbsp;Inferenzstatistik
</figcaption></figure>
</div>
<div id="exr-smple-pop" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.1</strong></span> üèã Schlie√üen Sie die Augen und zeichnen Sie obiges Diagramm, <a href="#fig-inf1" class="quarto-xref">Abbildung&nbsp;<span>2.4</span></a>!<span class="math inline">\(\square\)</span></p>
</div>
<div id="def-desk" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.1 (Deskriptivstatistik)</strong></span> <em>Deskriptivstastistik</em> fasst Stichprobenmerkmale zu Kennzahlen (Statistiken) zusammen.</p>
</div>
</section><section id="inferenzstatistik" class="level3 {def-inf}" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="inferenzstatistik">
<span class="header-section-number">2.3.2</span> Inferenzstatistik</h3>
<p><em>Inferenzstatistik</em> ist ein Verfahren zum Schlie√üen von Statistiken (Kennzahl einer Grundgesamtheit) auf <em>Parameter</em> (eine Kennzahl einer Grundgesamtheit).</p>
<p>Inferenz bedeutet Schlie√üen; auf Basis von vorliegenden Wissen wird neues Wissen generiert.</p>
<p>Inferenzstatistik ist ein Verfahren, das mathematische Modelle (oft aus der Stochastik) verwendet, um ausgehend von einer bestimmten Datenlage, die eine Stichprobe einer Grundgesamtheit darstellt, allgemeine Schl√ºsse zu ziehen.</p>
</section><div id="exr-inf" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.2</strong></span> üèãÔ∏èÔ∏è Heute Nacht vor dem Schlafen wiederholen Sie die Definition. √úben Sie jetzt schon mal.<span class="math inline">\(\square\)</span></p>
</div>
<section id="deskriptiv--und-inferenzstatistik-gehen-hand-in-hand" class="level3" data-number="2.3.3"><h3 data-number="2.3.3" class="anchored" data-anchor-id="deskriptiv--und-inferenzstatistik-gehen-hand-in-hand">
<span class="header-section-number">2.3.3</span> Deskriptiv- und Inferenzstatistik gehen Hand in Hand</h3>
<p>F√ºr jede beliebige Statistik (Kennzahl von Stichprobendaten) kann man die Methoden der Inferenzstatistik verwenden, um den zugeh√∂rigen Kennwert (Parameter) der Population zu bestimmen, s. Tabelle <a href="#tbl-kennwerte" class="quarto-xref">Tabelle&nbsp;<span>2.1</span></a>. Da man die Parameter der Population so gut wie nie sicher kennt (schlie√ülich hat man meist nur Ausz√ºge, Teile der Population, also Stichproben), muss man sich mit <em>Sch√§tzwerten</em> begn√ºgen. Sch√§tzwerte macht man kenntlich mit einem ‚ÄúDach-Zeichen‚Äù √ºber dem Parameter, also z.b. <span class="math inline">\(\hat{\mu}\)</span>, lies: ‚Äúm√º-Dach‚Äù.</p>
<div class="cell">
<div id="tbl-kennwerte" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-kennwerte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2.1: Bezeichnungen f√ºr Kennwerte
</figcaption><div aria-describedby="tbl-kennwerte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">Kennwert</th>
<th style="text-align: left;">Stichprobe</th>
<th style="text-align: left;">Grundgesamtheit (Aussprache)</th>
<th style="text-align: left;">Sch√§tzwert</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mittelwert</td>
<td style="text-align: left;"><span class="math inline">\(\bar{X}\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\mu\)</span> (m√º)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\mu}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Streuung</td>
<td style="text-align: left;"><span class="math inline">\(sd\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\sigma\)</span> (sigma)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\sigma}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anteil</td>
<td style="text-align: left;"><span class="math inline">\(p\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\pi\)</span> (pi)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\pi}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Korrelation</td>
<td style="text-align: left;"><span class="math inline">\(r\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\rho\)</span> (rho)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\rho}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Regression</td>
<td style="text-align: left;"><span class="math inline">\(b\)</span></td>
<td style="text-align: left;">
<span class="math inline">\(\beta\)</span> (beta)</td>
<td style="text-align: left;"><span class="math inline">\(\hat{\beta}\)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>F√ºr Statistiken (Daten einer Stichprobe) verwendet man <em>lateinische</em> Buchstaben; f√ºr Parameter (Population) verwendet man <em>griechische</em> Buchstaben.</p>
<div id="exr-greek" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.3</strong></span> üèãÔ∏è Geben Sie die griechischen Buchstaben f√ºr typische Statistiken an. Ohne auf die Tabelle zu schauen.üòú<span class="math inline">\(\square\)</span>!</p>
</div>
</section><section id="sch√§tzen-von-parametern-einer-grundgesamtheit" class="level3" data-number="2.3.4"><h3 data-number="2.3.4" class="anchored" data-anchor-id="sch√§tzen-von-parametern-einer-grundgesamtheit">
<span class="header-section-number">2.3.4</span> Sch√§tzen von Parametern einer Grundgesamtheit</h3>
<p>Meist begn√ºgt man sich beim Analysieren von Daten nicht mit Aussagen f√ºr eine Stichprobe, sondern will auf eine Grundgesamtheit verallgemeinern.</p>
<p>Leider sind die Parameter einer Grundgesamtheit zumeist unbekannt, daher muss man sich mit <em>Sch√§tzungen</em> begn√ºgen.</p>
<p>Sch√§tzwerte werden mit einem ‚ÄúDach‚Äù √ºber dem Kennwert gekennzeichnet, s. letzte Spalte in <a href="#tbl-kennwerte" class="quarto-xref">Tabelle&nbsp;<span>2.1</span></a>.</p>
<p>In der angewandten Forschung interessieren h√§ufig Fragen wie: ‚ÄúWelche Entscheidung ist (wahrscheinlich) besser?‚Äù. Da bekanntlich (fast) keine Aussagen sicher sind, spielt <em>Wahrscheinlichkeit</em> eine wichtige Rolle in den Forschungsfragen bzw. in deren Antworten.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wahrscheinlichkeit wird oft mit <em>Pr</em> oder <em>p</em> abgek√ºrzt, f√ºr engl. <em>probability</em>.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div id="exm-inf" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.3</strong></span> Sie testen zwei Varianten Ihres Webshops (V1 und V2), die sich im Farbschema unterscheiden und ansonsten identisch sind: Hat das Farbschema einen Einfluss auf den Umsatz?</p>
<p>Dazu vergleichen Sie den mittleren Umsatz pro Tag von V1 vs.&nbsp;V2, <span class="math inline">\(\bar{X}_{V1}\)</span> und <span class="math inline">\(\bar{X}_{V2}\)</span>. Die Mittelwerte unterscheiden sich etwas, <span class="math inline">\(\bar{X}_{V1} &gt; \bar{X}_{V2}\)</span>. Sind diese Unterschiede ‚Äúzuf√§llig‚Äù oder ‚Äúsubstanziell‚Äù? Gilt also <span class="math inline">\(\mu_{V1} &gt; \mu_{V2}\)</span> oder gilt <span class="math inline">\(\mu_{V1} \le \mu_{V2}\)</span>? Wie gro√ü ist die Wahrscheinlichkeit<span class="math inline">\(Pr(\mu_{V1} &gt; \mu_{V2})\)</span>?</p>
</div>
<div id="exr-pred-maint" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.4</strong></span> üèãÔ∏è VERTIEFUNG <em>Predictive Maintenance</em> ist ein Anwendungsfeld inferenzstatistischer Modellierung. Lesen Sie dazu S. 3 <a href="https://www.rolandberger.com/publications/publication_pdf/roland_berger_vdma_predictive_maintenance_d_1.pdf">dieses Berichts</a>!<span class="math inline">\(\square\)</span></p>
</div>
</section></section><section id="modellieren" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="modellieren">
<span class="header-section-number">2.4</span> Modellieren</h2>
<section id="modellieren-als-grundraster-des-erkennens" class="level3" data-number="2.4.1"><h3 data-number="2.4.1" class="anchored" data-anchor-id="modellieren-als-grundraster-des-erkennens">
<span class="header-section-number">2.4.1</span> Modellieren als Grundraster des Erkennens</h3>
<p>In der Wissenschaft ‚Äì wie auch oft in der Technik, Wirtschaft oder im Alltag ‚Äì betrachtet man einen Teil der Welt n√§her, meist mit dem Ziel, eine Entscheidung zu treffen, was man tun wird oder mit dem Ziel, etwas zu lernen.</p>
<p>Nun ist die Welt ein weites Feld. Jedes Detail zu ber√ºcksichtigen ist nicht m√∂glich. Wir m√ºssen die Sache vereinfachen: Alle Informationen ausblenden, die nicht zwingend n√∂tig sind. Aber gleichzeitig die Strukturelemente der wirklichen Welt, die f√ºr unsere Fragestellung zentral ist, beibehalten.</p>
<p>Dieses Tun nennt man <em>Modellieren</em>: Man erstellt sich ein Modell.</p>
<div id="def-model" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.2 (Modell)</strong></span> Ein Modell ist ein vereinfachtes Abbild der Wirklichkeit.<span class="math inline">\(\square\)</span></p>
</div>
<p>Der Nutzen eines Modells ist, einen (√ºberm√§√üig) komplexen Sachverhalt zu vereinfachen oder √ºberhaupt erst handhabbar zu machen. Man versucht zu vereinfachen, ohne Wesentliches wegzulassen. Der Speck muss weg, sozusagen. Das Wesentliche bleibt.</p>
<p>Auf die Statistik bezogen hei√üt das, dass man einen Datensatz dabei so zusammenfasst, damit man das Wesentliche erkennt. Was ist das ‚ÄúWesentliche‚Äù? Oft interessiert man sich f√ºr die Ursachen eines Ph√§nomens. Etwa: ‚ÄúWie kommt es blo√ü, dass ich ohne zu lernen die Klausur so gut bestanden habe?‚Äù<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> Noch allgemeiner ist man dabei h√§ufig am Zusammenhang von <code>X</code> und <code>Y</code> interessiert, s. <a href="#fig-xy" class="quarto-xref">Abbildung&nbsp;<span>2.5</span></a>, die ein Sinnbild von statistischen Modellen widergibt.</p>
<div id="fig-xy" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-xy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"></figure><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
X --&gt; Y


X1 --&gt; Y2
X2 --&gt; Y2
</pre>
</div>
<p></p>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-xy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.5: oben: Sinnbild eines statistischen Modells; unten: Sinnbild eines statistischen Modells, mit zwei Inputvariablen (Ursachen)
</figcaption></figure>
</div>
<p>Man kann <a href="#fig-xy" class="quarto-xref">Abbildung&nbsp;<span>2.5</span></a> als ein Sinnbild einer (mathematischen) Funktion lesen.</p>
<div id="def-fun" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.3 (Funktion)</strong></span> Eine Funktion <span class="math inline">\(f\)</span> setzt zwei Gr√∂√üen in Beziehung. <span class="math inline">\(\square\)</span></p>
</div>
<p>In Mathe-Sprech:</p>
<p><span class="math inline">\(f: X \rightarrow Y\)</span></p>
<p>oder:</p>
<p><span class="math inline">\(y = f(x)\)</span>, lies: ‚ÄúY ist eine Funktion von X‚Äù.</p>
<p>Es h√∂rt sich zugspitzt an, aber eigentlich ist fast alles Modellieren: Wenn man den Anteil der R-Fans in einer Gruppe Studierender ausrechnet, macht man sich ein Modell: man vereinfacht diesen Ausschnitt der Wirklichkeit anhand einer statistischen Kennzahl, die das forschungsleitende Interesse zusammenfasst.</p>
</section><section id="vertiefung" class="level3" data-number="2.4.2"><h3 data-number="2.4.2" class="anchored" data-anchor-id="vertiefung">
<span class="header-section-number">2.4.2</span> Vertiefung</h3>
<p>Lesen Sie die Einf√ºhrung zum Thema Modellieren bei <span class="citation" data-cites="poldrack_statistical_2022">Poldrack (<a href="references.html#ref-poldrack_statistical_2022" role="doc-biblioref">2022</a>)</span> (Kap. 5.1).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nutzen Sie die √úbersetzungsfunktion Ihres Browsers, wenn Sie einen englischen Text lieber auf Deutsch lesen wollen. Oder einen deutschen lieber auf Englisch.</p>
</div>
</div>
</section></section><section id="regression" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="regression">
<span class="header-section-number">2.5</span> Regression</h2>
<p>Einflussreiche Leute schw√∂ren auf die Regressionsanalyse (<a href="#fig-gandalf" class="quarto-xref">Abbildung&nbsp;<span>2.6</span></a>).</p>
<div id="fig-gandalf" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-gandalf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/einring.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gandalf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.6: One regression
</figcaption></figure>
</div>
<p><a href="#fig-linfun" class="quarto-xref">Abbildung&nbsp;<span>2.7</span></a> zeigt ein interaktives Beispiel einer linearen Funktion. Sie k√∂nnen Punkte per Klick/Touch hinzuf√ºgen.</p>
<div id="fig-linfun" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-linfun-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="figure-content">
<!-- ```{=html} -->
<!-- <iframe width="500" height="400" src="https://www.geogebra.org/m/vfjW1dZt" title="Visualisierung eines Geradenmodells"></iframe> -->
<!-- ``` -->
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb1-0"><a href="#cb1-0" aria-hidden="true" tabindex="-1"></a>resetButton <span class="op">=</span> {</span>
<span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> resetButton <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>(<span class="st">"Reset"</span>)<span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(resetButton)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    regressionPlot<span class="op">.</span><span class="fu">reset</span>()<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> resetButton<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb2-0"><a href="#cb2-0" aria-hidden="true" tabindex="-1"></a>viewOptions <span class="op">=</span> {</span>
<span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> viewOptions <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"None"</span><span class="op">,</span> <span class="st">"Absolute Error"</span><span class="op">,</span> <span class="st">"Squared Error"</span>]<span class="op">,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">label</span><span class="op">:</span> <span class="st">"View"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="st">"Absolute Error"</span> }</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(viewOptions)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    regressionPlot<span class="op">.</span><span class="fu">updateView</span>(viewOptions<span class="op">.</span><span class="at">value</span>)<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> viewOptions<span class="op">;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb3-0"><a href="#cb3-0" aria-hidden="true" tabindex="-1"></a>rSquaredPlot <span class="op">=</span> <span class="fu">RSquaredPlot</span>({ <span class="dt">width</span><span class="op">:</span> width })</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb4-0"><a href="#cb4-0" aria-hidden="true" tabindex="-1"></a>regressionPlot <span class="op">=</span> {</span>
<span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionPlot <span class="op">=</span> <span class="fu">RegressionPlot</span>(data<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">,</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> width<span class="op">,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xDomain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> ([x]) <span class="kw">=&gt;</span> x) <span class="op">+</span> <span class="dv">5</span>]<span class="op">,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yDomain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> ([_<span class="op">,</span> y]) <span class="kw">=&gt;</span> y) <span class="op">+</span> <span class="dv">5</span>]<span class="op">,</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">showGrid</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Attach listener</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(regressionPlot)<span class="op">.</span><span class="fu">on</span>(<span class="st">"input"</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    rSquaredPlot<span class="op">.</span><span class="fu">update</span>(<span class="kw">this</span><span class="op">.</span><span class="at">value</span><span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">transition</span>)<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  rSquaredPlot<span class="op">.</span><span class="fu">update</span>(regressionPlot<span class="op">.</span><span class="at">value</span>)<span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> regressionPlot<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="1" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>width <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> numPoints <span class="op">=</span> <span class="dv">15</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xShift <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yScale <span class="op">=</span> <span class="dv">6</span><span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yShift <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(numPoints)<span class="op">.</span><span class="fu">map</span>((i) <span class="kw">=&gt;</span> {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> xCoord <span class="op">=</span> xShift <span class="op">+</span> xScale <span class="op">*</span> d3<span class="op">.</span><span class="fu">randomUniform</span>()()<span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> yCoord <span class="op">=</span> yShift <span class="op">+</span> xCoord <span class="op">+</span> yScale <span class="op">*</span> d3<span class="op">.</span><span class="fu">randomUniform</span>()()<span class="op">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [xCoord<span class="op">,</span> yCoord]<span class="op">;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb6-0"><a href="#cb6-0" aria-hidden="true" tabindex="-1"></a>animation <span class="op">=</span> {</span>
<span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Perform opening animation</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> totalTime <span class="op">=</span> <span class="dv">6_000</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> ease <span class="op">=</span> d3<span class="op">.</span><span class="at">easeQuadOut</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">1</span><span class="op">,</span> data<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="fu">forEach</span>((i) <span class="kw">=&gt;</span> {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> [xCoord<span class="op">,</span> yCoord] <span class="op">=</span> data[i]<span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      regressionPlot<span class="op">.</span><span class="fu">updateDatapoint</span>(xCoord<span class="op">,</span> yCoord)<span class="op">;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> totalTime <span class="op">*</span> <span class="fu">ease</span>(i <span class="op">/</span> data<span class="op">.</span><span class="at">length</span>))<span class="op">;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb7-0"><a href="#cb7-0" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">RSquaredPlot</span>({</span>
<span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  data<span class="op">,</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  marginTop <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="co">// top margin, in pixels</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  marginRight <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// right margin, in pixels</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  marginBottom <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="co">// bottom margin, in pixels</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  marginLeft <span class="op">=</span> <span class="dv">53</span><span class="op">,</span> <span class="co">// left margin, in pixels</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  width <span class="op">=</span> <span class="dv">640</span><span class="op">,</span> <span class="co">// outer width, in pixels</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  height <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// outer height, in pixels</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  barHeight <span class="op">=</span> <span class="dv">25</span><span class="op">,</span> <span class="co">// height of bar, in pixels</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  titleSize <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// fontsize of title text</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  labelSize <span class="op">=</span> <span class="dv">12</span> <span class="co">// fontsize of label text</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>} <span class="op">=</span> {}) {</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (data <span class="op">===</span> <span class="kw">undefined</span>) data <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> d3</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([marginLeft<span class="op">,</span> width <span class="op">-</span> marginRight])<span class="op">;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto; height: intrinsic;"</span>)<span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw title.</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> titleGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">;</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="co">// titleGroup</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append("line")</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("stroke", "black")</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("x1", xScale(0))</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("x2", xScale(0))</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("y1", 0)</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr("y2", height);</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  titleGroup</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"end"</span>)</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dominant-baseline"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-family"</span><span class="op">,</span> <span class="st">"serif"</span>)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> titleSize)</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> <span class="op">-</span><span class="dv">10</span>)</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> height <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"R¬≤"</span>)<span class="op">;</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw whole bar.</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"gainsboro"</span>)</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> marginTop)</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width <span class="op">-</span> marginLeft <span class="op">-</span> marginRight)</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height <span class="op">-</span> marginTop <span class="op">-</span> marginBottom)<span class="op">;</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw bar.</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> bar <span class="op">=</span> <span class="fu">updateBar</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"rect"</span>)<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw label</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> labelFormat <span class="op">=</span> d3<span class="op">.</span><span class="fu">format</span>(<span class="st">".2f"</span>)<span class="op">;</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> label <span class="op">=</span> <span class="fu">updateLabel</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"text"</span>)<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Update according to data.</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateBar</span>(rect<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> rect<span class="op">.</span><span class="fu">data</span>([data])<span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>      (enter) <span class="kw">=&gt;</span></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>        enter</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> marginTop)</span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height <span class="op">-</span> marginTop <span class="op">-</span> marginBottom)<span class="op">,</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>      (update) <span class="kw">=&gt;</span></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>        update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(<span class="pp">isNaN</span>(d) <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> d) <span class="op">-</span> <span class="fu">xScale</span>(<span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateLabel</span>(text<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text<span class="op">.</span><span class="fu">data</span>([data])<span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>      (enter) <span class="kw">=&gt;</span></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>        enter</span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dominant-baseline"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-family"</span><span class="op">,</span> <span class="st">"sans-serif"</span>)</span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> labelSize)</span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)</span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"start"</span>)</span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> <span class="dv">10</span>)</span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="fu">xScale</span>(<span class="dv">0</span>))</span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> height <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">text</span>(<span class="fu">labelFormat</span>(<span class="st">"0"</span>))<span class="op">,</span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a>      (update) <span class="kw">=&gt;</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a>        update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a>          <span class="co">// Check if bar is too short</span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> check <span class="op">=</span> (d) <span class="kw">=&gt;</span> d <span class="op">&lt;</span> <span class="fl">0.1</span><span class="op">;</span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a>          update</span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d))</span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">text</span>((d) <span class="kw">=&gt;</span> <span class="fu">labelFormat</span>(d))</span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="st">"black"</span> <span class="op">:</span> <span class="st">"white"</span>))</span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="st">"start"</span> <span class="op">:</span> <span class="st">"end"</span>))</span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> (<span class="fu">check</span>(d) <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="op">-</span><span class="dv">10</span>))<span class="op">;</span></span>
<span id="cb7-116"><a href="#cb7-116" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb7-117"><a href="#cb7-117" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb7-118"><a href="#cb7-118" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-119"><a href="#cb7-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-120"><a href="#cb7-120" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Main function for data updates.</span></span>
<span id="cb7-121"><a href="#cb7-121" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">update</span>(data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb7-122"><a href="#cb7-122" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateBar</span>(bar<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb7-123"><a href="#cb7-123" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateLabel</span>(label<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb7-124"><a href="#cb7-124" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-125"><a href="#cb7-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-126"><a href="#cb7-126" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">assign</span>(svg<span class="op">.</span><span class="fu">node</span>()<span class="op">,</span> { update })<span class="op">;</span></span>
<span id="cb7-127"><a href="#cb7-127" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb8-0"><a href="#cb8-0" aria-hidden="true" tabindex="-1"></a><span class="co">// to draw lines at the origin (to show intercept and stuff)</span></span>
<span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">// create voronoi overlay? for dragging points</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">// viz error / squared error</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">// make the error lines look like a weight</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">// show other metrics like R^2 etc.</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">RegressionPlot</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  data<span class="op">,</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> ([x]) <span class="kw">=&gt;</span> x<span class="op">,</span> <span class="co">// accessor function for x-coordinate</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> ([<span class="op">,</span> y]) <span class="kw">=&gt;</span> y<span class="op">,</span> <span class="co">// accessor function for y-coordinate</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> <span class="dv">6</span><span class="op">,</span> <span class="co">// radius of dots, in pixels</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    marginTop <span class="op">=</span> <span class="dv">20</span><span class="op">,</span> <span class="co">// top margin, in pixels</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    marginRight <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// right margin, in pixels</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    marginBottom <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> <span class="co">// bottom margin, in pixels</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    marginLeft <span class="op">=</span> <span class="dv">40</span><span class="op">,</span> <span class="co">// left margin, in pixels</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    inset <span class="op">=</span> r <span class="op">*</span> <span class="dv">2</span><span class="op">,</span> <span class="co">// inset the default range, in pixels</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    insetTop <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default y-range</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    insetRight <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default x-range</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    insetBottom <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default y-range</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    insetLeft <span class="op">=</span> inset<span class="op">,</span> <span class="co">// inset the default x-range</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    width <span class="op">=</span> <span class="dv">640</span><span class="op">,</span> <span class="co">// outer width, in pixels</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> <span class="dv">500</span><span class="op">,</span> <span class="co">// outer height, in pixels</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    xType <span class="op">=</span> d3<span class="op">.</span><span class="at">scaleLinear</span><span class="op">,</span> <span class="co">// type of x-scale</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    xDomain<span class="op">,</span> <span class="co">// [xmin, xmax]</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    xRange <span class="op">=</span> [marginLeft <span class="op">+</span> insetLeft<span class="op">,</span> width <span class="op">-</span> marginRight <span class="op">-</span> insetRight]<span class="op">,</span> <span class="co">// [left, right]</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    yType <span class="op">=</span> d3<span class="op">.</span><span class="at">scaleLinear</span><span class="op">,</span> <span class="co">// type of y-scale</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    yDomain<span class="op">,</span> <span class="co">// [ymin, ymax]</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    yRange <span class="op">=</span> [height <span class="op">-</span> marginBottom <span class="op">-</span> insetBottom<span class="op">,</span> marginTop <span class="op">+</span> insetTop]<span class="op">,</span> <span class="co">// [bottom, top]</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    showGrid <span class="op">=</span> <span class="kw">true</span> <span class="co">// whether to show grid lines</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  } <span class="op">=</span> {}</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> errorColor <span class="op">=</span> d3<span class="op">.</span><span class="at">schemeSet3</span>[<span class="dv">3</span>]<span class="op">;</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorLinesOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Init drag object.</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> drag <span class="op">=</span> d3</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">drag</span>()</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">// .on("start", dragstarted)</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"drag"</span><span class="op">,</span> dragged)<span class="op">;</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>  <span class="co">// .on("end", dragended);</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  <span class="co">// To give each data point a unique id</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> idCounter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Compute data values.</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>  data <span class="op">=</span> data<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xCoord</span><span class="op">:</span> <span class="fu">x</span>(d)<span class="op">,</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yCoord</span><span class="op">:</span> <span class="fu">y</span>(d)<span class="op">,</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>    <span class="dt">id</span><span class="op">:</span> idCounter<span class="op">++</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>  }))<span class="op">;</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Store copy of initial data object</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> initData <span class="op">=</span> data<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({ <span class="op">...</span>d }))<span class="op">;</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Compute default domains.</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">// if (xDomain === undefined) xDomain = d3.extent(data, (d) =&gt; d.xCoord);</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (xDomain <span class="op">===</span> <span class="kw">undefined</span>) xDomain <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">xCoord</span>)]<span class="op">;</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (yDomain <span class="op">===</span> <span class="kw">undefined</span>) yDomain <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">max</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">yCoord</span>)]<span class="op">;</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Init linear regressor.</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> linearRegression <span class="op">=</span> d3</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">regressionLinear</span>()</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">x</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">xCoord</span>)</span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">y</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">yCoord</span>)</span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>(xDomain)<span class="op">;</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Construct scales and axes.</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> <span class="fu">xType</span>(xDomain<span class="op">,</span> xRange)<span class="op">;</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yScale <span class="op">=</span> <span class="fu">yType</span>(yDomain<span class="op">,</span> yRange)<span class="op">;</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisBottom</span>(xScale)<span class="op">.</span><span class="fu">ticks</span>(width <span class="op">/</span> <span class="dv">80</span>)<span class="op">;</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisLeft</span>(yScale)<span class="op">.</span><span class="fu">ticks</span>(height <span class="op">/</span> <span class="dv">80</span>)<span class="op">;</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw svg.</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto; height: intrinsic;"</span>)<span class="op">;</span></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw xAxis.</span></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> axisOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xGroup <span class="op">=</span> svg</span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(0,</span><span class="sc">${</span>height <span class="op">-</span> marginBottom<span class="sc">}</span><span class="vs">)`</span>)</span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> axisOpacity)</span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>(xAxis)</span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>((g) <span class="kw">=&gt;</span> g<span class="op">.</span><span class="fu">select</span>(<span class="st">".domain"</span>)<span class="op">.</span><span class="fu">remove</span>())<span class="op">;</span></span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw grid lines</span></span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a>  xGroup</span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".tick line"</span>)</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">clone</span>()</span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> marginTop <span class="op">+</span> marginBottom <span class="op">-</span> height)</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Draw line at origin</span></span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-opacity"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (d <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> axisOpacity<span class="op">;</span></span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> showGrid <span class="op">?</span> <span class="fl">0.1</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-105"><a href="#cb8-105" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw yAxis.</span></span>
<span id="cb8-106"><a href="#cb8-106" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yGroup <span class="op">=</span> svg</span>
<span id="cb8-107"><a href="#cb8-107" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb8-108"><a href="#cb8-108" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>marginLeft<span class="sc">}</span><span class="vs">,0)`</span>)</span>
<span id="cb8-109"><a href="#cb8-109" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> axisOpacity)</span>
<span id="cb8-110"><a href="#cb8-110" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>(yAxis)</span>
<span id="cb8-111"><a href="#cb8-111" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">call</span>((g) <span class="kw">=&gt;</span> g<span class="op">.</span><span class="fu">select</span>(<span class="st">".domain"</span>)<span class="op">.</span><span class="fu">remove</span>())<span class="op">;</span></span>
<span id="cb8-112"><a href="#cb8-112" aria-hidden="true" tabindex="-1"></a>  yGroup</span>
<span id="cb8-113"><a href="#cb8-113" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".tick line"</span>)</span>
<span id="cb8-114"><a href="#cb8-114" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">clone</span>()</span>
<span id="cb8-115"><a href="#cb8-115" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> width <span class="op">-</span> marginLeft <span class="op">-</span> marginRight)</span>
<span id="cb8-116"><a href="#cb8-116" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Draw line at origin</span></span>
<span id="cb8-117"><a href="#cb8-117" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-opacity"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb8-118"><a href="#cb8-118" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (d <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb8-119"><a href="#cb8-119" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> axisOpacity<span class="op">;</span></span>
<span id="cb8-120"><a href="#cb8-120" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb8-121"><a href="#cb8-121" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> showGrid <span class="op">?</span> <span class="fl">0.1</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-122"><a href="#cb8-122" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-123"><a href="#cb8-123" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-124"><a href="#cb8-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-125"><a href="#cb8-125" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw error squares.</span></span>
<span id="cb8-126"><a href="#cb8-126" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(</span>
<span id="cb8-127"><a href="#cb8-127" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"rect"</span>)<span class="op">,</span></span>
<span id="cb8-128"><a href="#cb8-128" aria-hidden="true" tabindex="-1"></a>    data</span>
<span id="cb8-129"><a href="#cb8-129" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb8-130"><a href="#cb8-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-131"><a href="#cb8-131" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw error lines.</span></span>
<span id="cb8-132"><a href="#cb8-132" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb8-133"><a href="#cb8-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-134"><a href="#cb8-134" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw regression line.</span></span>
<span id="cb8-135"><a href="#cb8-135" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionLineGroup <span class="op">=</span> svg</span>
<span id="cb8-136"><a href="#cb8-136" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb8-137"><a href="#cb8-137" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"black"</span>)</span>
<span id="cb8-138"><a href="#cb8-138" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb8-139"><a href="#cb8-139" aria-hidden="true" tabindex="-1"></a>  <span class="co">// .attr("stroke-dasharray", "20,20");</span></span>
<span id="cb8-140"><a href="#cb8-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-141"><a href="#cb8-141" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> regressionLine <span class="op">=</span> <span class="fu">updateRegressionLine</span>(</span>
<span id="cb8-142"><a href="#cb8-142" aria-hidden="true" tabindex="-1"></a>    regressionLineGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)<span class="op">,</span></span>
<span id="cb8-143"><a href="#cb8-143" aria-hidden="true" tabindex="-1"></a>    data</span>
<span id="cb8-144"><a href="#cb8-144" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb8-145"><a href="#cb8-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-146"><a href="#cb8-146" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw space for plot interactions.</span></span>
<span id="cb8-147"><a href="#cb8-147" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> plotRect <span class="op">=</span> svg</span>
<span id="cb8-148"><a href="#cb8-148" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb8-149"><a href="#cb8-149" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> width)</span>
<span id="cb8-150"><a href="#cb8-150" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> height)</span>
<span id="cb8-151"><a href="#cb8-151" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-152"><a href="#cb8-152" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> addDatapoint)<span class="op">;</span></span>
<span id="cb8-153"><a href="#cb8-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-154"><a href="#cb8-154" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw data points.</span></span>
<span id="cb8-155"><a href="#cb8-155" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> circlesGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"black"</span>)<span class="op">;</span></span>
<span id="cb8-156"><a href="#cb8-156" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> circles <span class="op">=</span> <span class="fu">updateCircles</span>(circlesGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"circle"</span>)<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb8-157"><a href="#cb8-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-158"><a href="#cb8-158" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Drag interactions for circles.</span></span>
<span id="cb8-159"><a href="#cb8-159" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragstarted</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb8-160"><a href="#cb8-160" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">raise</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"red"</span>)<span class="op">;</span></span>
<span id="cb8-161"><a href="#cb8-161" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-162"><a href="#cb8-162" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragged</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb8-163"><a href="#cb8-163" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)</span>
<span id="cb8-164"><a href="#cb8-164" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Update data point, as well as its position on the plot</span></span>
<span id="cb8-165"><a href="#cb8-165" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb8-166"><a href="#cb8-166" aria-hidden="true" tabindex="-1"></a>        d<span class="op">.</span><span class="at">xCoord</span> <span class="op">=</span> xScale<span class="op">.</span><span class="fu">invert</span>(<span class="bu">event</span><span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb8-167"><a href="#cb8-167" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">event</span><span class="op">.</span><span class="at">x</span><span class="op">;</span></span>
<span id="cb8-168"><a href="#cb8-168" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb8-169"><a href="#cb8-169" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb8-170"><a href="#cb8-170" aria-hidden="true" tabindex="-1"></a>        d<span class="op">.</span><span class="at">yCoord</span> <span class="op">=</span> yScale<span class="op">.</span><span class="fu">invert</span>(<span class="bu">event</span><span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb8-171"><a href="#cb8-171" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">event</span><span class="op">.</span><span class="at">y</span><span class="op">;</span></span>
<span id="cb8-172"><a href="#cb8-172" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb8-173"><a href="#cb8-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-174"><a href="#cb8-174" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateRegressionLine</span>(regressionLine<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb8-175"><a href="#cb8-175" aria-hidden="true" tabindex="-1"></a>    errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(errorSquares<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb8-176"><a href="#cb8-176" aria-hidden="true" tabindex="-1"></a>    errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(errorLines<span class="op">,</span> data<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb8-177"><a href="#cb8-177" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-178"><a href="#cb8-178" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">dragended</span>(<span class="bu">event</span><span class="op">,</span> i) {</span>
<span id="cb8-179"><a href="#cb8-179" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb8-180"><a href="#cb8-180" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-181"><a href="#cb8-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-182"><a href="#cb8-182" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Click interaction for circles.</span></span>
<span id="cb8-183"><a href="#cb8-183" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">removeDatapoint</span>(<span class="bu">event</span><span class="op">,</span> dCurr) {</span>
<span id="cb8-184"><a href="#cb8-184" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="bu">event</span><span class="op">.</span><span class="at">defaultPrevented</span>) <span class="cf">return</span><span class="op">;</span> <span class="co">// dragged</span></span>
<span id="cb8-185"><a href="#cb8-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-186"><a href="#cb8-186" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Remove data point; faster way to do this?</span></span>
<span id="cb8-187"><a href="#cb8-187" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> data<span class="op">.</span><span class="fu">filter</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span> <span class="op">!==</span> dCurr<span class="op">.</span><span class="at">id</span>)<span class="op">;</span></span>
<span id="cb8-188"><a href="#cb8-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-189"><a href="#cb8-189" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb8-190"><a href="#cb8-190" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-191"><a href="#cb8-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-192"><a href="#cb8-192" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Click interaction for plot.</span></span>
<span id="cb8-193"><a href="#cb8-193" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">addDatapoint</span>(<span class="bu">event</span>) {</span>
<span id="cb8-194"><a href="#cb8-194" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> [xm<span class="op">,</span> ym] <span class="op">=</span> d3<span class="op">.</span><span class="fu">pointer</span>(<span class="bu">event</span>)<span class="op">;</span></span>
<span id="cb8-195"><a href="#cb8-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-196"><a href="#cb8-196" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateDatapoint</span>(xScale<span class="op">.</span><span class="fu">invert</span>(xm)<span class="op">,</span> yScale<span class="op">.</span><span class="fu">invert</span>(ym))<span class="op">;</span></span>
<span id="cb8-197"><a href="#cb8-197" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-198"><a href="#cb8-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-199"><a href="#cb8-199" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function for regression line update.</span></span>
<span id="cb8-200"><a href="#cb8-200" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateRegressionLine</span>(line<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-201"><a href="#cb8-201" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb8-202"><a href="#cb8-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-203"><a href="#cb8-203" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Dispatch event and R^2 value</span></span>
<span id="cb8-204"><a href="#cb8-204" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">node</span>()<span class="op">.</span><span class="at">value</span> <span class="op">=</span> regressionData<span class="op">.</span><span class="at">rSquared</span><span class="op">;</span></span>
<span id="cb8-205"><a href="#cb8-205" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">node</span>()<span class="op">.</span><span class="at">transition</span> <span class="op">=</span> transition<span class="op">;</span></span>
<span id="cb8-206"><a href="#cb8-206" aria-hidden="true" tabindex="-1"></a>    svg<span class="op">.</span><span class="fu">dispatch</span>(<span class="st">"input"</span><span class="op">,</span> { <span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb8-207"><a href="#cb8-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-208"><a href="#cb8-208" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> line</span>
<span id="cb8-209"><a href="#cb8-209" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>([regressionData])</span>
<span id="cb8-210"><a href="#cb8-210" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(<span class="st">"line"</span>)</span>
<span id="cb8-211"><a href="#cb8-211" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">call</span>((line) <span class="kw">=&gt;</span> {</span>
<span id="cb8-212"><a href="#cb8-212" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (transition) line <span class="op">=</span> line<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb8-213"><a href="#cb8-213" aria-hidden="true" tabindex="-1"></a>        line</span>
<span id="cb8-214"><a href="#cb8-214" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d[<span class="dv">0</span>][<span class="dv">0</span>]))</span>
<span id="cb8-215"><a href="#cb8-215" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d[<span class="dv">1</span>][<span class="dv">0</span>]))</span>
<span id="cb8-216"><a href="#cb8-216" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d[<span class="dv">0</span>][<span class="dv">1</span>]))</span>
<span id="cb8-217"><a href="#cb8-217" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d[<span class="dv">1</span>][<span class="dv">1</span>]))<span class="op">;</span></span>
<span id="cb8-218"><a href="#cb8-218" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb8-219"><a href="#cb8-219" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-220"><a href="#cb8-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-221"><a href="#cb8-221" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update circles based on new data.</span></span>
<span id="cb8-222"><a href="#cb8-222" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateCircles</span>(circles<span class="op">,</span> data) {</span>
<span id="cb8-223"><a href="#cb8-223" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> circles</span>
<span id="cb8-224"><a href="#cb8-224" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb8-225"><a href="#cb8-225" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb8-226"><a href="#cb8-226" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb8-227"><a href="#cb8-227" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb8-228"><a href="#cb8-228" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb8-229"><a href="#cb8-229" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-230"><a href="#cb8-230" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-231"><a href="#cb8-231" aria-hidden="true" tabindex="-1"></a>            <span class="co">// To transition from 0 radius</span></span>
<span id="cb8-232"><a href="#cb8-232" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-233"><a href="#cb8-233" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Attach interactions</span></span>
<span id="cb8-234"><a href="#cb8-234" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>(drag)</span>
<span id="cb8-235"><a href="#cb8-235" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> removeDatapoint)</span>
<span id="cb8-236"><a href="#cb8-236" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb8-237"><a href="#cb8-237" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span></span>
<span id="cb8-238"><a href="#cb8-238" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb8-239"><a href="#cb8-239" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-240"><a href="#cb8-240" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">ease</span>(d3<span class="op">.</span><span class="at">easeBackOut</span><span class="op">.</span><span class="fu">overshoot</span>(<span class="fl">1.7</span>))</span>
<span id="cb8-241"><a href="#cb8-241" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> r)</span>
<span id="cb8-242"><a href="#cb8-242" aria-hidden="true" tabindex="-1"></a>            )<span class="op">,</span></span>
<span id="cb8-243"><a href="#cb8-243" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb8-244"><a href="#cb8-244" aria-hidden="true" tabindex="-1"></a>          update</span>
<span id="cb8-245"><a href="#cb8-245" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-246"><a href="#cb8-246" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-247"><a href="#cb8-247" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))<span class="op">,</span></span>
<span id="cb8-248"><a href="#cb8-248" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span></span>
<span id="cb8-249"><a href="#cb8-249" aria-hidden="true" tabindex="-1"></a>          exit</span>
<span id="cb8-250"><a href="#cb8-250" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-251"><a href="#cb8-251" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">ease</span>(d3<span class="op">.</span><span class="at">easeBackIn</span><span class="op">.</span><span class="fu">overshoot</span>(<span class="fl">1.7</span>))</span>
<span id="cb8-252"><a href="#cb8-252" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-253"><a href="#cb8-253" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb8-254"><a href="#cb8-254" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb8-255"><a href="#cb8-255" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-256"><a href="#cb8-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-257"><a href="#cb8-257" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update error lines based on new data.</span></span>
<span id="cb8-258"><a href="#cb8-258" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateErrorLines</span>(lines<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-259"><a href="#cb8-259" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb8-260"><a href="#cb8-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-261"><a href="#cb8-261" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> lines</span>
<span id="cb8-262"><a href="#cb8-262" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb8-263"><a href="#cb8-263" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb8-264"><a href="#cb8-264" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb8-265"><a href="#cb8-265" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb8-266"><a href="#cb8-266" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"line"</span>)</span>
<span id="cb8-267"><a href="#cb8-267" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> errorColor)</span>
<span id="cb8-268"><a href="#cb8-268" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb8-269"><a href="#cb8-269" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> errorLinesOpacity)</span>
<span id="cb8-270"><a href="#cb8-270" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Start at data point</span></span>
<span id="cb8-271"><a href="#cb8-271" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-272"><a href="#cb8-272" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-273"><a href="#cb8-273" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-274"><a href="#cb8-274" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-275"><a href="#cb8-275" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb8-276"><a href="#cb8-276" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span></span>
<span id="cb8-277"><a href="#cb8-277" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb8-278"><a href="#cb8-278" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-279"><a href="#cb8-279" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)))</span>
<span id="cb8-280"><a href="#cb8-280" aria-hidden="true" tabindex="-1"></a>            )<span class="op">,</span></span>
<span id="cb8-281"><a href="#cb8-281" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb8-282"><a href="#cb8-282" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb8-283"><a href="#cb8-283" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb8-284"><a href="#cb8-284" aria-hidden="true" tabindex="-1"></a>            update</span>
<span id="cb8-285"><a href="#cb8-285" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-286"><a href="#cb8-286" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-287"><a href="#cb8-287" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-288"><a href="#cb8-288" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)))<span class="op">;</span></span>
<span id="cb8-289"><a href="#cb8-289" aria-hidden="true" tabindex="-1"></a>          })<span class="op">,</span></span>
<span id="cb8-290"><a href="#cb8-290" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span></span>
<span id="cb8-291"><a href="#cb8-291" aria-hidden="true" tabindex="-1"></a>          exit</span>
<span id="cb8-292"><a href="#cb8-292" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-293"><a href="#cb8-293" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-294"><a href="#cb8-294" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb8-295"><a href="#cb8-295" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb8-296"><a href="#cb8-296" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-297"><a href="#cb8-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-298"><a href="#cb8-298" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Helper function to update error squares based on new data.</span></span>
<span id="cb8-299"><a href="#cb8-299" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateErrorSquares</span>(rects<span class="op">,</span> data<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-300"><a href="#cb8-300" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> regressionData <span class="op">=</span> <span class="fu">linearRegression</span>(data)<span class="op">;</span></span>
<span id="cb8-301"><a href="#cb8-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-302"><a href="#cb8-302" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> computeHeight <span class="op">=</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb8-303"><a href="#cb8-303" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> yCoordPred <span class="op">=</span> regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="op">;</span></span>
<span id="cb8-304"><a href="#cb8-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-305"><a href="#cb8-305" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(<span class="fu">yScale</span>(yCoordPred) <span class="op">-</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))<span class="op">;</span></span>
<span id="cb8-306"><a href="#cb8-306" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb8-307"><a href="#cb8-307" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Compute which direction the box should face</span></span>
<span id="cb8-308"><a href="#cb8-308" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> computeTransform <span class="op">=</span> (d) <span class="kw">=&gt;</span> {</span>
<span id="cb8-309"><a href="#cb8-309" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> yCoordPred <span class="op">=</span> regressionData<span class="op">.</span><span class="fu">predict</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="op">;</span></span>
<span id="cb8-310"><a href="#cb8-310" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> check <span class="op">=</span> <span class="fu">yScale</span>(yCoordPred) <span class="op">-</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>) <span class="op">&lt;</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-311"><a href="#cb8-311" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> deg <span class="op">=</span> check <span class="op">?</span> <span class="op">-</span><span class="dv">90</span> <span class="op">:</span> <span class="dv">90</span><span class="op">;</span></span>
<span id="cb8-312"><a href="#cb8-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-313"><a href="#cb8-313" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="vs">`rotate(</span><span class="sc">${</span>deg<span class="sc">}</span><span class="vs">, </span><span class="sc">${</span><span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>)<span class="sc">}</span><span class="vs">, </span><span class="sc">${</span><span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>)<span class="sc">}</span><span class="vs">)`</span><span class="op">;</span></span>
<span id="cb8-314"><a href="#cb8-314" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb8-315"><a href="#cb8-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-316"><a href="#cb8-316" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> rects</span>
<span id="cb8-317"><a href="#cb8-317" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">id</span>)</span>
<span id="cb8-318"><a href="#cb8-318" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">join</span>(</span>
<span id="cb8-319"><a href="#cb8-319" aria-hidden="true" tabindex="-1"></a>        (enter) <span class="kw">=&gt;</span></span>
<span id="cb8-320"><a href="#cb8-320" aria-hidden="true" tabindex="-1"></a>          enter</span>
<span id="cb8-321"><a href="#cb8-321" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">append</span>(<span class="st">"rect"</span>)</span>
<span id="cb8-322"><a href="#cb8-322" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"none"</span>)</span>
<span id="cb8-323"><a href="#cb8-323" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> errorColor)</span>
<span id="cb8-324"><a href="#cb8-324" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> errorSquaresOpacity)</span>
<span id="cb8-325"><a href="#cb8-325" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> computeTransform)</span>
<span id="cb8-326"><a href="#cb8-326" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Start at data point</span></span>
<span id="cb8-327"><a href="#cb8-327" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-328"><a href="#cb8-328" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-329"><a href="#cb8-329" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-330"><a href="#cb8-330" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb8-331"><a href="#cb8-331" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Add transition</span></span>
<span id="cb8-332"><a href="#cb8-332" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">call</span>((enter) <span class="kw">=&gt;</span> {</span>
<span id="cb8-333"><a href="#cb8-333" aria-hidden="true" tabindex="-1"></a>              enter</span>
<span id="cb8-334"><a href="#cb8-334" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb8-335"><a href="#cb8-335" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> computeHeight)</span>
<span id="cb8-336"><a href="#cb8-336" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> computeHeight)<span class="op">;</span></span>
<span id="cb8-337"><a href="#cb8-337" aria-hidden="true" tabindex="-1"></a>            })<span class="op">,</span></span>
<span id="cb8-338"><a href="#cb8-338" aria-hidden="true" tabindex="-1"></a>        (update) <span class="kw">=&gt;</span></span>
<span id="cb8-339"><a href="#cb8-339" aria-hidden="true" tabindex="-1"></a>          update<span class="op">.</span><span class="fu">call</span>((update) <span class="kw">=&gt;</span> {</span>
<span id="cb8-340"><a href="#cb8-340" aria-hidden="true" tabindex="-1"></a>            update<span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> computeTransform)<span class="op">;</span></span>
<span id="cb8-341"><a href="#cb8-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-342"><a href="#cb8-342" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (transition) update <span class="op">=</span> update<span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb8-343"><a href="#cb8-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-344"><a href="#cb8-344" aria-hidden="true" tabindex="-1"></a>            update</span>
<span id="cb8-345"><a href="#cb8-345" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">xScale</span>(d<span class="op">.</span><span class="at">xCoord</span>))</span>
<span id="cb8-346"><a href="#cb8-346" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">yCoord</span>))</span>
<span id="cb8-347"><a href="#cb8-347" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> computeHeight)</span>
<span id="cb8-348"><a href="#cb8-348" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> computeHeight)<span class="op">;</span></span>
<span id="cb8-349"><a href="#cb8-349" aria-hidden="true" tabindex="-1"></a>          })<span class="op">,</span></span>
<span id="cb8-350"><a href="#cb8-350" aria-hidden="true" tabindex="-1"></a>        (exit) <span class="kw">=&gt;</span> exit<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"height"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">.</span><span class="fu">remove</span>()</span>
<span id="cb8-351"><a href="#cb8-351" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb8-352"><a href="#cb8-352" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-353"><a href="#cb8-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-354"><a href="#cb8-354" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Resets the plot to the initial data</span></span>
<span id="cb8-355"><a href="#cb8-355" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">reset</span>() {</span>
<span id="cb8-356"><a href="#cb8-356" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(initData<span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb8-357"><a href="#cb8-357" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-358"><a href="#cb8-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-359"><a href="#cb8-359" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Updates which error type to show</span></span>
<span id="cb8-360"><a href="#cb8-360" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateView</span>(option) {</span>
<span id="cb8-361"><a href="#cb8-361" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"None"</span>) {</span>
<span id="cb8-362"><a href="#cb8-362" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-363"><a href="#cb8-363" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-364"><a href="#cb8-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-365"><a href="#cb8-365" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-366"><a href="#cb8-366" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-367"><a href="#cb8-367" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"Absolute Error"</span>) {</span>
<span id="cb8-368"><a href="#cb8-368" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-369"><a href="#cb8-369" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-370"><a href="#cb8-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-371"><a href="#cb8-371" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb8-372"><a href="#cb8-372" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-373"><a href="#cb8-373" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (option <span class="op">===</span> <span class="st">"Squared Error"</span>) {</span>
<span id="cb8-374"><a href="#cb8-374" aria-hidden="true" tabindex="-1"></a>      errorLinesOpacity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-375"><a href="#cb8-375" aria-hidden="true" tabindex="-1"></a>      errorSquaresOpacity <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb8-376"><a href="#cb8-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-377"><a href="#cb8-377" aria-hidden="true" tabindex="-1"></a>      errorLines<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-378"><a href="#cb8-378" aria-hidden="true" tabindex="-1"></a>      errorSquares<span class="op">.</span><span class="fu">transition</span>()<span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb8-379"><a href="#cb8-379" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-380"><a href="#cb8-380" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-381"><a href="#cb8-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-382"><a href="#cb8-382" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Adds a new datapoint and updates the plot</span></span>
<span id="cb8-383"><a href="#cb8-383" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateDatapoint</span>(xCoord<span class="op">,</span> yCoord) {</span>
<span id="cb8-384"><a href="#cb8-384" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Add datapoint</span></span>
<span id="cb8-385"><a href="#cb8-385" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> [<span class="op">...</span>data<span class="op">,</span> { xCoord<span class="op">,</span> yCoord<span class="op">,</span> <span class="dt">id</span><span class="op">:</span> idCounter<span class="op">++</span> }]<span class="op">;</span></span>
<span id="cb8-386"><a href="#cb8-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-387"><a href="#cb8-387" aria-hidden="true" tabindex="-1"></a>    <span class="fu">update</span>(data)<span class="op">;</span></span>
<span id="cb8-388"><a href="#cb8-388" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-389"><a href="#cb8-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-390"><a href="#cb8-390" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Main function that updates the plot based on new data</span></span>
<span id="cb8-391"><a href="#cb8-391" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">update</span>(newData<span class="op">,</span> transition <span class="op">=</span> <span class="kw">true</span>) {</span>
<span id="cb8-392"><a href="#cb8-392" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Upate local data object</span></span>
<span id="cb8-393"><a href="#cb8-393" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> newData<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({ <span class="op">...</span>d }))<span class="op">;</span></span>
<span id="cb8-394"><a href="#cb8-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-395"><a href="#cb8-395" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateRegressionLine</span>(regressionLine<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb8-396"><a href="#cb8-396" aria-hidden="true" tabindex="-1"></a>    circles <span class="op">=</span> <span class="fu">updateCircles</span>(circles<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb8-397"><a href="#cb8-397" aria-hidden="true" tabindex="-1"></a>    errorSquares <span class="op">=</span> <span class="fu">updateErrorSquares</span>(errorSquares<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb8-398"><a href="#cb8-398" aria-hidden="true" tabindex="-1"></a>    errorLines <span class="op">=</span> <span class="fu">updateErrorLines</span>(errorLines<span class="op">,</span> data<span class="op">,</span> transition)<span class="op">;</span></span>
<span id="cb8-399"><a href="#cb8-399" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-400"><a href="#cb8-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-401"><a href="#cb8-401" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">assign</span>(svg<span class="op">.</span><span class="fu">node</span>()<span class="op">,</span> {</span>
<span id="cb8-402"><a href="#cb8-402" aria-hidden="true" tabindex="-1"></a>    update<span class="op">,</span></span>
<span id="cb8-403"><a href="#cb8-403" aria-hidden="true" tabindex="-1"></a>    updateDatapoint<span class="op">,</span></span>
<span id="cb8-404"><a href="#cb8-404" aria-hidden="true" tabindex="-1"></a>    updateView<span class="op">,</span></span>
<span id="cb8-405"><a href="#cb8-405" aria-hidden="true" tabindex="-1"></a>    reset</span>
<span id="cb8-406"><a href="#cb8-406" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb8-407"><a href="#cb8-407" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb9-0"><a href="#cb9-0" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"d3-regression"</span><span class="op">,</span> <span class="st">"d3"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="declaration">

</div>
</div>
</div>
<p><a href="https://observablehq.com/@yizhe-ang/interactive-visualization-of-linear-regression">Quelle</a></p>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-linfun-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.7: Interaktives Beispiel f√ºr eines lineares Modell. F√ºgen Sie Punkte per Klick/Touch hinzu.
</figcaption></figure>
</div>
<p>Alternativ k√∂nnen Sie <a href="https://gallery.shinyapps.io/simple_regression/">diese App</a> njutzen, Regressionskoeffizienten, Steigung (slope) und Achsenabschnitt (Intercept), zu optimieren. Dabei meint ‚Äúoptimieren‚Äù, die Abweichungen (Residuen, Residualfehler; die roten Balken in der App) zu minimieren.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
<p><a href="https://shinyapps.org/showapp.php?app=https://shiny.psy.lmu.de/felix/lmfit&amp;by=Felix%20Sch%C3%B6nbrodt&amp;title=Find-a-fit!&amp;shorttitle=Find-a-fit!">Hier</a> finden Sie eine App, die Ihnen gestattet, selber Hand an eine Regressionsgerade zu legen.</p>
<div id="exr-setosa-vis" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.5 (VERTIEFUNG Regression mit Animationen erkl√§rt)</strong></span> Lesen Sie <a href="https://setosa.io/ev/ordinary-least-squares-regression/">diesen Post</a>, der Ihnen mit Hilfe von Bildern und Animationen (okay, und etwas) Text die Grundlagen der Regressionsanalyse erkl√§rt.<span class="math inline">\(\square\)</span></p>
</div>
<section id="regression-zum-modellieren" class="level3" data-number="2.5.1"><h3 data-number="2.5.1" class="anchored" data-anchor-id="regression-zum-modellieren">
<span class="header-section-number">2.5.1</span> Regression zum Modellieren</h3>
<p>Die Regression ist eine Art Schweizer Taschenmesser der Statistik: F√ºr vieles gut einsetzbar. Anstelle von vielen verschiedenen Verfahren des statistischen Modellierens kann man (fast) immer die Regression verwenden. Das ist nicht nur einfacher, sondern auch sch√∂ner. Wir werden im Folgenden stets die Regression zum Modellieren verwenden. Dann wenden wir die Methoden der Inferenz auf die Kennzahlen der Regression an.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Regression + Inferenz = üíñ</p>
</div>
</div>
<p>Alternativ zur Regression k√∂nnte man sich in den Wald der statistischen Verfahren begeben, <a href="https://web.archive.org/web/20091029162244/http://www.wiwi.uni-muenster.de/ioeb/en/organisation/pfaff/stat_overview_table.html">wie hier von der Uni M√ºnster als Ausschnitt (!) aufgef√ºhrt</a>. Auf dieser Basis kann man meditieren, welches statistischen Verfahren man f√ºr eine bestimmte Fragestellung verwenden sollte, s. Abb. <a href="#fig-choose-test" class="quarto-xref">Abbildung&nbsp;<span>2.8</span></a>. Muss man aber nicht ‚Äì man kann stattdessen die Regression benutzen.</p>
<div id="fig-choose-test" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-choose-test-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/choose-test.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-choose-test-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.8: W√§hle deine Statistik mit Bedacht. Oder w√§hle die Regressionsanalyse.
</figcaption></figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es ist meist einfacher und n√ºtzlicher, die Regression zu verwenden, anstelle der Vielzahl von anderen Verfahren (die zumeist Spezialf√§lle der Regression sind). In diesem Kurs werden wir f√ºr alle Fragestellungen die Regression verwenden.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a><span class="math inline">\(\square\)</span></p>
</div>
</div>
<!-- ![Common statistical tests as linear models](img/linear_tests_cheat_sheet.png){#fig-lindeloev} -->
</section><section id="in-voller-pracht" class="level3" data-number="2.5.2"><h3 data-number="2.5.2" class="anchored" data-anchor-id="in-voller-pracht">
<span class="header-section-number">2.5.2</span> In voller Pracht</h3>
<p>Hier ist die Regressionsgleichung in voller Pracht; s. <a href="#fig-regr-rules" class="quarto-xref">Abbildung&nbsp;<span>2.9</span></a>. Links sieht man eine einfache Regression mit <code>hp</code> als Pr√§diktor (<code>X</code>, unabh√§ngige Variable) und <code>mpg</code> als abh√§ngige Variable (<code>Y</code>). Das rechte Teildiagramm zeigt eine multiple Regression mit den Pr√§diktoren <code>hp</code> und <code>am</code>.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<p>Im einfachsten Fall sind die vom Modell vorhergesagten (gesch√§tzten) Werte, <span class="math inline">\(\hat{y}\)</span>, durch eine einfache Gerade beschrieben, s. <a href="#fig-regr-rules" class="quarto-xref">Abbildung&nbsp;<span>2.9</span></a>, links. Eine Gerade l√§sst sich durch folgende Formel beschreiben: <span class="math inline">\(\hat{y} = \beta_0 + \beta_1\)</span>. Dabei ist <span class="math inline">\(\beta_0\)</span> der <em>Achsenabschnitt</em> (eng. intercept) und <span class="math inline">\(\beta_1\)</span> die <em>Steigung</em> der Regressiongeraden.</p>
<div class="{def-lm}">
<p>In allgemeiner Form schreibt man die Regressionsgleichung so, s. <a href="#eq-lm" class="quarto-xref">Gleichung&nbsp;<span>2.1</span></a></p>
<p><span id="eq-lm"><span class="math display">\[y = \beta_0 + \beta_1 x_1 + \ldots + \beta_k x_k + \epsilon \tag{2.1}\]</span></span></p>
<p>Man nennt alle <span class="math inline">\(\beta_0, \beta_1, \beta_2, ...\)</span> die <em>Koeffizienten</em>, <em>Regressionsgewichte</em> oder <em>Parameter</em> des Modells <span class="citation" data-cites="gelman_regression_2021">(<a href="references.html#ref-gelman_regression_2021" role="doc-biblioref">Gelman, Hill, und Vehtari 2021</a>)</span>.</p>
</div>
<p>Anhand von <a href="#eq-lm" class="quarto-xref">Gleichung&nbsp;<span>2.1</span></a> erkennt man auch, warum man von einem <em>linearen Modell</em> spricht: Y wird als gewichteter Mittelwert mehrerer Summanden (<span class="math inline">\(X_1, X_2, ...\)</span>) berechnet.</p>
<div id="fig-regr-rules" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-regr-rules-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-rules" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-regr-rules-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-rules-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-regr-rules-1.png" class="img-fluid figure-img" data-ref-parent="fig-regr-rules" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-rules-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Einfache Regression (ein Pr√§diktor: hp)
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-rules" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-regr-rules-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-rules-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-regr-rules-2.png" class="img-fluid figure-img" data-ref-parent="fig-regr-rules" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-rules-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Multiple Regression (zwei Pr√§diktoren: hp und am)
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regr-rules-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.9: Die Regressionsgerade in voller Pracht
</figcaption></figure>
</div>
</section></section><section id="unsicherheit" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="unsicherheit">
<span class="header-section-number">2.6</span> Unsicherheit</h2>
<section id="inferenz-beinhaltet-ungewissheit" class="level3" data-number="2.6.1"><h3 data-number="2.6.1" class="anchored" data-anchor-id="inferenz-beinhaltet-ungewissheit">
<span class="header-section-number">2.6.1</span> Inferenz beinhaltet Ungewissheit</h3>
<p>Inferenzstatistische Schl√ºsse sind mit Unsicherheit (Ungewissheit) behaftet: Schlie√ülich kennt man nur einen Teil (die Stichprobe) eines Ganzen (die Population), m√∂chte aber vom Teil auf das Ganze schlie√üen.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nichts Genaues wei√ü man nicht: Schlie√üt man von einem Teil auf das Ganze, so geschieht das unter Unsicherheit. Man spricht von <em>Ungewissheit</em>, da man die Unsicherheit das Wissen √ºber die Genauigkeit des Schlie√üens betrifft.</p>
</div>
</div>
<p>Schlie√üt man etwa, dass in einer Grundgesamtheit der Anteil der R-Fans bei 42% liegt, so geschieht das unter Unsicherheit; es ist ungewiss. Man ist sich nicht sicher, dass es wirklich 42% in der Population sind - und nicht etwa etwas mehr oder etwas weniger. Schlie√ülich hat man <em>nicht</em> die ganze Population gesehen bzw. vermessen. <em>Sicher</em> ist man sich hingegen f√ºr die Stichprobe (Messfehler einmal ausgeblendet). Zur Bemessung der Unsicherheit (Ungewissheit) bedient man sich der Wahrscheinlichkeitsrechnung (wo immer m√∂glich). Die Wahrscheinlichkeitstheorie bzw. -rechnung wird daher auch als die Mathematik des Zufalls bezeichnet.</p>
<div id="def-zufall" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.4 (Zuf√§lliges Ereignis)</strong></span> Unter einem zuf√§lligen (engl. random) Ereignis verstehen wir ein Ereignis, das nicht (komplett) vorherzusehen ist, wie etwa die Augenzahl Ihres n√§chsten W√ºrfelwurfs. Zuf√§llig bedeutet nicht (zwangsl√§ufig), dass das Ereignisse keine Ursachen besitzt. So gehorchen die Bewegungen eines W√ºrfels den Gesetzen der Physik, nur sind uns diese oder die genauen Randbedingungen nicht (ausreichend) bekannt.</p>
</div>
<div id="exr-muenz" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.6</strong></span> üèã Welche physikalischen Randbedingungen wirken wohl auf einen M√ºnzwurf ein?<span class="math inline">\(\square\)</span></p>
</div>
<div id="exm-muenz" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.4 (Beispiele zur Quantifizierung von Ungewissheit)</strong></span> Aussagen mit Unsicherheit k√∂nnen unterschiedlich pr√§zise formuliert sein.</p>
<ul>
<li><p>Morgen regnet‚Äôs <span class="math inline">\(\Leftrightarrow\)</span> Morgen wird es hier mehr als 0 mm Niederschlag geben (<span class="math inline">\(p=97\%\)</span>).</p></li>
<li><p>Methode <span class="math inline">\(A\)</span> ist besser als Methode <span class="math inline">\(B\)</span> <span class="math inline">\(\Leftrightarrow\)</span> Mit einer Wahrscheinlichkeit von 57% ist der Mittelwert von <span class="math inline">\(Y\)</span> f√ºr Methode <span class="math inline">\(A\)</span> h√∂her als f√ºr Methode <span class="math inline">\(B\)</span>.</p></li>
<li><p>Die Maschine f√§llt demn√§chst aus <span class="math inline">\(\Leftrightarrow\)</span> Mit einer Wahrscheinlichkeit von 97% wird die Maschine in den n√§chsten 1-3 Tagen ausfallen, laut unserem Modell.</p></li>
<li><p>Die Investition lohnt sich <span class="math inline">\(\Leftrightarrow\)</span> Die Investition hat einen Erwartungswert von 42 Euro; mit 90% Wahrscheinlichkeit wird der Gewinn zwischen -10000 und 100 Euro.</p></li>
</ul>
</div>
<div id="exr-ungewiss" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.7</strong></span> üèã Geben Sie weitere Beispiele an!</p>
</div>
</section><section id="wahrscheinlichkeit" class="level3" data-number="2.6.2"><h3 data-number="2.6.2" class="anchored" data-anchor-id="wahrscheinlichkeit">
<span class="header-section-number">2.6.2</span> Wahrscheinlichkeit</h3>
<p>Die Wahrscheinlichkeitsrechnung ist die typische Methode, um Ungewissheit zu pr√§zisieren, d.h. zu quantifizieren.</p>
<div id="def-wskt" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.5 (Wahrscheinlichkeit)</strong></span> Die Wahrscheinlichkeit ist ein Ma√ü daf√ºr, f√ºr wie sicher jemand es h√§lt, dass ein Ereignis eintritt. Die Wahrscheinlichkeit eines Ereignisses wird als Zahl zwischen 0 und 1 angegeben, wobei 0 bedeutet, dass das Ereignis als unm√∂glich angesehen wird, und 1 bedeutet, dass das Ereignis als sicher betrachtet wird. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="zwei-arten-von-ungewissheit" class="level3" data-number="2.6.3"><h3 data-number="2.6.3" class="anchored" data-anchor-id="zwei-arten-von-ungewissheit">
<span class="header-section-number">2.6.3</span> Zwei Arten von Ungewissheit</h3>
<p>Im Modellieren im Allgemeinen und in Regressionsmodellen im Besonderen lassen sich (mindestens) zwei Arten von Ungewissheiten angeben, s. auch Abb. <a href="#fig-zwei-arten" class="quarto-xref">Abbildung&nbsp;<span>2.10</span></a>.</p>
<ol type="1">
<li><p>Wie (un)gewiss ist man sich √ºber die Regressionsgewichte?</p></li>
<li><p>Wie (un)gewiss ist man sich √ºber die Genauigkeit der Vorhersage (des Modells)?</p></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-zwei-arten" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-zwei-arten-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-zwei-arten">flowchart LR
X1 --&gt;|Werte von Steigung und Achsenabschnitt?|B
X2 -. Genauigkeit des Modells .-&gt; B

</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zwei-arten-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.10: Zwei Arten der Ungewissheit beim Modellieren
</figcaption></figure>
</div>
</div>
</div>
<section id="ungewissheit-der-modellkoeffizienten" class="level4" data-number="2.6.3.1"><h4 data-number="2.6.3.1" class="anchored" data-anchor-id="ungewissheit-der-modellkoeffizienten">
<span class="header-section-number">2.6.3.1</span> Ungewissheit der Modellkoeffizienten</h4>
<p>Wie man in <a href="#fig-regr-div" class="quarto-xref">Abbildung&nbsp;<span>2.11</span></a> sieht, k√∂nnen sich die Koeffizienten (Achsenabschnitt und Steigung) unterscheiden. Woran liegt das?</p>
<div id="exm-flights" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.5 (Stichproben der New Yorker Fl√ºge)</strong></span> Nehmen wir an, wir ziehen ein paar Zufallstichproben aus der Menge (Population) aller Fl√ºge, die in New York im Jahre 2013 gestartet sind. In jeder Stichprobe berechnen wir eine Regression zwischen Flugzeit und Versp√§tung des Flugs am Ankunftsort. Sicherlich werden sich die Stichproben in ihren Kennwerten, z.‚ÄâB. in den Koeffizienten der genannten Regression, unterscheiden.<span class="math inline">\(\square\)</span></p>
</div>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13">nycflights13</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">flights</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stipro1</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">stipro2</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">stipro3</span> <span class="op">&lt;-</span> <span class="fu">sample_n</span><span class="op">(</span><span class="va">flights</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-regr-div" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-regr-div-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-regr-div-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-regr-div-1.png" class="img-fluid figure-img" data-ref-parent="fig-regr-div" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Stichprobe 1
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-regr-div-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-regr-div-2.png" class="img-fluid figure-img" data-ref-parent="fig-regr-div" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Stichprobe 2
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-regr-div" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-regr-div-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-regr-div-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-regr-div-3.png" class="img-fluid figure-img" data-ref-parent="fig-regr-div" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-regr-div-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Stichprobe 3
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regr-div-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.11: Regressionsanalysen mit verschiedenen Koeffizienten aufgrund der Zuf√§lligkeit des Stichprobenziehens
</figcaption></figure>
</div>
<p>Der Grund f√ºr die Schwankungen der Modellparameter zwischen den Stichproben ist die Zuf√§lligkeit des Stichprobenziehens. Je nachdem, wie es der Zufall (oder sonst wer) will, landen bestimmte F√§lle (Fl√ºge in unserem Beispiel) in unserer Stichprobe. Zumeist unterscheiden sich die Stichproben; theoretisch k√∂nnten sie aber auch rein zuf√§llig gleich sein.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Stichproben-Kennwerte schwanken um den tats√§chlichen Wert in der Population herum.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Um diese Ungewissheit, die sich in den Schwankungen der Stichproben-Regressionskoeffizienten ausdr√ºckt, anzuzeigen, ist ein ‚Äúgrauer Schleier‚Äù um die Regressionsgeraden in <a href="#fig-regr-div" class="quarto-xref">Abbildung&nbsp;<span>2.11</span></a> gekennzeichnet. Dieser grauer Schleier gibt also eine Spannbreite anderer, plausibler Ergebnisse an, die sich in einer anderen Stichprobe auch manifestieren k√∂nnten.</p>
</section><section id="ungewissheit-der-modellg√ºte" class="level4" data-number="2.6.3.2"><h4 data-number="2.6.3.2" class="anchored" data-anchor-id="ungewissheit-der-modellg√ºte">
<span class="header-section-number">2.6.3.2</span> Ungewissheit der Modellg√ºte</h4>
<p>Angenommen, wir sind uns <em>sicher</em> √ºber die Werte der Modellparameter, also √ºber die Lage der Regressionsgeraden, anschaulich gesprochen. Dann bliebe immer noch Ungewissheit zur Modellg√ºte. Ein bestimmtes Modell kann genau oder ungenaue Vorhersagen abgeben; das ist die zweite Art der Ungewissheit.</p>
<p>Diese Art der Ungewissheit ist nicht von Interesse, wenn man nur an Modellkoeffizienten interessiert ist. Sie ist dann interessant, wenn man f√ºr einzelne F√§lle eine Vorherage macht und sich fragt, wie zuverl√§ssig diese Vorhersage ist.</p>
<div id="fig-resid-var" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-resid-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-resid-var-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-resid-var-1.png" class="img-fluid figure-img" data-ref-parent="fig-resid-var" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) geringer Vorhersagefehler (hohe Vorhersageg√ºte)
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-resid-var-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-resid-var-2.png" class="img-fluid figure-img" data-ref-parent="fig-resid-var" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) hoher Vorhersagefehler
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-resid-var" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-resid-var-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-resid-var-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-resid-var-3.png" class="img-fluid figure-img" data-ref-parent="fig-resid-var" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-resid-var-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) auch hoher Vorhsagefehler
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.12: Regressionsanalyse mit gleicher Regressionsgerade, aber unterschiedlicher Vorhersageg√ºte
</figcaption></figure>
</div>
</section></section><section id="ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben" class="level3" data-number="2.6.4"><h3 data-number="2.6.4" class="anchored" data-anchor-id="ich-wei√ü-was-ich-nicht-wei√ü-ungewissheit-angeben">
<span class="header-section-number">2.6.4</span> Ich wei√ü, was ich nicht wei√ü: Ungewissheit angeben</h3>
<p>Streng genommen ist eine Inferenz ohne Angabe der Ungewissheit (Genauigkeit der Sch√§tzung) wertlos. Angenommen, jemand sagt, dass sie den Anteil der R-Fans (in der Population) auf 42% sch√§tzt, l√§sst aber offen wie <em>sicher</em> (pr√§zise) die Sch√§tzung (der Modellparameter) ist. Wir wissen also nicht, ob z.‚ÄâB. 2% oder 82% noch erwartbar sind. Oder ob man im Gegenteil mit hoher Sicherheit sagen kann, die Sch√§tzung schlie√üt sogar 41% oder 43% aus.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Schlie√üt man auf eine Population, sch√§tzt also die Modellparameter, so sollte stets die (Un-)Genauigkeit der Sch√§tzung, also die Ungewissheit des Modells, angegeben sein.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Im Rahmen der Regressionsanalyse schl√§gt sich die Ungewissheit an zwei Stellen nieder:</p>
<ol type="1">
<li>zur Lage der Regressionsgeraden, <span class="math inline">\(\beta_0\)</span>, <span class="math inline">\(\beta_1\)</span>
</li>
<li>zur Modellg√ºte bzw. zum Vorhersagefehler, <span class="math inline">\(\sigma\)</span> <a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>
</li>
</ol></section><section id="visualisierung-von-ungewissheit" class="level3" data-number="2.6.5"><h3 data-number="2.6.5" class="anchored" data-anchor-id="visualisierung-von-ungewissheit">
<span class="header-section-number">2.6.5</span> Visualisierung von Ungewissheit</h3>
<div id="def-punktschaetzer" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.6 (Punktsch√§tzer)</strong></span> Gibt man nur einen Punktwert an, wie 42%, als Ergebnis einer Inferenz, spricht man von einem <em>Punktsch√§tzer</em>.</p>
<p>Punktsch√§tzer beinhalten <em>keine Angabe</em> der Sch√§tz(un)genauigkeit, s. Abb. <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, links. Rot markiert: Die Punktsch√§tzung von <code>mpg</code> f√ºr <code>hp=200</code>.</p>
</div>
<!-- ![Eine Punktsch√§tzung der Regressionsgeraden und die zugeh√∂rige Ungewissheit Ungewissheit](img/fig-punktschaetzer.png){#fig-punktschaetzer2} -->
<p>In Abb. <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, links, ist die Ungewissheit in den <em>Regressionskoeffizienten</em> visualisiert: Wie sicher sind wir uns bzgl. der Lage der Regressionskoeffizienten? Vgl. <a href="#def-punktschaetzer" class="quarto-xref">Definition&nbsp;<span>2.6</span></a>.</p>
<p>Auch wenn wir uns <em>sicher</em> w√§ren im Hinblick auf die Regressionsgewichte in Abb. <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, links, bliebe Ungewissheit bei der Vorhersage des Bereichs plausibler Werte f√ºr individuelle Vorhersagen, s. <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, rechts. Unsere Sch√§tzungen w√§ren auch dann nicht sicher, nicht fehlerfrei, wenn wir den genauen Verlauf der Regressiongerade sicher w√ºssten. Das liegt daran, da das Modell nicht alle Einfl√ºsse auf Y ber√ºcksichtigt, sondern nur einen einzigen, hier als X bezeichnet. Das Modell hat also keine perfekte Information, es ist ungewiss √ºber alle m√∂glichen Einflussfaktoren auf Y. W√ºsste unser Modell alle Einflussfaktoren genau, so w√§re unser Vorhersageintervall sehr schmal (bzw. h√§tte null Breite).</p>
<p>In Abb. <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, rechts, ist nicht nur die Ungewissheit durch die Regressionsgewichte, sondern auch die Ungewissheit zur Vorhersage der Y-Werte individueller Beobachtungen dargestellt. In diesem Fall spricht man von einem ‚ÄúVorhersageintervall‚Äù, da man nicht nur von ‚Äútypischen F√§llen‚Äù auf der Regressiongeraden spricht, sondern f√ºr echte F√§lle Vorhersagen (Sch√§tzungen) t√§tigt, wo auch die Ungewissheit der Modellg√ºte relevant ist.</p>
<!-- ![Das Vorhersageintevall zeigt eine Punktsch√§tzung und ihre Ungewissheit](img/fig-predintervall.png){fig-ungewiss2 width="50%"} -->
<div id="fig-ungewiss2" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ungewiss2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-ungewiss2" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-ungewiss2-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-ungewiss2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-ungewiss2-1.png" class="img-fluid figure-img" data-ref-parent="fig-ungewiss2" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-ungewiss2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Eine Punktsch√§tzung der Regressionsgeraden und die zugeh√∂rige Ungewissheit der Koeffizienten
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-ungewiss2" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-ungewiss2-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-ungewiss2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="0200-Inferenz_files/figure-html/fig-ungewiss2-2.png" class="img-fluid figure-img" data-ref-parent="fig-ungewiss2" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-ungewiss2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Das Vorhersageintevall zur Regressionsgeraden zeigt die Ungewissheit f√ºr die jeweiligen Beobachtungen
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ungewiss2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.13: Die zwei Arten der Ungewissheit visualisiert
</figcaption></figure>
</div>
<p><a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a> zeigt auch, dass f√ºr eine Beobachtung mit <code>hp=200</code> der <em>Punktsch√§tzer</em> der gesch√§tzte Wert von <code>mpg</code> bei ca <code>16.5</code> liegt. Das ist sozusagen unser <em>Best Guess</em>. Weiterhin ist (in gr√ºn) das <em>Vorhersageintervall</em> f√ºr <code>hp=200</code> angezeigt. F√ºr Beobachtungen mit <code>hp=200</code> liegt der Bereich plausibler <code>mpg</code>-Werte in dem (gr√ºn) markierten Bereich (ca. 8 bis 25).</p>
<div id="def-vorhersageintervall" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.7 (Vorhersageintervall)</strong></span> Ein Vorhersageintervall zeigt den Bereich plausibler Werte (laut unserer Analyse) f√ºr eine Beobachtung mit bestimmten Pr√§diktor-Werten.<span class="math inline">\(\square\)</span></p>
</div>
<p>Wie man sieht, wird die Ungewissheit <em>gr√∂√üer</em>, wenn man beide Arten der Ungewissheit ber√ºcksichtigt. Das Vorhersage-Intervall ber√ºcksichtigt Ungewissheit in <span class="math inline">\(\beta_0, \beta_1, \epsilon\)</span> bei der Vorhersage von <span class="math inline">\(\hat{y_i}\)</span>.</p>
<div id="exr-zweifache-ungewissheit" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.8</strong></span> üèã Geben Sie ein vergleichbares Beispiel an!</p>
</div>
</section><section id="konfidenzintervall" class="level3" data-number="2.6.6"><h3 data-number="2.6.6" class="anchored" data-anchor-id="konfidenzintervall">
<span class="header-section-number">2.6.6</span> Konfidenzintervall</h3>
<p>Wir sehen in <a href="#fig-ungewiss2" class="quarto-xref">Abbildung&nbsp;<span>2.13</span></a>, dass ein ‚ÄúUngewissheitskorridor‚Äù angegeben wird f√ºr die Lage der Regressionsgerade (linkes Teildiagramm) bzw. f√ºr den Bereich plausibler Vorhersagen im konkreten Fall einer Beobachtung mit bestimmten X-Wert. Entsprechend wird nicht ein <em>Punktsch√§tzer</em>, sondern ein <em>Sch√§tzbereich</em> angegeben. Man spricht auch von einem <em>Konfidenzintervall</em> oder <em>Unsicherheitsbereich</em>.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
<div id="def-konfintervall" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2.8 (Konfidenzintervall)</strong></span> Ein Konfidenzintervall (confidence intervall, CI) ist ein Oberbegriff f√ºr Sch√§tzbereiche. Die Grenzen eines Konfindenzintervall markieren einen Bereich plausibler Werte f√ºr einen Parameter.</p>
</div>
<p>Es gibt verschiedene Arten, Konfidenzintervalle zu berechnen; wir sprechen in sp√§teren Kapiteln dazu ausf√ºhrlicher. Ein Konfidenzintervall wird h√§ufig mit 90% oder 95% Genauigkeit angegeben. Im Kontext der Bayes-Analyse - auf der dieser Kurs aufbaut - ist ein Konfidenzintervall einfach zu interpretieren. Sagen wir, wir finden, dass in einem Modell ein 95%-Konfidenzintervall f√ºr den Anteil der R-Fans angegeben wird, dass sich von 40 bis 44 Prozent erstreckt. Dieser Befund l√§sst sich so interpretieren: ‚ÄúLaut Modell liegt der gesuchte Anteil der R-Fans mit einer Wahrscheinlichkeit von 95% im Bereich von 44 bis 44 Prozentpunkten.‚Äù Diese (einfache) Interpretation ist im Frequentismus <em>nicht</em> m√∂glich.</p>
<div id="exm-ungewisskorr" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 2.6</strong></span> Geben Sie Beispiele f√ºr Konfidenzintervalle an.</p>
</div>
</section></section><section id="frequentismus-vs.-bayes-inferenz" class="level2" data-number="2.7"><h2 data-number="2.7" class="anchored" data-anchor-id="frequentismus-vs.-bayes-inferenz">
<span class="header-section-number">2.7</span> Frequentismus vs.&nbsp;Bayes-Inferenz</h2>
<div class="columns">
<div class="column">
<section id="frequentismus-klassische-inferenz" class="level3" data-number="2.7.1"><h3 data-number="2.7.1" class="anchored" data-anchor-id="frequentismus-klassische-inferenz">
<span class="header-section-number">2.7.1</span> Frequentismus: Klassische Inferenz</h3>
<ul>
<li>Die Ber√ºcksichtigung von Vorwissen zum Sachgegenstand wird vom Frequentismus als subjektiv zur√ºckgewiesen.</li>
<li>Nur die Daten selber fliesen in die Ergebnisse ein, keine Vorannahmen.</li>
<li>Wahrscheinlichkeit wird √ºber relative H√§ufigkeiten definiert.</li>
<li>Es ist <em>nicht</em> m√∂glich, die Wahrscheinlichkeit einer Hypothese bzw. eines Werts in der Population (eines Parameters) anzugeben.</li>
<li>Stattdessen wird angegeben, wie h√§ufig eine vergleichbare Datenlage zu erwarten ist, wenn der Versuch sehr h√§ufig wiederholt ist.</li>
<li>Ein Gro√üteil der Forschung (in den Sozialwissenschaften) verwendet (aktuell) diesen Ansatz.</li>
</ul></section>
</div><div class="column">
<section id="bayesianische-inferenz" class="level3" data-number="2.7.2"><h3 data-number="2.7.2" class="anchored" data-anchor-id="bayesianische-inferenz">
<span class="header-section-number">2.7.2</span> Bayesianische Inferenz</h3>
<ul>
<li>Vorwissen (Priori-Wissen) flie√üt explizit in die Analyse ein (zusammen mit den Daten).</li>
<li>
<em>Wenn</em> das Vorwissen gut ist, wird die Vorhersage durch das Vorwissen genauer, ansonsten ungenauer.</li>
<li>Die Wahl des Vorwissens muss explizit (kritisierbar) sein.</li>
<li>In der Bayes-Inferenz sind Wahrscheinlichkeitsaussagen f√ºr Hypothesen m√∂glich.</li>
<li>Die Bayes-Inferenz erfordert mitunter viel Rechenzeit und ist daher erst in den letzten Jahren (f√ºr g√§ngige Computer) komfortabel geworden.</li>
</ul></section>
</div>
</div>
<section id="frequentismus" class="level3" data-number="2.7.3"><h3 data-number="2.7.3" class="anchored" data-anchor-id="frequentismus">
<span class="header-section-number">2.7.3</span> Frequentismus</h3>
<section id="der-p-wert" class="level4" data-number="2.7.3.1"><h4 data-number="2.7.3.1" class="anchored" data-anchor-id="der-p-wert">
<span class="header-section-number">2.7.3.1</span> Der p-Wert</h4>
<p>Die zentrale Statistik des Frequentismus hei√üt der <em>p-Wert</em></p>
<p>Der p-Wert ist so definiert, vgl. <span class="citation" data-cites="wasserstein_asa_2016">Wasserstein und Lazar (<a href="references.html#ref-wasserstein_asa_2016" role="doc-biblioref">2016</a>)</span>:</p>
<blockquote class="blockquote">
<p>Wie wahrscheinlich ist der Wert der Teststatistik (oder noch extremere Werte), vorausgesetzt die Nullhypothese gilt und man wiederholt den Versuch unendlich oft (mit gleichen Bedingungen, aber zuf√§llig verschieden und auf Basis unseres Modells)?</p>
</blockquote>
<p>Findet man <span class="math inline">\(p&lt;.05\)</span> (oder einen anderen Prozentwert, aber meistens wird 5% hergenommen), so spricht man von ‚Äú(statistischer) Signifikanz‚Äù und nimmt dies als Beleg, dass man einen Effekt gefunden hat, die Hypothese eines Nulleffekts (z.‚ÄâB. kein Zusammenhang von X und Y) also verwerfen kann. Faktisch entscheidet man sich, die Forschungshypothese weiterhin als ‚Äúvorl√§ufig g√ºltig‚Äù oder zumindest als ‚Äúnicht widerlegt‚Äù zu betrachten.</p>
<div id="exr-p" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 2.9</strong></span> üèã Recherchieren Sie eine Definition des p-Werts und lesen Sie sie einem Freund. Beobachten sie die Reaktionen auf ihre Erkl√§rung.<span class="math inline">\(\square\)</span></p>
</div>
<p>Der p-Wert wird oft falsch verstanden <span class="citation" data-cites="badenes-ribera_misconceptions_2016-1">(<a href="references.html#ref-badenes-ribera_misconceptions_2016-1" role="doc-biblioref">Badenes-Ribera u.&nbsp;a. 2016</a>)</span>. Aber er ist auch nicht leicht zu verstehen, meint Meister Yoda, s. <a href="#fig-yoda" class="quarto-xref">Abbildung&nbsp;<span>2.14</span></a>. Hier sind einige <em>FALSCHE</em> Interpretationen zum p-Wert laut der Autoren:</p>
<ul>
<li>üôÖ‚Äç‚ôÄ Der p-Wert w√ºrde die Wahrscheinlichkeit der Nullhypothese oder der Forschungshypothese angeben. üôä</li>
<li>üôÖ‚Äç‚ôÄ Der p-Wert w√ºrde ein inhaltlich bedeutsames, praktisch signifikantes Ergebnis anzeigen. üôä</li>
</ul>
<div id="fig-yoda" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-yoda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/pvalue-yoda.jpg" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-yoda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.14: Der p-Wert ist wenig intuitiv, meint Meister Yoda
</figcaption></figure>
</div>
</section><section id="konfidenzintervalle" class="level4" data-number="2.7.3.2"><h4 data-number="2.7.3.2" class="anchored" data-anchor-id="konfidenzintervalle">
<span class="header-section-number">2.7.3.2</span> Konfidenzintervalle</h4>
<p>Die korrekte Definition der Konfidenzintervalls in <em>frequentistischer</em> Lesart lautet:</p>
<blockquote class="blockquote">
<p>Der Konfidenzbereich, z.‚ÄâB. von 95%, repr√§sentiert den Anteil der Konfidenzintervalle bei sehr vielen (oder undentlich vielen) Wiederholungen des Experiments, die den echten Parameterwert enthalten <span class="citation" data-cites="hoekstra_robust_2014-2">(<a href="references.html#ref-hoekstra_robust_2014-2" role="doc-biblioref">Hoekstra u.&nbsp;a. 2014</a>)</span>.</p>
</blockquote>
<p>Die folgende Visualisierung (<a href="#fig-sim-ci" class="quarto-xref">Abbildung&nbsp;<span>2.15</span></a>) zeigt das Prinzip frequentistischer Konfidenzintervalle: <em>Auf Dauer</em> enthalten 95% der Stichproben den wahren Wert (in der Population).</p>
<div id="fig-sim-ci" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sim-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="figure-content">
<p><br><br><br><!-- Insert vertical space here --></p>
<!-- Source: https://observablehq.com/@mattiasvillani/confidence-interval-for-a-mean -->
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb11-0"><a href="#cb11-0" aria-hidden="true" tabindex="-1"></a>viewof settings <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">form</span>([</span>
<span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="fu">tex</span><span class="vs">`</span><span class="sc">\t</span><span class="vs">ext{MW, }</span><span class="sc">\m</span><span class="vs">u`</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span>})<span class="op">,</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.01</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="fu">tex</span><span class="vs">`</span><span class="sc">\t</span><span class="vs">ext{SD, }</span><span class="sc">\s</span><span class="vs">igma`</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span>})<span class="op">,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">99</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">90</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Konfidenzlevel"</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">200</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"n"</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span>})</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  ])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb12-0"><a href="#cb12-0" aria-hidden="true" tabindex="-1"></a>viewof nrep <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">1000</span><span class="op">,</span> <span class="dv">1000</span>)<span class="op">,</span> {</span>
<span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> <span class="dv">500</span><span class="op">,</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`Anzahl von Stichproben = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb13-0"><a href="#cb13-0" aria-hidden="true" tabindex="-1"></a>textinfo <span class="op">=</span> <span class="fu">md</span><span class="vs">`</span></span>
<span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="vs">Von insgesamt </span><span class="sc">${</span>nrep<span class="sc">}</span><span class="vs"> Stichproben, </span><span class="sc">${</span>d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> (mu <span class="op">&gt;=</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">&amp;&amp;</span> mu <span class="op">&lt;=</span> d<span class="op">.</span><span class="at">upper</span>)))<span class="sc">}</span><span class="vs"> (**&lt;span style="color:red"&gt;</span><span class="sc">${</span>(d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> (mu <span class="op">&gt;=</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">&amp;&amp;</span> mu <span class="op">&lt;=</span> d<span class="op">.</span><span class="at">upper</span>)))<span class="op">*</span><span class="dv">100</span><span class="op">/</span>nrep)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs">%&lt;/span&gt;**) von den </span><span class="sc">${</span>confidence<span class="sc">}</span><span class="vs">% Konfindenzintervallen enthielten den wahren (tats√§chlichen) Populationswert </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\m</span><span class="vs">u= `</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>mu<span class="sc">}</span><span class="vs">.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb14-0"><a href="#cb14-0" aria-hidden="true" tabindex="-1"></a>lockvertical <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Achse einrasten"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb15-0"><a href="#cb15-0" aria-hidden="true" tabindex="-1"></a>plt <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {<span class="dt">fontSize</span><span class="op">:</span> <span class="st">"12px"</span>}<span class="op">,</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">960</span><span class="op">,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"mean"</span><span class="op">,</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> lockvertical <span class="op">?</span> [mu<span class="op">-</span> <span class="dv">3</span><span class="op">,</span> mu <span class="op">+</span> <span class="dv">3</span>] <span class="op">:</span> [mu <span class="op">-</span> <span class="dv">5</span><span class="op">*</span>sigma<span class="op">/</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(nobs)<span class="op">,</span>mu <span class="op">+</span> <span class="dv">5</span><span class="op">*</span>sigma<span class="op">/</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(nobs)]</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Stichprobennummer"</span><span class="op">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span>  [<span class="dv">0</span><span class="op">,</span> nrep]</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span>    </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>(data<span class="op">,</span> {</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">filter</span><span class="op">:</span> d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> mu <span class="op">&gt;=</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">&amp;&amp;</span> mu <span class="op">&lt;=</span> d<span class="op">.</span><span class="at">upper</span>)<span class="op">,</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"rep"</span><span class="op">,</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y1</span><span class="op">:</span> <span class="st">"lower"</span><span class="op">,</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y2</span><span class="op">:</span> <span class="st">"upper"</span><span class="op">,</span>  </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">1.5</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">filter</span><span class="op">:</span> d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> mu <span class="op">&gt;=</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">&amp;&amp;</span> mu <span class="op">&lt;=</span> d<span class="op">.</span><span class="at">upper</span>)<span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="st">"rep"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"xbar"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>(data<span class="op">,</span> {</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">filter</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> (mu <span class="op">&lt;</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">||</span> mu <span class="op">&gt;</span> d<span class="op">.</span><span class="at">upper</span>)<span class="op">,</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"rep"</span><span class="op">,</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y1</span><span class="op">:</span> <span class="st">"lower"</span><span class="op">,</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y2</span><span class="op">:</span> <span class="st">"upper"</span><span class="op">,</span>  </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">1.5</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">filter</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">rep</span> <span class="op">&lt;=</span> nrep <span class="op">&amp;&amp;</span> (mu <span class="op">&lt;</span> d<span class="op">.</span><span class="at">lower</span> <span class="op">||</span> mu <span class="op">&gt;</span> d<span class="op">.</span><span class="at">upper</span>)<span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="st">"rep"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"xbar"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([mu]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"#D22B2B"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">1.5</span>})</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="1" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>jstat <span class="op">=</span> <span class="pp">require</span>(<span class="st">'jstat'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {Scrubber} <span class="im">from</span> <span class="st">"@mbostock/scrubber"</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate_means</span>(mu<span class="op">,</span> sigma<span class="op">,</span> nobs<span class="op">,</span> nrep){</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> tvalue <span class="op">=</span> jstat<span class="op">.</span><span class="at">studentt</span><span class="op">.</span><span class="fu">inv</span>(<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>(confidence<span class="op">/</span><span class="dv">100</span>))<span class="op">/</span><span class="dv">2</span><span class="op">,</span> nobs<span class="op">-</span><span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> data <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> nrep<span class="op">;</span> j<span class="op">++</span>){</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> sample <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(nobs)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">randomNormal</span>(mu<span class="op">,</span>sigma)())</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> xbar <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(sample)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> s <span class="op">=</span> jstat<span class="op">.</span><span class="fu">stdev</span>(sample<span class="op">,</span> <span class="kw">true</span>) </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> lower <span class="op">=</span> xbar <span class="op">-</span> tvalue<span class="op">*</span>s<span class="op">/</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(nobs)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> upper <span class="op">=</span> xbar <span class="op">+</span> tvalue<span class="op">*</span>s<span class="op">/</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(nobs)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="fu">push</span>({<span class="dt">rep</span><span class="op">:</span> j<span class="op">,</span> <span class="dt">xbar</span><span class="op">:</span> xbar<span class="op">,</span> <span class="dt">lower</span><span class="op">:</span> lower<span class="op">,</span> <span class="dt">upper</span><span class="op">:</span> upper})</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="1" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sigma <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>confidence <span class="op">=</span> <span class="dv">90</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>nobs <span class="op">=</span> <span class="dv">50</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb18-0"><a href="#cb18-0" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>  nobs<span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  mu<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  sigma<span class="op">;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> d <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> time <span class="op">=</span> d<span class="op">.</span><span class="fu">getTime</span>()<span class="op">;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> <span class="fu">simulate_means</span>(mu<span class="op">,</span> sigma<span class="op">,</span> nobs<span class="op">,</span> <span class="dv">1000</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="declaration">

</div>
</div>
</div>
<p>Quelle: <a href="https://observablehq.com/@mattiasvillani/confidence-interval-for-a-mean" class="uri">https://observablehq.com/@mattiasvillani/confidence-interval-for-a-mean</a></p>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sim-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.15: Ein frequentistisches 95%-Konfidenzintervall: Auf Dauer enthalten 95% der Konfidenzintervalle den wahren Wert in der Population.
</figcaption></figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ein frequentistisches Konfidenzintervall macht keine Aussage zur Wahrscheinlichkeit eines Werts in der Population (eines Parameters). Stattdessen wird eine Aussage √ºber das Ergebnis einer sehr h√§ufig wiederholten Stichprobenziehung berichtet. Ob ein bestimmtes (unseres, Ihres) den wahren Wert enth√§lt, bzw. mit welcher Wahrscheinlichkeit es den wahren Wert enth√§lt, dar√ºber macht das frequentistische Konfidenzintervball keine Aussagen. <span class="math inline">\(\square\)</span></p>
</div>
</div>
</section><section id="aus-der-forschung" class="level4" data-number="2.7.3.3"><h4 data-number="2.7.3.3" class="anchored" data-anchor-id="aus-der-forschung">
<span class="header-section-number">2.7.3.3</span> Aus der Forschung</h4>
<p>Frequentistische Konfidenzintervalle werden oft falsch verstanden, wie die folgende Studie zeigt. Das liegt aber nicht daran, dass die Menschen zu dumm sind, sondern dass frequentistische Konfidenzintervalle f√ºr viele Menschen kontraintuitiv sind.</p>
<p><span class="citation" data-cites="hoekstra_robust_2014-2">Hoekstra u.&nbsp;a. (<a href="references.html#ref-hoekstra_robust_2014-2" role="doc-biblioref">2014</a>)</span> berichten von einer Studie, in der <span class="math inline">\(n=442\)</span> Bachelor-Studentis, <span class="math inline">\(n=34\)</span> Master-Studentis und <span class="math inline">\(n=120\)</span> Forschende befragt wurden.</p>
<p>Den Versuchpersonen wurde folgender Fragebogen vorgelegt, s. <a href="#fig-bumbledorf" class="quarto-xref">Abbildung&nbsp;<span>2.16</span></a>.</p>
<div id="fig-bumbledorf" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bumbledorf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/bumbledorf.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bumbledorf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.16: Frageobgen zu Konfidenzintervallen
</figcaption></figure>
</div>
<p>Kurz gesagt war die Frage, die die Befragten beantworten sollten:</p>
<blockquote class="blockquote">
<p>In einem Experiment wird ein 95%-Konfidenzintervall mit dem Bereich von 0.1 bis 0.4 beichtet. Welcher der folgenden sechs Aussagen sind richtig bzw. falsch?</p>
</blockquote>
<p>Mit ‚ÄúKonfidenzintervall‚Äù meinen die Forschenden ein <em>frequentistisches</em> Konfidenzintervall.</p>
<p>Alle diese sechs Aussagen sind <em>FALSCH</em>. Die Aussagen lauten:</p>
<ol type="1">
<li><p>Die Wahrscheinlichkeit, dass der wahre Mittelwert gr√∂√üer als 0 ist, betr√§gt mindestens 95 %.</p></li>
<li><p>Die Wahrscheinlichkeit, dass der wahre Mittelwert gleich 0 ist, ist kleiner als 5 %.</p></li>
<li><p>Die ‚ÄûNullhypothese‚Äú, dass der wahre Mittelwert gleich 0 ist, ist wahrscheinlich falsch.</p></li>
<li><p>Es gibt eine 95%ige Wahrscheinlichkeit, dass der wahre Mittelwert zwischen 0,1 und 0,4 liegt.</p></li>
<li><p>Wir k√∂nnen mit 95%iger Sicherheit sagen, dass der wahre Mittelwert zwischen 0,1 und 0,4 liegt.</p></li>
<li><p>Wenn wir das Experiment immer wieder wiederholen w√ºrden, dann liegt der wahre Mittelwert in 95 % der F√§lle zwischen 0,1 und 0,4.</p></li>
</ol>
<p>Aussagen 1-4 weisen den Hypothesen bzw. den Parametern eine Wahrscheinlichkeit zu, was im Frequentismus nicht erlaubt ist. Aussagen 5-6 spezifizieren die Grenzen des Sch√§tzintervalls, allerdings kann das Konfidenzintervall nur Aussagen zu den zugrundeliegenden Stichproben, nicht zum Sch√§tzintervall, machen.</p>
<p>Die Ergebnisse zeigen, dass die Aussagen mehrheitlich <em>falsch</em> verstanden wurden, also mit ‚Äústimmt‚Äù angekreuzt wurden, s. <a href="#fig-ci-wrong" class="quarto-xref">Abbildung&nbsp;<span>2.17</span></a>.</p>
<div id="fig-ci-wrong" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ci-wrong-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/ci-wrong.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-wrong-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.17: Eine hohe Zustimmung zu den sechs falschen Aussagen
</figcaption></figure>
</div>
</section><section id="bayes-statistik" class="level4" data-number="2.7.3.4"><h4 data-number="2.7.3.4" class="anchored" data-anchor-id="bayes-statistik">
<span class="header-section-number">2.7.3.4</span> Bayes-Statistik</h4>
<p>Die zentrale Statistik der Bayes-Statistik ist die <em>Posteriori-Verteilung</em>.</p>
<p>Die Posteriori-Verteilung beantwortet uns die Frage: ‚ÄúWie wahrscheinlich ist die Forschungshypothese (oder Varianten von ihr), jetzt, nachdem wir die Daten kennen, auf Basis unseres Modells?‚Äù</p>
<p>In der Bayes-Statistik sind Aussagen folgender Art erlaubt:</p>
<blockquote class="blockquote">
<p>Mit einer Wahrscheinlichkeit von 95% ist der neue Webshop besser als der alte. Mit einer Wahrscheinlichkeit von 89% liegt die Wirksamkeit des neuen Medikaments zwischen 0.1 und 0.4.</p>
</blockquote>
<p><a href="https://data-se.netlify.app/2022/01/27/warum-bayes/">In diesem Post</a> wird f√ºr Bayes geworben und (einseitig) Stellung pro Bayes bezogen.</p>
</section></section><section id="frequentist-und-bayesianer" class="level3" data-number="2.7.4"><h3 data-number="2.7.4" class="anchored" data-anchor-id="frequentist-und-bayesianer">
<span class="header-section-number">2.7.4</span> Frequentist und Bayesianer</h3>
<p>Im Cartoon 1132 <a href="https://xkcd.com/">von xkcd</a> wird sich √ºber das Nicht-Ber√ºcksichtigen von Vorab-Informationen (Prior-Verteilung) lustig gemacht, s. <a href="#fig-xkcd-bayes" class="quarto-xref">Abbildung&nbsp;<span>2.18</span></a>.</p>
<div id="fig-xkcd-bayes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-xkcd-bayes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/frequentists_vs_bayesians_2x.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-xkcd-bayes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2.18: Frequentist wettet mit Bayesianer
</figcaption></figure>
</div>
<p><a href="https://xkcd.com/1132/">Quelle</a></p>
<div>
<p><a href="https://imgflip.com/memegenerator">from Imgflip Meme Generator</a></p>
</div>
</section><section id="beispiel-zum-nutzen-von-apriori-wissen-1" class="level3" data-number="2.7.5"><h3 data-number="2.7.5" class="anchored" data-anchor-id="beispiel-zum-nutzen-von-apriori-wissen-1">
<span class="header-section-number">2.7.5</span> Beispiel zum Nutzen von Apriori-Wissen 1</h3>
<p>Ein Betrunkener behauptet, er k√∂nne hellsehen. Er wirft eine M√ºnze 10 Mal und sagt jedes Mal korrekt vorher, welche Seite oben landen wird. Die Wahrscheinlichkeit dieses Ergebnisses ist sehr gering (<span class="math inline">\(2^{-10}\)</span>) unter der Hypothese, dass die M√ºnze fair ist, dass Ergebnis also ‚Äúzuf√§llig‚Äù ist, also <span class="math inline">\(p &lt; .05\)</span> und damit ist das Ergebnis ‚Äústatistisch signifikant‚Äù.</p>
<p>Unser Vorwissen l√§sst uns allerdings trotzdem an der Hellsichtigkeit des Betrunkenen zweifeln, so dass die meisten von uns die Hypothese von der Zuf√§lligkeit des Ergebnisses wohl nicht verwerfen.</p>
</section><section id="beispiel-zum-nutzen-von-apriori-wissen-2" class="level3" data-number="2.7.6"><h3 data-number="2.7.6" class="anchored" data-anchor-id="beispiel-zum-nutzen-von-apriori-wissen-2">
<span class="header-section-number">2.7.6</span> Beispiel zum Nutzen von Apriori-Wissen 2</h3>
<p>Eine Studie <span class="citation" data-cites="gelman_regression_2021">(<a href="references.html#ref-gelman_regression_2021" role="doc-biblioref">Gelman, Hill, und Vehtari 2021</a>)</span> fand einen ‚Äúgro√üen Effekt‚Äù auf das Einkommen von Babies, die eine Stunde pro Woche w√§hrend zwei Jahren an einem psychosozialen Entwicklungsprogramm teilnahmen (im Vergleich zu einer Kontrollgruppe), <span class="math inline">\(n=127\)</span>. Nach 20 Jahren war das mittlere Einkommen der Experimentalgruppe um 42% h√∂her (als in der Kontrollgruppe) mit einem Konfidenzintervall von [+2%,+98%].</p>
<p>Allerdings l√§sst uns unser Vorwissen vermuten, dass so ein Treatment das Einkommen nach 20 Jahren kaum verdoppeln l√§sst. Wir w√ºrden den Effekt lieber in einem konservativeren Intervall sch√§tzen (enger um Null).</p>
</section></section><section id="fazit" class="level2" data-number="2.8"><h2 data-number="2.8" class="anchored" data-anchor-id="fazit">
<span class="header-section-number">2.8</span> Fazit</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://imgflip.com/i/77wn7m">Kontinuierliches Lernen</a> ist der Schl√ºssel zum Erfolg.</p>
</div>
</div>
</section><section id="aufgaben" class="level2" data-number="2.9"><h2 data-number="2.9" class="anchored" data-anchor-id="aufgaben">
<span class="header-section-number">2.9</span> Aufgaben</h2>
<ol type="1">
<li><a href="https://datenwerk.netlify.app/posts/griech-buchstaben-inferenz/griech-buchstaben-inferenz/">Griech-Buchstaben-Inferenz</a></li>
<li><a href="https://datenwerk.netlify.app/posts/korr-als-regr/korr-als-regr/">korr-als-regr</a></li>
<li><a href="https://datenwerk.netlify.app/posts/ttest-als-regr/ttest-als-regr/">ttest-als-regr</a></li>
<li><a href="https://datenwerk.netlify.app/posts/ttest-skalenniveau/ttest-skalenniveau/">ttest-skalenniveau</a></li>
<li><a href="https://datenwerk.netlify.app/posts/adjustieren2a/adjustieren2a/">adjustieren2a</a></li>
<li><a href="https://datenwerk.netlify.app/posts/inferenz-fuer-alle/inferenz-fuer-alle">inferenz-fuer-alle</a></li>
<li><a href="https://datenwerk.netlify.app/posts/adjustieren1a/adjustieren1a.html">adjustieren1a</a></li>
<li><a href="https://datenwerk.netlify.app/posts/ungewiss-arten-regr/ungewiss-arten-regr.html">ungewiss-arten-regr</a></li>
<li><a href="https://datenwerk.netlify.app/posts/vorhersageintervall1/vorhersageintervall1.html">vorhersageintervall1</a></li>
<li><a href="https://datenwerk.netlify.app/posts/lm-standardfehler/lm-standardfehler">lm-standardfehler</a></li>
<li><a href="https://datenwerk.netlify.app/posts/punktschaetzer-reicht-nicht/punktschaetzer-reicht-nicht.html">punktschaetzer-reicht-nicht</a></li>
<li><a href="https://datenwerk.netlify.app/posts/warum-bayes/warum-bayes">Warum-Bayes</a></li>
</ol></section><section id="section" class="level2" data-number="2.10"><h2 data-number="2.10" class="anchored" data-anchor-id="section">
<span class="header-section-number">2.10</span> ‚Äî</h2>
<p><img src="img/outro-02.jpg" class="img-fluid" style="width:100.0%"></p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-badenes-ribera_misconceptions_2016-1" class="csl-entry" role="listitem">
Badenes-Ribera, Laura, Dolores Frias-Navarro, Bryan Iotti, Amparo Bonilla-Campos, und Claudio Longobardi. 2016. <span>‚ÄûMisconceptions of the P-Value among <span>Chilean</span> and <span>Italian Academic Psychologists</span>‚Äú</span>. <em>Frontiers in Psychology</em> 7. <a href="https://www.frontiersin.org/article/10.3389/fpsyg.2016.01247">https://www.frontiersin.org/article/10.3389/fpsyg.2016.01247</a>.
</div>
<div id="ref-gelman_regression_2021" class="csl-entry" role="listitem">
Gelman, Andrew, Jennifer Hill, und Aki Vehtari. 2021. <em>Regression and Other Stories</em>. Analytical Methods for Social Research. <span>Cambridge</span>: <span>Cambridge University Press</span>.
</div>
<div id="ref-hoekstra_robust_2014-2" class="csl-entry" role="listitem">
Hoekstra, Rink, Richard D. Morey, Jeffrey N. Rouder, und Eric-Jan Wagenmakers. 2014. <span>‚ÄûRobust Misinterpretation of Confidence Intervals‚Äú</span>. <em>Psychonomic Bulletin &amp; Review</em> 21 (5): 1157‚Äì64. <a href="https://doi.org/10.3758/s13423-013-0572-3">https://doi.org/10.3758/s13423-013-0572-3</a>.
</div>
<div id="ref-poldrack_statistical_2022" class="csl-entry" role="listitem">
Poldrack, Russell. 2022. <em>Statistical Thinking for the 21st Century</em>. <a href="https://statsthinking21.github.io/statsthinking21-core-site/index.html">https://statsthinking21.github.io/statsthinking21-core-site/index.html</a>.
</div>
<div id="ref-wasserstein_asa_2016" class="csl-entry" role="listitem">
Wasserstein, Ronald L., und Nicole A. Lazar. 2016. <span>‚ÄûThe <span>ASA</span> Statement on P-<span>Values</span>: <span>Context</span>, Process, and Purpose‚Äú</span>. <em>The American Statistician</em> 70 (2): 129‚Äì33. <a href="https://doi.org/10.1080/00031305.2016.1154108">https://doi.org/10.1080/00031305.2016.1154108</a>.
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Ziele existieren nicht ‚Äúin echt‚Äù in der Welt. Wir denken sie uns aus. Ziele haben also keine ontologische Wirklichkeit, sie sind epistemologische Dinge (existieren nur in unserem Kopf). Das hei√üt, dass man sich nach Beliebem Ziele ausdenken kann. Allerdings hilft es, wenn man andere Menschen vom Nutzen der eigenen Ideen √ºberzeugen kann‚Ä¶<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>Vielleicht hat Ihr Dozent Sie schon mal mit einem Prognosewettbewerb gequ√§lt? Ja? Genau! In einem Prognosewettbewerb ist das Ziel eine - nat√ºrlich m√∂glichst exakte - Vorhersage zu treffen.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>Statistische Inferenz sieht sich drei ‚ÄúHerausforderungen‚Äù gegen√ºber, laut <span class="citation" data-cites="gelman_regression_2021">Gelman, Hill, und Vehtari (<a href="references.html#ref-gelman_regression_2021" role="doc-biblioref">2021</a>)</span>, Kap. 1.1.; Diese betreffen das Schlie√üen (oder Generalisieren) vom Einzelfall auf das Allgemeine: 1. Von der Stichprobe aus die Grundgesamtheit (Population), 2. Von der Experimental- auf die Kontrollgruppe (Kausalinferenz), 3. Von einem Messwert auf das zugrundeliegende Konstrukt. In diesem Kurs besch√§ftigen wir uns mit den ersten beiden Herausforderungen.<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p><del>Meistens</del> Manchmal darf man bei der Statistik nicht nach einem tieferen Sinn suchen. Ist Statistik eine Art moderne Kunst?<a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p>Manch einer h√§tte mit mehr gerechnet; andere mit weniger‚Ä¶<a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>Das ist nat√ºrlich nur ein fiktives, komplett unrealistisches Beispiel, das auch unklaren Ursachen den Weg auf diese Seite gefunden hat.<a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p><a href="https://gallery.shinyapps.io/simple_regression/" class="uri">https://gallery.shinyapps.io/simple_regression/</a><a href="#fnref7" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p>Wie Jonas <a href="https://lindeloev.github.io/tests-as-linear/">Kristoffer Lindel√∏v</a> uns erkl√§rt, sind viele statistische Verfahren, wie der sog. t-Test Spezialf√§lle der Regression.<a href="#fnref8" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p>Der Datensatz <code>mtcars</code> wird gerne als Studienobjekt verwendet, da er einfach ist und f√ºr viele Beispiele geeignet. Wenn Sie sich einen Sachverhalt an einem einfachen Datensatz vergegenw√§rtigen wollen, bietet sich auch der Datensatz <code>mtcars</code> an. Zudem ist er ‚Äúfest in R eingebaut‚Äù; mit <code>data(mtcars)</code> k√∂nnen Sie ihn verf√ºgbar machen.<a href="#fnref9" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn10"><p><span class="math inline">\(\sigma\)</span>, das griechische <em>s</em> f√ºr Streuung (um die Regressionsgerade herum), manchmal wird auch e wie <em>error</em> verwendet<a href="#fnref10" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn11"><p>Tats√§chlich gibt es mehrere Synonyme oder √§hnliche Begriffe f√ºr Konfidenzintervall. Wir kommen sp√§ter darauf detaillierter zu sprechen.<a href="#fnref11" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol></section></main><!-- /main --><script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InJlc2V0QnV0dG9uID0ge1xuICBjb25zdCByZXNldEJ1dHRvbiA9IElucHV0cy5idXR0b24oXCJSZXNldFwiKTtcblxuICBkMy5zZWxlY3QocmVzZXRCdXR0b24pLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xuXG4gICAgcmVncmVzc2lvblBsb3QucmVzZXQoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc2V0QnV0dG9uO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld09wdGlvbnMgPSB7XG4gIGNvbnN0IHZpZXdPcHRpb25zID0gSW5wdXRzLnJhZGlvKFxuICAgIFtcIk5vbmVcIiwgXCJBYnNvbHV0ZSBFcnJvclwiLCBcIlNxdWFyZWQgRXJyb3JcIl0sXG4gICAgeyBsYWJlbDogXCJWaWV3XCIsIHZhbHVlOiBcIkFic29sdXRlIEVycm9yXCIgfVxuICApO1xuXG4gIGQzLnNlbGVjdCh2aWV3T3B0aW9ucykub24oXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgcmVncmVzc2lvblBsb3QudXBkYXRlVmlldyh2aWV3T3B0aW9ucy52YWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiB2aWV3T3B0aW9ucztcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InJTcXVhcmVkUGxvdCA9IFJTcXVhcmVkUGxvdCh7IHdpZHRoOiB3aWR0aCB9KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoicmVncmVzc2lvblBsb3QgPSB7XG4gIGNvbnN0IHJlZ3Jlc3Npb25QbG90ID0gUmVncmVzc2lvblBsb3QoZGF0YS5zbGljZSgwLCAxKSwge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICB4RG9tYWluOiBbMCwgZDMubWF4KGRhdGEsIChbeF0pID0+IHgpICsgNV0sXG4gICAgeURvbWFpbjogWzAsIGQzLm1heChkYXRhLCAoW18sIHldKSA9PiB5KSArIDVdLFxuICAgIHI6IDYsXG4gICAgc2hvd0dyaWQ6IHRydWVcbiAgfSk7XG4gIC8vIEF0dGFjaCBsaXN0ZW5lclxuICBkMy5zZWxlY3QocmVncmVzc2lvblBsb3QpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJTcXVhcmVkUGxvdC51cGRhdGUodGhpcy52YWx1ZSwgdGhpcy50cmFuc2l0aW9uKTtcbiAgfSk7XG5cbiAgclNxdWFyZWRQbG90LnVwZGF0ZShyZWdyZXNzaW9uUGxvdC52YWx1ZSk7XG5cbiAgcmV0dXJuIHJlZ3Jlc3Npb25QbG90O1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoid2lkdGggPSA4MDBcbmRhdGEgPSB7XG4gIGNvbnN0IG51bVBvaW50cyA9IDE1O1xuICBjb25zdCB4U2NhbGUgPSAxMDtcbiAgY29uc3QgeFNoaWZ0ID0gNTtcbiAgY29uc3QgeVNjYWxlID0gNjtcbiAgY29uc3QgeVNoaWZ0ID0gMDtcblxuICBjb25zdCBkYXRhID0gZDMucmFuZ2UobnVtUG9pbnRzKS5tYXAoKGkpID0+IHtcbiAgICBjb25zdCB4Q29vcmQgPSB4U2hpZnQgKyB4U2NhbGUgKiBkMy5yYW5kb21Vbmlmb3JtKCkoKTtcbiAgICBjb25zdCB5Q29vcmQgPSB5U2hpZnQgKyB4Q29vcmQgKyB5U2NhbGUgKiBkMy5yYW5kb21Vbmlmb3JtKCkoKTtcblxuICAgIHJldHVybiBbeENvb3JkLCB5Q29vcmRdO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImFuaW1hdGlvbiA9IHtcbiAgLy8gUGVyZm9ybSBvcGVuaW5nIGFuaW1hdGlvblxuICBjb25zdCB0b3RhbFRpbWUgPSA2XzAwMDtcbiAgY29uc3QgZWFzZSA9IGQzLmVhc2VRdWFkT3V0O1xuXG4gIGQzLnJhbmdlKDEsIGRhdGEubGVuZ3RoKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBbeENvb3JkLCB5Q29vcmRdID0gZGF0YVtpXTtcblxuICAgICAgcmVncmVzc2lvblBsb3QudXBkYXRlRGF0YXBvaW50KHhDb29yZCwgeUNvb3JkKTtcbiAgICB9LCB0b3RhbFRpbWUgKiBlYXNlKGkgLyBkYXRhLmxlbmd0aCkpO1xuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZ1bmN0aW9uIFJTcXVhcmVkUGxvdCh7XG4gIGRhdGEsXG4gIG1hcmdpblRvcCA9IDAsIC8vIHRvcCBtYXJnaW4sIGluIHBpeGVsc1xuICBtYXJnaW5SaWdodCA9IDMwLCAvLyByaWdodCBtYXJnaW4sIGluIHBpeGVsc1xuICBtYXJnaW5Cb3R0b20gPSAwLCAvLyBib3R0b20gbWFyZ2luLCBpbiBwaXhlbHNcbiAgbWFyZ2luTGVmdCA9IDUzLCAvLyBsZWZ0IG1hcmdpbiwgaW4gcGl4ZWxzXG4gIHdpZHRoID0gNjQwLCAvLyBvdXRlciB3aWR0aCwgaW4gcGl4ZWxzXG4gIGhlaWdodCA9IDIwLCAvLyBvdXRlciBoZWlnaHQsIGluIHBpeGVsc1xuICBiYXJIZWlnaHQgPSAyNSwgLy8gaGVpZ2h0IG9mIGJhciwgaW4gcGl4ZWxzXG4gIHRpdGxlU2l6ZSA9IDIwLCAvLyBmb250c2l6ZSBvZiB0aXRsZSB0ZXh0XG4gIGxhYmVsU2l6ZSA9IDEyIC8vIGZvbnRzaXplIG9mIGxhYmVsIHRleHRcbn0gPSB7fSkge1xuICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSBkYXRhID0gMDtcblxuICBjb25zdCB4U2NhbGUgPSBkM1xuICAgIC5zY2FsZUxpbmVhcigpXG4gICAgLmRvbWFpbihbMCwgMV0pXG4gICAgLnJhbmdlKFttYXJnaW5MZWZ0LCB3aWR0aCAtIG1hcmdpblJpZ2h0XSk7XG5cbiAgY29uc3Qgc3ZnID0gZDNcbiAgICAuY3JlYXRlKFwic3ZnXCIpXG4gICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcbiAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQpXG4gICAgLmF0dHIoXCJ2aWV3Qm94XCIsIFswLCAwLCB3aWR0aCwgaGVpZ2h0XSlcbiAgICAuYXR0cihcInN0eWxlXCIsIFwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IGhlaWdodDogaW50cmluc2ljO1wiKTtcblxuICAvLyBEcmF3IHRpdGxlLlxuICBjb25zdCB0aXRsZUdyb3VwID0gc3ZnLmFwcGVuZChcImdcIik7XG5cbiAgLy8gdGl0bGVHcm91cFxuICAvLyAgIC5hcHBlbmQoXCJsaW5lXCIpXG4gIC8vICAgLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxuICAvLyAgIC5hdHRyKFwieDFcIiwgeFNjYWxlKDApKVxuICAvLyAgIC5hdHRyKFwieDJcIiwgeFNjYWxlKDApKVxuICAvLyAgIC5hdHRyKFwieTFcIiwgMClcbiAgLy8gICAuYXR0cihcInkyXCIsIGhlaWdodCk7XG5cbiAgdGl0bGVHcm91cFxuICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLmF0dHIoXCJmaWxsXCIsIFwiYmxhY2tcIilcbiAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgLmF0dHIoXCJkb21pbmFudC1iYXNlbGluZVwiLCBcIm1pZGRsZVwiKVxuICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzZXJpZlwiKVxuICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIHRpdGxlU2l6ZSlcbiAgICAuYXR0cihcInhcIiwgeFNjYWxlKDApKVxuICAgIC5hdHRyKFwiZHhcIiwgLTEwKVxuICAgIC5hdHRyKFwieVwiLCBoZWlnaHQgLyAyKVxuICAgIC50ZXh0KFwiUsKyXCIpO1xuXG4gIC8vIERyYXcgd2hvbGUgYmFyLlxuICBzdmdcbiAgICAuYXBwZW5kKFwiZ1wiKVxuICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgLmF0dHIoXCJmaWxsXCIsIFwiZ2FpbnNib3JvXCIpXG4gICAgLmF0dHIoXCJ4XCIsIHhTY2FsZSgwKSlcbiAgICAuYXR0cihcInlcIiwgbWFyZ2luVG9wKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggLSBtYXJnaW5MZWZ0IC0gbWFyZ2luUmlnaHQpXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0IC0gbWFyZ2luVG9wIC0gbWFyZ2luQm90dG9tKTtcblxuICAvLyBEcmF3IGJhci5cbiAgY29uc3QgYmFyID0gdXBkYXRlQmFyKHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcInJlY3RcIiksIDApO1xuXG4gIC8vIERyYXcgbGFiZWxcbiAgY29uc3QgbGFiZWxGb3JtYXQgPSBkMy5mb3JtYXQoXCIuMmZcIik7XG4gIGNvbnN0IGxhYmVsID0gdXBkYXRlTGFiZWwoc3ZnLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwidGV4dFwiKSwgMCk7XG5cbiAgLy8gVXBkYXRlIGFjY29yZGluZyB0byBkYXRhLlxuICB1cGRhdGUoZGF0YSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlQmFyKHJlY3QsIGRhdGEsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgcmV0dXJuIHJlY3QuZGF0YShbZGF0YV0pLmpvaW4oXG4gICAgICAoZW50ZXIpID0+XG4gICAgICAgIGVudGVyXG4gICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCB4U2NhbGUoMCkpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIG1hcmdpblRvcClcbiAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0IC0gbWFyZ2luVG9wIC0gbWFyZ2luQm90dG9tKSxcbiAgICAgICh1cGRhdGUpID0+XG4gICAgICAgIHVwZGF0ZS5jYWxsKCh1cGRhdGUpID0+IHtcbiAgICAgICAgICBpZiAodHJhbnNpdGlvbikgdXBkYXRlID0gdXBkYXRlLnRyYW5zaXRpb24oKTtcblxuICAgICAgICAgIHVwZGF0ZS5hdHRyKFwid2lkdGhcIiwgKGQpID0+IHhTY2FsZShpc05hTihkKSA/IDAgOiBkKSAtIHhTY2FsZSgwKSk7XG4gICAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKHRleHQsIGRhdGEsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgcmV0dXJuIHRleHQuZGF0YShbZGF0YV0pLmpvaW4oXG4gICAgICAoZW50ZXIpID0+XG4gICAgICAgIGVudGVyXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcImRvbWluYW50LWJhc2VsaW5lXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJmb250LWZhbWlseVwiLCBcInNhbnMtc2VyaWZcIilcbiAgICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBsYWJlbFNpemUpXG4gICAgICAgICAgLmF0dHIoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgIC5hdHRyKFwiZHhcIiwgMTApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIHhTY2FsZSgwKSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgaGVpZ2h0IC8gMilcbiAgICAgICAgICAudGV4dChsYWJlbEZvcm1hdChcIjBcIikpLFxuICAgICAgKHVwZGF0ZSkgPT5cbiAgICAgICAgdXBkYXRlLmNhbGwoKHVwZGF0ZSkgPT4ge1xuICAgICAgICAgIC8vIENoZWNrIGlmIGJhciBpcyB0b28gc2hvcnRcbiAgICAgICAgICBjb25zdCBjaGVjayA9IChkKSA9PiBkIDwgMC4xO1xuXG4gICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHVwZGF0ZSA9IHVwZGF0ZS50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgICB1cGRhdGVcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geFNjYWxlKGQpKVxuICAgICAgICAgICAgLnRleHQoKGQpID0+IGxhYmVsRm9ybWF0KGQpKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiAoY2hlY2soZCkgPyBcImJsYWNrXCIgOiBcIndoaXRlXCIpKVxuICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCAoZCkgPT4gKGNoZWNrKGQpID8gXCJzdGFydFwiIDogXCJlbmRcIikpXG4gICAgICAgICAgICAuYXR0cihcImR4XCIsIChkKSA9PiAoY2hlY2soZCkgPyAxMCA6IC0xMCkpO1xuICAgICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvLyBNYWluIGZ1bmN0aW9uIGZvciBkYXRhIHVwZGF0ZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZShkYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIHVwZGF0ZUJhcihiYXIsIGRhdGEsIHRyYW5zaXRpb24pO1xuICAgIHVwZGF0ZUxhYmVsKGxhYmVsLCBkYXRhLCB0cmFuc2l0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHN2Zy5ub2RlKCksIHsgdXBkYXRlIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy8gdG8gZHJhdyBsaW5lcyBhdCB0aGUgb3JpZ2luICh0byBzaG93IGludGVyY2VwdCBhbmQgc3R1ZmYpXG4vLyBjcmVhdGUgdm9yb25vaSBvdmVybGF5PyBmb3IgZHJhZ2dpbmcgcG9pbnRzXG4vLyB2aXogZXJyb3IgLyBzcXVhcmVkIGVycm9yXG4vLyBtYWtlIHRoZSBlcnJvciBsaW5lcyBsb29rIGxpa2UgYSB3ZWlnaHRcbi8vIHNob3cgb3RoZXIgbWV0cmljcyBsaWtlIFJeMiBldGMuXG5mdW5jdGlvbiBSZWdyZXNzaW9uUGxvdChcbiAgZGF0YSxcbiAge1xuICAgIHggPSAoW3hdKSA9PiB4LCAvLyBhY2Nlc3NvciBmdW5jdGlvbiBmb3IgeC1jb29yZGluYXRlXG4gICAgeSA9IChbLCB5XSkgPT4geSwgLy8gYWNjZXNzb3IgZnVuY3Rpb24gZm9yIHktY29vcmRpbmF0ZVxuICAgIHIgPSA2LCAvLyByYWRpdXMgb2YgZG90cywgaW4gcGl4ZWxzXG4gICAgbWFyZ2luVG9wID0gMjAsIC8vIHRvcCBtYXJnaW4sIGluIHBpeGVsc1xuICAgIG1hcmdpblJpZ2h0ID0gMzAsIC8vIHJpZ2h0IG1hcmdpbiwgaW4gcGl4ZWxzXG4gICAgbWFyZ2luQm90dG9tID0gMzAsIC8vIGJvdHRvbSBtYXJnaW4sIGluIHBpeGVsc1xuICAgIG1hcmdpbkxlZnQgPSA0MCwgLy8gbGVmdCBtYXJnaW4sIGluIHBpeGVsc1xuICAgIGluc2V0ID0gciAqIDIsIC8vIGluc2V0IHRoZSBkZWZhdWx0IHJhbmdlLCBpbiBwaXhlbHNcbiAgICBpbnNldFRvcCA9IGluc2V0LCAvLyBpbnNldCB0aGUgZGVmYXVsdCB5LXJhbmdlXG4gICAgaW5zZXRSaWdodCA9IGluc2V0LCAvLyBpbnNldCB0aGUgZGVmYXVsdCB4LXJhbmdlXG4gICAgaW5zZXRCb3R0b20gPSBpbnNldCwgLy8gaW5zZXQgdGhlIGRlZmF1bHQgeS1yYW5nZVxuICAgIGluc2V0TGVmdCA9IGluc2V0LCAvLyBpbnNldCB0aGUgZGVmYXVsdCB4LXJhbmdlXG4gICAgd2lkdGggPSA2NDAsIC8vIG91dGVyIHdpZHRoLCBpbiBwaXhlbHNcbiAgICBoZWlnaHQgPSA1MDAsIC8vIG91dGVyIGhlaWdodCwgaW4gcGl4ZWxzXG4gICAgeFR5cGUgPSBkMy5zY2FsZUxpbmVhciwgLy8gdHlwZSBvZiB4LXNjYWxlXG4gICAgeERvbWFpbiwgLy8gW3htaW4sIHhtYXhdXG4gICAgeFJhbmdlID0gW21hcmdpbkxlZnQgKyBpbnNldExlZnQsIHdpZHRoIC0gbWFyZ2luUmlnaHQgLSBpbnNldFJpZ2h0XSwgLy8gW2xlZnQsIHJpZ2h0XVxuICAgIHlUeXBlID0gZDMuc2NhbGVMaW5lYXIsIC8vIHR5cGUgb2YgeS1zY2FsZVxuICAgIHlEb21haW4sIC8vIFt5bWluLCB5bWF4XVxuICAgIHlSYW5nZSA9IFtoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBpbnNldEJvdHRvbSwgbWFyZ2luVG9wICsgaW5zZXRUb3BdLCAvLyBbYm90dG9tLCB0b3BdXG4gICAgc2hvd0dyaWQgPSB0cnVlIC8vIHdoZXRoZXIgdG8gc2hvdyBncmlkIGxpbmVzXG4gIH0gPSB7fVxuKSB7XG4gIGNvbnN0IGVycm9yQ29sb3IgPSBkMy5zY2hlbWVTZXQzWzNdO1xuXG4gIGxldCBlcnJvckxpbmVzT3BhY2l0eSA9IDE7XG4gIGxldCBlcnJvclNxdWFyZXNPcGFjaXR5ID0gMDtcblxuICAvLyBJbml0IGRyYWcgb2JqZWN0LlxuICBjb25zdCBkcmFnID0gZDNcbiAgICAuZHJhZygpXG4gICAgLy8gLm9uKFwic3RhcnRcIiwgZHJhZ3N0YXJ0ZWQpXG4gICAgLm9uKFwiZHJhZ1wiLCBkcmFnZ2VkKTtcbiAgLy8gLm9uKFwiZW5kXCIsIGRyYWdlbmRlZCk7XG5cbiAgLy8gVG8gZ2l2ZSBlYWNoIGRhdGEgcG9pbnQgYSB1bmlxdWUgaWRcbiAgbGV0IGlkQ291bnRlciA9IDA7XG5cbiAgLy8gQ29tcHV0ZSBkYXRhIHZhbHVlcy5cbiAgZGF0YSA9IGRhdGEubWFwKChkKSA9PiAoe1xuICAgIHhDb29yZDogeChkKSxcbiAgICB5Q29vcmQ6IHkoZCksXG4gICAgaWQ6IGlkQ291bnRlcisrXG4gIH0pKTtcblxuICAvLyBTdG9yZSBjb3B5IG9mIGluaXRpYWwgZGF0YSBvYmplY3RcbiAgY29uc3QgaW5pdERhdGEgPSBkYXRhLm1hcCgoZCkgPT4gKHsgLi4uZCB9KSk7XG5cbiAgLy8gQ29tcHV0ZSBkZWZhdWx0IGRvbWFpbnMuXG4gIC8vIGlmICh4RG9tYWluID09PSB1bmRlZmluZWQpIHhEb21haW4gPSBkMy5leHRlbnQoZGF0YSwgKGQpID0+IGQueENvb3JkKTtcbiAgaWYgKHhEb21haW4gPT09IHVuZGVmaW5lZCkgeERvbWFpbiA9IFswLCBkMy5tYXgoZGF0YSwgKGQpID0+IGQueENvb3JkKV07XG4gIGlmICh5RG9tYWluID09PSB1bmRlZmluZWQpIHlEb21haW4gPSBbMCwgZDMubWF4KGRhdGEsIChkKSA9PiBkLnlDb29yZCldO1xuXG4gIC8vIEluaXQgbGluZWFyIHJlZ3Jlc3Nvci5cbiAgY29uc3QgbGluZWFyUmVncmVzc2lvbiA9IGQzXG4gICAgLnJlZ3Jlc3Npb25MaW5lYXIoKVxuICAgIC54KChkKSA9PiBkLnhDb29yZClcbiAgICAueSgoZCkgPT4gZC55Q29vcmQpXG4gICAgLmRvbWFpbih4RG9tYWluKTtcblxuICAvLyBDb25zdHJ1Y3Qgc2NhbGVzIGFuZCBheGVzLlxuICBjb25zdCB4U2NhbGUgPSB4VHlwZSh4RG9tYWluLCB4UmFuZ2UpO1xuICBjb25zdCB5U2NhbGUgPSB5VHlwZSh5RG9tYWluLCB5UmFuZ2UpO1xuICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrcyh3aWR0aCAvIDgwKTtcbiAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpLnRpY2tzKGhlaWdodCAvIDgwKTtcblxuICAvLyBEcmF3IHN2Zy5cbiAgY29uc3Qgc3ZnID0gZDNcbiAgICAuY3JlYXRlKFwic3ZnXCIpXG4gICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcbiAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQpXG4gICAgLmF0dHIoXCJ2aWV3Qm94XCIsIFswLCAwLCB3aWR0aCwgaGVpZ2h0XSlcbiAgICAuYXR0cihcInN0eWxlXCIsIFwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IGhlaWdodDogaW50cmluc2ljO1wiKTtcblxuICAvLyBEcmF3IHhBeGlzLlxuICBjb25zdCBheGlzT3BhY2l0eSA9IDE7XG5cbiAgY29uc3QgeEdyb3VwID0gc3ZnXG4gICAgLmFwcGVuZChcImdcIilcbiAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHQgLSBtYXJnaW5Cb3R0b219KWApXG4gICAgLmF0dHIoXCJvcGFjaXR5XCIsIGF4aXNPcGFjaXR5KVxuICAgIC5jYWxsKHhBeGlzKVxuICAgIC5jYWxsKChnKSA9PiBnLnNlbGVjdChcIi5kb21haW5cIikucmVtb3ZlKCkpO1xuICAvLyBEcmF3IGdyaWQgbGluZXNcbiAgeEdyb3VwXG4gICAgLnNlbGVjdEFsbChcIi50aWNrIGxpbmVcIilcbiAgICAuY2xvbmUoKVxuICAgIC5hdHRyKFwieTJcIiwgbWFyZ2luVG9wICsgbWFyZ2luQm90dG9tIC0gaGVpZ2h0KVxuICAgIC8vIERyYXcgbGluZSBhdCBvcmlnaW5cbiAgICAuYXR0cihcInN0cm9rZS1vcGFjaXR5XCIsIChkKSA9PiB7XG4gICAgICBpZiAoZCA9PSAwKSB7XG4gICAgICAgIHJldHVybiBheGlzT3BhY2l0eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzaG93R3JpZCA/IDAuMSA6IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gRHJhdyB5QXhpcy5cbiAgY29uc3QgeUdyb3VwID0gc3ZnXG4gICAgLmFwcGVuZChcImdcIilcbiAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7bWFyZ2luTGVmdH0sMClgKVxuICAgIC5hdHRyKFwib3BhY2l0eVwiLCBheGlzT3BhY2l0eSlcbiAgICAuY2FsbCh5QXhpcylcbiAgICAuY2FsbCgoZykgPT4gZy5zZWxlY3QoXCIuZG9tYWluXCIpLnJlbW92ZSgpKTtcbiAgeUdyb3VwXG4gICAgLnNlbGVjdEFsbChcIi50aWNrIGxpbmVcIilcbiAgICAuY2xvbmUoKVxuICAgIC5hdHRyKFwieDJcIiwgd2lkdGggLSBtYXJnaW5MZWZ0IC0gbWFyZ2luUmlnaHQpXG4gICAgLy8gRHJhdyBsaW5lIGF0IG9yaWdpblxuICAgIC5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIiwgKGQpID0+IHtcbiAgICAgIGlmIChkID09IDApIHtcbiAgICAgICAgcmV0dXJuIGF4aXNPcGFjaXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNob3dHcmlkID8gMC4xIDogMDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBEcmF3IGVycm9yIHNxdWFyZXMuXG4gIGxldCBlcnJvclNxdWFyZXMgPSB1cGRhdGVFcnJvclNxdWFyZXMoXG4gICAgc3ZnLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwicmVjdFwiKSxcbiAgICBkYXRhXG4gICk7XG5cbiAgLy8gRHJhdyBlcnJvciBsaW5lcy5cbiAgbGV0IGVycm9yTGluZXMgPSB1cGRhdGVFcnJvckxpbmVzKHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcImxpbmVcIiksIGRhdGEpO1xuXG4gIC8vIERyYXcgcmVncmVzc2lvbiBsaW5lLlxuICBjb25zdCByZWdyZXNzaW9uTGluZUdyb3VwID0gc3ZnXG4gICAgLmFwcGVuZChcImdcIilcbiAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpXG4gICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMik7XG4gIC8vIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCBcIjIwLDIwXCIpO1xuXG4gIGNvbnN0IHJlZ3Jlc3Npb25MaW5lID0gdXBkYXRlUmVncmVzc2lvbkxpbmUoXG4gICAgcmVncmVzc2lvbkxpbmVHcm91cC5zZWxlY3RBbGwoXCJsaW5lXCIpLFxuICAgIGRhdGFcbiAgKTtcblxuICAvLyBEcmF3IHNwYWNlIGZvciBwbG90IGludGVyYWN0aW9ucy5cbiAgY29uc3QgcGxvdFJlY3QgPSBzdmdcbiAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KVxuICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwKVxuICAgIC5vbihcImNsaWNrXCIsIGFkZERhdGFwb2ludCk7XG5cbiAgLy8gRHJhdyBkYXRhIHBvaW50cy5cbiAgY29uc3QgY2lyY2xlc0dyb3VwID0gc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKTtcbiAgbGV0IGNpcmNsZXMgPSB1cGRhdGVDaXJjbGVzKGNpcmNsZXNHcm91cC5zZWxlY3RBbGwoXCJjaXJjbGVcIiksIGRhdGEpO1xuXG4gIC8vIERyYWcgaW50ZXJhY3Rpb25zIGZvciBjaXJjbGVzLlxuICBmdW5jdGlvbiBkcmFnc3RhcnRlZChldmVudCwgZCkge1xuICAgIGQzLnNlbGVjdCh0aGlzKS5yYWlzZSgpLmF0dHIoXCJzdHJva2VcIiwgXCJyZWRcIik7XG4gIH1cbiAgZnVuY3Rpb24gZHJhZ2dlZChldmVudCwgZCkge1xuICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgLy8gVXBkYXRlIGRhdGEgcG9pbnQsIGFzIHdlbGwgYXMgaXRzIHBvc2l0aW9uIG9uIHRoZSBwbG90XG4gICAgICAuYXR0cihcImN4XCIsICgpID0+IHtcbiAgICAgICAgZC54Q29vcmQgPSB4U2NhbGUuaW52ZXJ0KGV2ZW50LngpO1xuICAgICAgICByZXR1cm4gZXZlbnQueDtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN5XCIsICgpID0+IHtcbiAgICAgICAgZC55Q29vcmQgPSB5U2NhbGUuaW52ZXJ0KGV2ZW50LnkpO1xuICAgICAgICByZXR1cm4gZXZlbnQueTtcbiAgICAgIH0pO1xuXG4gICAgdXBkYXRlUmVncmVzc2lvbkxpbmUocmVncmVzc2lvbkxpbmUsIGRhdGEsIGZhbHNlKTtcbiAgICBlcnJvclNxdWFyZXMgPSB1cGRhdGVFcnJvclNxdWFyZXMoZXJyb3JTcXVhcmVzLCBkYXRhLCBmYWxzZSk7XG4gICAgZXJyb3JMaW5lcyA9IHVwZGF0ZUVycm9yTGluZXMoZXJyb3JMaW5lcywgZGF0YSwgZmFsc2UpO1xuICB9XG4gIGZ1bmN0aW9uIGRyYWdlbmRlZChldmVudCwgaSkge1xuICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwic3Ryb2tlXCIsIG51bGwpO1xuICB9XG5cbiAgLy8gQ2xpY2sgaW50ZXJhY3Rpb24gZm9yIGNpcmNsZXMuXG4gIGZ1bmN0aW9uIHJlbW92ZURhdGFwb2ludChldmVudCwgZEN1cnIpIHtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuOyAvLyBkcmFnZ2VkXG5cbiAgICAvLyBSZW1vdmUgZGF0YSBwb2ludDsgZmFzdGVyIHdheSB0byBkbyB0aGlzP1xuICAgIGRhdGEgPSBkYXRhLmZpbHRlcigoZCkgPT4gZC5pZCAhPT0gZEN1cnIuaWQpO1xuXG4gICAgdXBkYXRlKGRhdGEpO1xuICB9XG5cbiAgLy8gQ2xpY2sgaW50ZXJhY3Rpb24gZm9yIHBsb3QuXG4gIGZ1bmN0aW9uIGFkZERhdGFwb2ludChldmVudCkge1xuICAgIGNvbnN0IFt4bSwgeW1dID0gZDMucG9pbnRlcihldmVudCk7XG5cbiAgICB1cGRhdGVEYXRhcG9pbnQoeFNjYWxlLmludmVydCh4bSksIHlTY2FsZS5pbnZlcnQoeW0pKTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiBmb3IgcmVncmVzc2lvbiBsaW5lIHVwZGF0ZS5cbiAgZnVuY3Rpb24gdXBkYXRlUmVncmVzc2lvbkxpbmUobGluZSwgZGF0YSwgdHJhbnNpdGlvbiA9IHRydWUpIHtcbiAgICBjb25zdCByZWdyZXNzaW9uRGF0YSA9IGxpbmVhclJlZ3Jlc3Npb24oZGF0YSk7XG5cbiAgICAvLyBEaXNwYXRjaCBldmVudCBhbmQgUl4yIHZhbHVlXG4gICAgc3ZnLm5vZGUoKS52YWx1ZSA9IHJlZ3Jlc3Npb25EYXRhLnJTcXVhcmVkO1xuICAgIHN2Zy5ub2RlKCkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgc3ZnLmRpc3BhdGNoKFwiaW5wdXRcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xuXG4gICAgcmV0dXJuIGxpbmVcbiAgICAgIC5kYXRhKFtyZWdyZXNzaW9uRGF0YV0pXG4gICAgICAuam9pbihcImxpbmVcIilcbiAgICAgIC5jYWxsKChsaW5lKSA9PiB7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSBsaW5lID0gbGluZS50cmFuc2l0aW9uKCk7XG4gICAgICAgIGxpbmVcbiAgICAgICAgICAuYXR0cihcIngxXCIsIChkKSA9PiB4U2NhbGUoZFswXVswXSkpXG4gICAgICAgICAgLmF0dHIoXCJ4MlwiLCAoZCkgPT4geFNjYWxlKGRbMV1bMF0pKVxuICAgICAgICAgIC5hdHRyKFwieTFcIiwgKGQpID0+IHlTY2FsZShkWzBdWzFdKSlcbiAgICAgICAgICAuYXR0cihcInkyXCIsIChkKSA9PiB5U2NhbGUoZFsxXVsxXSkpO1xuICAgICAgfSk7XG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGNpcmNsZXMgYmFzZWQgb24gbmV3IGRhdGEuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNpcmNsZXMoY2lyY2xlcywgZGF0YSkge1xuICAgIHJldHVybiBjaXJjbGVzXG4gICAgICAuZGF0YShkYXRhLCAoZCkgPT4gZC5pZClcbiAgICAgIC5qb2luKFxuICAgICAgICAoZW50ZXIpID0+XG4gICAgICAgICAgZW50ZXJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHhTY2FsZShkLnhDb29yZCkpXG4gICAgICAgICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB5U2NhbGUoZC55Q29vcmQpKVxuICAgICAgICAgICAgLy8gVG8gdHJhbnNpdGlvbiBmcm9tIDAgcmFkaXVzXG4gICAgICAgICAgICAuYXR0cihcInJcIiwgMClcbiAgICAgICAgICAgIC8vIEF0dGFjaCBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgIC5jYWxsKGRyYWcpXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCByZW1vdmVEYXRhcG9pbnQpXG4gICAgICAgICAgICAvLyBBZGQgdHJhbnNpdGlvblxuICAgICAgICAgICAgLmNhbGwoKGVudGVyKSA9PlxuICAgICAgICAgICAgICBlbnRlclxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuZWFzZShkMy5lYXNlQmFja091dC5vdmVyc2hvb3QoMS43KSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInJcIiwgcilcbiAgICAgICAgICAgICksXG4gICAgICAgICh1cGRhdGUpID0+XG4gICAgICAgICAgdXBkYXRlXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB4U2NhbGUoZC54Q29vcmQpKVxuICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSksXG4gICAgICAgIChleGl0KSA9PlxuICAgICAgICAgIGV4aXRcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5lYXNlKGQzLmVhc2VCYWNrSW4ub3ZlcnNob290KDEuNykpXG4gICAgICAgICAgICAuYXR0cihcInJcIiwgMClcbiAgICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgKTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgZXJyb3IgbGluZXMgYmFzZWQgb24gbmV3IGRhdGEuXG4gIGZ1bmN0aW9uIHVwZGF0ZUVycm9yTGluZXMobGluZXMsIGRhdGEsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgY29uc3QgcmVncmVzc2lvbkRhdGEgPSBsaW5lYXJSZWdyZXNzaW9uKGRhdGEpO1xuXG4gICAgcmV0dXJuIGxpbmVzXG4gICAgICAuZGF0YShkYXRhLCAoZCkgPT4gZC5pZClcbiAgICAgIC5qb2luKFxuICAgICAgICAoZW50ZXIpID0+XG4gICAgICAgICAgZW50ZXJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJsaW5lXCIpXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBlcnJvckNvbG9yKVxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMilcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCBlcnJvckxpbmVzT3BhY2l0eSlcbiAgICAgICAgICAgIC8vIFN0YXJ0IGF0IGRhdGEgcG9pbnRcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgKGQpID0+IHhTY2FsZShkLnhDb29yZCkpXG4gICAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB5U2NhbGUoZC55Q29vcmQpKVxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgKGQpID0+IHlTY2FsZShkLnlDb29yZCkpXG4gICAgICAgICAgICAvLyBBZGQgdHJhbnNpdGlvblxuICAgICAgICAgICAgLmNhbGwoKGVudGVyKSA9PlxuICAgICAgICAgICAgICBlbnRlclxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIChkKSA9PiB5U2NhbGUocmVncmVzc2lvbkRhdGEucHJlZGljdChkLnhDb29yZCkpKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgKHVwZGF0ZSkgPT5cbiAgICAgICAgICB1cGRhdGUuY2FsbCgodXBkYXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbikgdXBkYXRlID0gdXBkYXRlLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgIHVwZGF0ZVxuICAgICAgICAgICAgICAuYXR0cihcIngxXCIsIChkKSA9PiB4U2NhbGUoZC54Q29vcmQpKVxuICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB5U2NhbGUoZC55Q29vcmQpKVxuICAgICAgICAgICAgICAuYXR0cihcIngyXCIsIChkKSA9PiB4U2NhbGUoZC54Q29vcmQpKVxuICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIChkKSA9PiB5U2NhbGUocmVncmVzc2lvbkRhdGEucHJlZGljdChkLnhDb29yZCkpKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKGV4aXQpID0+XG4gICAgICAgICAgZXhpdFxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgKTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgZXJyb3Igc3F1YXJlcyBiYXNlZCBvbiBuZXcgZGF0YS5cbiAgZnVuY3Rpb24gdXBkYXRlRXJyb3JTcXVhcmVzKHJlY3RzLCBkYXRhLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuICAgIGNvbnN0IHJlZ3Jlc3Npb25EYXRhID0gbGluZWFyUmVncmVzc2lvbihkYXRhKTtcblxuICAgIGNvbnN0IGNvbXB1dGVIZWlnaHQgPSAoZCkgPT4ge1xuICAgICAgY29uc3QgeUNvb3JkUHJlZCA9IHJlZ3Jlc3Npb25EYXRhLnByZWRpY3QoZC54Q29vcmQpO1xuXG4gICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKHlDb29yZFByZWQpIC0geVNjYWxlKGQueUNvb3JkKSk7XG4gICAgfTtcbiAgICAvLyBDb21wdXRlIHdoaWNoIGRpcmVjdGlvbiB0aGUgYm94IHNob3VsZCBmYWNlXG4gICAgY29uc3QgY29tcHV0ZVRyYW5zZm9ybSA9IChkKSA9PiB7XG4gICAgICBjb25zdCB5Q29vcmRQcmVkID0gcmVncmVzc2lvbkRhdGEucHJlZGljdChkLnhDb29yZCk7XG4gICAgICBjb25zdCBjaGVjayA9IHlTY2FsZSh5Q29vcmRQcmVkKSAtIHlTY2FsZShkLnlDb29yZCkgPCAwO1xuICAgICAgY29uc3QgZGVnID0gY2hlY2sgPyAtOTAgOiA5MDtcblxuICAgICAgcmV0dXJuIGByb3RhdGUoJHtkZWd9LCAke3hTY2FsZShkLnhDb29yZCl9LCAke3lTY2FsZShkLnlDb29yZCl9KWA7XG4gICAgfTtcblxuICAgIHJldHVybiByZWN0c1xuICAgICAgLmRhdGEoZGF0YSwgKGQpID0+IGQuaWQpXG4gICAgICAuam9pbihcbiAgICAgICAgKGVudGVyKSA9PlxuICAgICAgICAgIGVudGVyXG4gICAgICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJub25lXCIpXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgZXJyb3JDb2xvcilcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCBlcnJvclNxdWFyZXNPcGFjaXR5KVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgY29tcHV0ZVRyYW5zZm9ybSlcbiAgICAgICAgICAgIC8vIFN0YXJ0IGF0IGRhdGEgcG9pbnRcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geVNjYWxlKGQueUNvb3JkKSlcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgMClcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIDApXG4gICAgICAgICAgICAvLyBBZGQgdHJhbnNpdGlvblxuICAgICAgICAgICAgLmNhbGwoKGVudGVyKSA9PiB7XG4gICAgICAgICAgICAgIGVudGVyXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgY29tcHV0ZUhlaWdodClcbiAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBjb21wdXRlSGVpZ2h0KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAodXBkYXRlKSA9PlxuICAgICAgICAgIHVwZGF0ZS5jYWxsKCh1cGRhdGUpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZS5hdHRyKFwidHJhbnNmb3JtXCIsIGNvbXB1dGVUcmFuc2Zvcm0pO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbikgdXBkYXRlID0gdXBkYXRlLnRyYW5zaXRpb24oKTtcblxuICAgICAgICAgICAgdXBkYXRlXG4gICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geFNjYWxlKGQueENvb3JkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB5U2NhbGUoZC55Q29vcmQpKVxuICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGNvbXB1dGVIZWlnaHQpXG4gICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGNvbXB1dGVIZWlnaHQpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAoZXhpdCkgPT4gZXhpdC50cmFuc2l0aW9uKCkuYXR0cihcIndpZHRoXCIsIDApLmF0dHIoXCJoZWlnaHRcIiwgMCkucmVtb3ZlKClcbiAgICAgICk7XG4gIH1cblxuICAvLyBSZXNldHMgdGhlIHBsb3QgdG8gdGhlIGluaXRpYWwgZGF0YVxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB1cGRhdGUoaW5pdERhdGEsIHRydWUpO1xuICB9XG5cbiAgLy8gVXBkYXRlcyB3aGljaCBlcnJvciB0eXBlIHRvIHNob3dcbiAgZnVuY3Rpb24gdXBkYXRlVmlldyhvcHRpb24pIHtcbiAgICBpZiAob3B0aW9uID09PSBcIk5vbmVcIikge1xuICAgICAgZXJyb3JMaW5lc09wYWNpdHkgPSAwO1xuICAgICAgZXJyb3JTcXVhcmVzT3BhY2l0eSA9IDA7XG5cbiAgICAgIGVycm9yTGluZXMudHJhbnNpdGlvbigpLmF0dHIoXCJvcGFjaXR5XCIsIDApO1xuICAgICAgZXJyb3JTcXVhcmVzLnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJBYnNvbHV0ZSBFcnJvclwiKSB7XG4gICAgICBlcnJvckxpbmVzT3BhY2l0eSA9IDE7XG4gICAgICBlcnJvclNxdWFyZXNPcGFjaXR5ID0gMDtcblxuICAgICAgZXJyb3JMaW5lcy50cmFuc2l0aW9uKCkuYXR0cihcIm9wYWNpdHlcIiwgMSk7XG4gICAgICBlcnJvclNxdWFyZXMudHJhbnNpdGlvbigpLmF0dHIoXCJvcGFjaXR5XCIsIDApO1xuICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcIlNxdWFyZWQgRXJyb3JcIikge1xuICAgICAgZXJyb3JMaW5lc09wYWNpdHkgPSAwO1xuICAgICAgZXJyb3JTcXVhcmVzT3BhY2l0eSA9IDAuNTtcblxuICAgICAgZXJyb3JMaW5lcy50cmFuc2l0aW9uKCkuYXR0cihcIm9wYWNpdHlcIiwgMCk7XG4gICAgICBlcnJvclNxdWFyZXMudHJhbnNpdGlvbigpLmF0dHIoXCJvcGFjaXR5XCIsIDAuNSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkcyBhIG5ldyBkYXRhcG9pbnQgYW5kIHVwZGF0ZXMgdGhlIHBsb3RcbiAgZnVuY3Rpb24gdXBkYXRlRGF0YXBvaW50KHhDb29yZCwgeUNvb3JkKSB7XG4gICAgLy8gQWRkIGRhdGFwb2ludFxuICAgIGRhdGEgPSBbLi4uZGF0YSwgeyB4Q29vcmQsIHlDb29yZCwgaWQ6IGlkQ291bnRlcisrIH1dO1xuXG4gICAgdXBkYXRlKGRhdGEpO1xuICB9XG5cbiAgLy8gTWFpbiBmdW5jdGlvbiB0aGF0IHVwZGF0ZXMgdGhlIHBsb3QgYmFzZWQgb24gbmV3IGRhdGFcbiAgZnVuY3Rpb24gdXBkYXRlKG5ld0RhdGEsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgLy8gVXBhdGUgbG9jYWwgZGF0YSBvYmplY3RcbiAgICBkYXRhID0gbmV3RGF0YS5tYXAoKGQpID0+ICh7IC4uLmQgfSkpO1xuXG4gICAgdXBkYXRlUmVncmVzc2lvbkxpbmUocmVncmVzc2lvbkxpbmUsIGRhdGEsIHRyYW5zaXRpb24pO1xuICAgIGNpcmNsZXMgPSB1cGRhdGVDaXJjbGVzKGNpcmNsZXMsIGRhdGEpO1xuICAgIGVycm9yU3F1YXJlcyA9IHVwZGF0ZUVycm9yU3F1YXJlcyhlcnJvclNxdWFyZXMsIGRhdGEsIHRyYW5zaXRpb24pO1xuICAgIGVycm9yTGluZXMgPSB1cGRhdGVFcnJvckxpbmVzKGVycm9yTGluZXMsIGRhdGEsIHRyYW5zaXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oc3ZnLm5vZGUoKSwge1xuICAgIHVwZGF0ZSxcbiAgICB1cGRhdGVEYXRhcG9pbnQsXG4gICAgdXBkYXRlVmlldyxcbiAgICByZXNldFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImQzID0gcmVxdWlyZShcImQzLXJlZ3Jlc3Npb25cIiwgXCJkM1wiKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBzZXR0aW5ncyA9IElucHV0cy5mb3JtKFtcbiAgSW5wdXRzLnJhbmdlKFstNSwgNV0sIHt2YWx1ZTogMSwgbGFiZWw6IHRleGBcXHRleHR7TVcsIH1cXG11YCwgc3RlcDogMC4wMX0pLFxuICBJbnB1dHMucmFuZ2UoWzAuMDEsIDVdLCB7dmFsdWU6IDEsIGxhYmVsOiB0ZXhgXFx0ZXh0e1NELCB9XFxzaWdtYWAsIHN0ZXA6IDAuMDF9KSxcbiAgSW5wdXRzLnJhbmdlKFswLCA5OV0sIHt2YWx1ZTogOTAsIGxhYmVsOiBcIktvbmZpZGVuemxldmVsXCIsIHN0ZXA6IDF9KSxcbiAgSW5wdXRzLnJhbmdlKFswLCAyMDBdLCB7dmFsdWU6IDUwLCBsYWJlbDogXCJuXCIsIHN0ZXA6IDF9KVxuICBdKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBucmVwID0gU2NydWJiZXIoZDMudGlja3MoMSwgMTAwMCwgMTAwMCksIHtcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBsb29wOiBmYWxzZSxcbiAgaW5pdGlhbDogMSxcbiAgZGVsYXk6IDUwMCxcbiAgZm9ybWF0OiB4ID0+IGBBbnphaGwgdm9uIFN0aWNocHJvYmVuID0gJHt4LnRvRml4ZWQoMCl9YFxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ0ZXh0aW5mbyA9IG1kYFxuVm9uIGluc2dlc2FtdCAke25yZXB9IFN0aWNocHJvYmVuLCAke2QzLnN1bShkYXRhLm1hcChkID0+IGQucmVwIDw9IG5yZXAgJiYgKG11ID49IGQubG93ZXIgJiYgbXUgPD0gZC51cHBlcikpKX0gKCoqPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWRcIj4keyhkMy5zdW0oZGF0YS5tYXAoZCA9PiBkLnJlcCA8PSBucmVwICYmIChtdSA+PSBkLmxvd2VyICYmIG11IDw9IGQudXBwZXIpKSkqMTAwL25yZXApLnRvRml4ZWQoMyl9JTwvc3Bhbj4qKikgdm9uIGRlbiAke2NvbmZpZGVuY2V9JSBLb25maW5kZW56aW50ZXJ2YWxsZW4gZW50aGllbHRlbiBkZW4gd2FocmVuICh0YXRzw6RjaGxpY2hlbikgUG9wdWxhdGlvbnN3ZXJ0ICR7dGV4YFxcbXU9IGB9ICR7bXV9LlxuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImxvY2t2ZXJ0aWNhbCA9IElucHV0cy50b2dnbGUoe2xhYmVsOiBcIkFjaHNlIGVpbnJhc3RlblwiLCB2YWx1ZTogZmFsc2V9KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InBsdCA9IFBsb3QucGxvdCh7XG4gIHN0eWxlOiB7Zm9udFNpemU6IFwiMTJweFwifSxcbiAgd2lkdGg6IDk2MCxcbiAgeToge1xuICAgIGxhYmVsOiBcIm1lYW5cIixcbiAgICBkb21haW46IGxvY2t2ZXJ0aWNhbCA/IFttdS0gMywgbXUgKyAzXSA6IFttdSAtIDUqc2lnbWEvTWF0aC5zcXJ0KG5vYnMpLG11ICsgNSpzaWdtYS9NYXRoLnNxcnQobm9icyldXG4gIH0sXG4gIHg6IHtcbiAgICBsYWJlbDogXCJTdGljaHByb2Jlbm51bW1lclwiLFxuICAgIGRvbWFpbjogIFswLCBucmVwXVxuICB9LFxuICBtYXJrczogW1xuICAgIFBsb3QucnVsZVgoWzBdKSwgICAgXG4gICAgUGxvdC5ydWxlWChkYXRhLCB7XG4gICAgICBmaWx0ZXI6IGQgPT4gKGQucmVwIDw9IG5yZXAgJiYgbXUgPj0gZC5sb3dlciAmJiBtdSA8PSBkLnVwcGVyKSxcbiAgICAgIHg6IFwicmVwXCIsXG4gICAgICB5MTogXCJsb3dlclwiLFxuICAgICAgeTI6IFwidXBwZXJcIiwgIFxuICAgICAgc3Ryb2tlOiBcInN0ZWVsYmx1ZVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IDEuNVxuICAgIH0pLFxuICAgIFBsb3QuZG90KGRhdGEsIHtmaWx0ZXI6IGQgPT4gKGQucmVwIDw9IG5yZXAgJiYgbXUgPj0gZC5sb3dlciAmJiBtdSA8PSBkLnVwcGVyKSwgeDogXCJyZXBcIiwgeTogXCJ4YmFyXCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDN9KSxcblxuICAgIFBsb3QucnVsZVgoZGF0YSwge1xuICAgICAgZmlsdGVyOiBkID0+IGQucmVwIDw9IG5yZXAgJiYgKG11IDwgZC5sb3dlciB8fCBtdSA+IGQudXBwZXIpLFxuICAgICAgeDogXCJyZXBcIixcbiAgICAgIHkxOiBcImxvd2VyXCIsXG4gICAgICB5MjogXCJ1cHBlclwiLCAgXG4gICAgICBzdHJva2U6IFwib3JhbmdlXCIsXG4gICAgICBzdHJva2VXaWR0aDogMS41XG4gICAgfSksXG4gICAgUGxvdC5kb3QoZGF0YSwge2ZpbHRlcjogZCA9PiBkLnJlcCA8PSBucmVwICYmIChtdSA8IGQubG93ZXIgfHwgbXUgPiBkLnVwcGVyKSwgeDogXCJyZXBcIiwgeTogXCJ4YmFyXCIsIGZpbGw6IFwib3JhbmdlXCIsIHI6IDN9KSxcbiAgICBQbG90LnJ1bGVZKFttdV0sIHtzdHJva2U6IFwiI0QyMkIyQlwiLCBzdHJva2VXaWR0aDogMS41fSlcblxuICBdXG59KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImpzdGF0ID0gcmVxdWlyZSgnanN0YXQnKVxuaW1wb3J0IHtTY3J1YmJlcn0gZnJvbSBcIkBtYm9zdG9jay9zY3J1YmJlclwiXG5cbmZ1bmN0aW9uIHNpbXVsYXRlX21lYW5zKG11LCBzaWdtYSwgbm9icywgbnJlcCl7XG4gIFxuICBjb25zdCB0dmFsdWUgPSBqc3RhdC5zdHVkZW50dC5pbnYoMS0oMS0oY29uZmlkZW5jZS8xMDApKS8yLCBub2JzLTEpO1xuICB2YXIgZGF0YSA9IFtdO1xuICBmb3IgKGxldCBqID0gMTsgaiA8PSBucmVwOyBqKyspe1xuICAgICAgICBsZXQgc2FtcGxlID0gZDMucmFuZ2Uobm9icykubWFwKGQgPT4gZDMucmFuZG9tTm9ybWFsKG11LHNpZ21hKSgpKVxuICAgICAgICBsZXQgeGJhciA9IGQzLm1lYW4oc2FtcGxlKVxuICAgICAgICBsZXQgcyA9IGpzdGF0LnN0ZGV2KHNhbXBsZSwgdHJ1ZSkgXG4gICAgICAgIGxldCBsb3dlciA9IHhiYXIgLSB0dmFsdWUqcy9NYXRoLnNxcnQobm9icylcbiAgICAgICAgbGV0IHVwcGVyID0geGJhciArIHR2YWx1ZSpzL01hdGguc3FydChub2JzKVxuICAgICAgICBkYXRhLnB1c2goe3JlcDogaiwgeGJhcjogeGJhciwgbG93ZXI6IGxvd2VyLCB1cHBlcjogdXBwZXJ9KVxuICB9XG4gIHJldHVybiBkYXRhXG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibXUgPSAxXG5zaWdtYSA9IDFcbmNvbmZpZGVuY2UgPSA5MFxubm9icyA9IDUwXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZGF0YSA9IHtcbiAgbm9icztcbiAgbXU7XG4gIHNpZ21hO1xuICBjb25zdCBkID0gbmV3IERhdGUoKTtcbiAgbGV0IHRpbWUgPSBkLmdldFRpbWUoKTtcbiAgY29uc3QgZGF0YSA9IHNpbXVsYXRlX21lYW5zKG11LCBzaWdtYSwgbm9icywgMTAwMClcbiAgcmV0dXJuIGRhdGFcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2V0dGluZ3MnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbnJlcCcpIn1dfQ==
</script><script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Einf√ºhrung">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einf√ºhrung</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./0300-Wskt.html" class="pagination-link" aria-label="Wahrscheinlichkeit">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Wahrscheinlichkeit</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sebastiansauer/start-bayes/blob/main/0200-Inferenz.qmd" class="toc-action"><i class="bi bi-github"></i>Quellcode anzeigen</a></li><li><a href="https://github.com/sebastiansauer/start-bayes/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li></ul></div></div></div></footer></body></html>